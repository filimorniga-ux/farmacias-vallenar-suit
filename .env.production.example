# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# ============================================================================
# 
# IMPORTANTE: Este archivo contiene configuración de producción
# NO commitear a git - agregado a .gitignore
# Copiar a servidor y configurar valores reales
#
# ============================================================================

# ============================================================================
# DATABASE (REQUERIDO)
# ============================================================================
# Conexión a PostgreSQL/TimescaleDB
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://usuario:password@host:5432/pharma_synapse_prod

# ============================================================================
# AUTHENTICATION (REQUERIDO)
# ============================================================================
# NextAuth Secret - GENERAR NUEVO con: openssl rand -base64 32
# CRÍTICO: Usar valor único y secreto en producción
NEXTAUTH_SECRET=REPLACE_WITH_GENERATED_SECRET_FROM_OPENSSL

# URL de la aplicación en producción
# Ejemplos:
# - https://app.farmacia-vallenar.cl
# - https://pharma.tudominio.com
NEXTAUTH_URL=https://your-production-domain.com

# ============================================================================
# SECURITY (REQUERIDO)
# ============================================================================
# bcrypt rounds para hashing de PINs
# Recomendado: 10 (balance seguridad/performance)
# Mayor = más seguro pero más lento
BCRYPT_ROUNDS=10

# Token interno para endpoint /api/health/db
# Generar con: openssl rand -hex 32
HEALTHCHECK_TOKEN=REPLACE_WITH_RANDOM_HEX_TOKEN

# ============================================================================
# SII INTEGRATION (OPCIONAL)
# ============================================================================
# Integración con Servicio de Impuestos Internos (Chile)
# Dejar vacío si no se usa
SII_API_KEY=
SII_RUT_EMPRESA=
SII_AMBIENTE=CERTIFICACION  # o PRODUCCION

# ============================================================================
# EMAIL/SMTP (OPCIONAL)
# ============================================================================
# Para notificaciones por email
# Dejar vacío si no se usa
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@tudominio.com

# ============================================================================
# MONITORING (OPCIONAL)
# ============================================================================
# Sentry para error tracking
SENTRY_DSN=

# LogRocket para session replay
LOGROCKET_ID=

# ============================================================================
# FEATURE FLAGS (OPCIONAL)
# ============================================================================
# Habilitar/deshabilitar features
ENABLE_BIOMETRIC_AUTH=false
ENABLE_MOBILE_APP=false

# ============================================================================
# PERFORMANCE (OPCIONAL)
# ============================================================================
# Node.js options
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=4096

# ============================================================================
# NOTAS DE DEPLOYMENT
# ============================================================================
#
# 1. ANTES DE DEPLOYMENT:
#    - Generar NEXTAUTH_SECRET único
#    - Configurar DATABASE_URL con credentials reales
#    - Actualizar NEXTAUTH_URL con dominio real
#
# 2. VERIFICAR:
#    - Database accessible desde servidor
#    - Migraciones 001-007 aplicadas
#    - Tabla audit_log existe
#    - Columna users.access_pin_hash existe
#
# 3. DESPUÉS DE DEPLOYMENT:
#    - Ejecutar: npx tsx src/scripts/pre-deploy-check.ts
#    - Migrar PINs: npx tsx src/scripts/migrate-pins-to-bcrypt.ts
#    - Smoke tests manuales
#
# ============================================================================
