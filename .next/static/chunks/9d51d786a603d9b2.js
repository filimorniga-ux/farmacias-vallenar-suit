(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38622,e=>{"use strict";var t=e.i(47167);let s={sales:[],cashMovements:[],expenses:[],products:[],employees:[]},o=async(e,t)=>new Promise((s,o)=>{setTimeout(()=>{if(.05>Math.random()){console.error(`âŒ [Tiger Data] ${t} failed (simulated network error)`),o(Error(`Network error: ${t} failed`));return}try{let o=e();console.log(`âœ… [Tiger Data] ${t} successful`),s(o)}catch(e){console.error(`âŒ [Tiger Data] ${t} error:`,e),o(e)}},800)}),a={API_BASE_URL:t.default.env.REACT_APP_TIGER_DATA_URL||"http://localhost:3001/api",API_TIMEOUT:1e4,RETRY_ATTEMPTS:3,ENABLE_CACHE:!0,CACHE_DURATION:3e5};e.s(["TigerDataConfig",0,a,"TigerDataService",0,{fetchProducts:async e=>o(()=>{let t=s.products.filter(t=>t.location_id===e||"ALL"===t.location_id);return console.log(`ðŸ“¦ [Tiger Data] Fetched ${t.length} products for location: ${e}`),t},"fetchProducts"),saveSaleTransaction:async(e,t)=>o(()=>{if(!e.items||0===e.items.length)throw Error("Sale must have at least one item");if(e.total<=0)throw Error("Sale total must be greater than 0");let o={...e,branch_id:t,timestamp:Date.now()};return s.sales.push(o),console.log(`ðŸ’° [Tiger Data] Sale saved: $${e.total.toLocaleString("es-CL")} | Items: ${e.items.length} | Payment: ${e.payment_method}`),{success:!0,transactionId:o.id}},"saveSaleTransaction"),saveCashMovement:async e=>o(()=>{if(e.amount<=0)throw Error("Movement amount must be greater than 0");return s.cashMovements.push(e),console.log(`ðŸ’µ [Tiger Data] Cash movement saved: ${e.type} | $${e.amount.toLocaleString("es-CL")}`),{success:!0,movementId:e.id}},"saveCashMovement"),saveExpense:async e=>o(()=>(s.expenses.push(e),console.log(`ðŸ“ [Tiger Data] Expense saved: ${e.category} | $${e.amount.toLocaleString("es-CL")}`),{success:!0,expenseId:e.id}),"saveExpense"),fetchEmployees:async()=>o(()=>(console.log(`ðŸ‘¥ [Tiger Data] Fetched ${s.employees.length} employees`),s.employees),"fetchEmployees"),fetchSalesHistory:async(e,t,a)=>o(()=>{let o=s.sales;return e&&(o=o.filter(t=>t.branch_id===e)),t&&(o=o.filter(e=>e.timestamp>=t)),a&&(o=o.filter(e=>e.timestamp<=a)),console.log(`ðŸ“Š [Tiger Data] Fetched ${o.length} sales transactions`),o},"fetchSalesHistory"),updateInventoryStock:async(e,t,a)=>o(()=>{let o=s.products.find(t=>t.id===e);if(!o)throw Error(`Product not found: ${e}`);if("SUBTRACT"===a){if(o.stock_actual<t)throw Error(`Insufficient stock for ${o.name}`);o.stock_actual-=t}else o.stock_actual+=t;return console.log(`ðŸ“¦ [Tiger Data] Stock updated: ${o.name} | ${a} ${t} | New stock: ${o.stock_actual}`),{success:!0}},"updateInventoryStock"),initializeStorage:e=>{e.products&&(s.products=e.products),e.employees&&(s.employees=e.employees),e.sales&&(s.sales=e.sales),e.cashMovements&&(s.cashMovements=e.cashMovements),e.expenses&&(s.expenses=e.expenses),console.log("ðŸ”„ [Tiger Data] Storage initialized with local data")},getStorageState:()=>({salesCount:s.sales.length,productsCount:s.products.length,employeesCount:s.employees.length,cashMovementsCount:s.cashMovements.length,expensesCount:s.expenses.length})}])}]);