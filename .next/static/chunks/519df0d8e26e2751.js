(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:d,...o},h)=>(0,t.createElement)("svg",{ref:h,...s,width:r,height:r,stroke:e,strokeWidth:n?24*Number(i)/Number(r):i,className:a("lucide",l),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),n=(e,s)=>{let n=(0,t.forwardRef)(({className:n,...l},c)=>(0,t.createElement)(i,{ref:c,iconNode:s,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...l}));return n.displayName=r(e),n};e.s(["default",()=>n],75254)},68834,79473,e=>{"use strict";var t=e.i(71645);let r=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,i);return i},a=e=>{let a=e?r(e):r,s=e=>(function(e,r=e=>e){let a=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>r(e.getState()),[e,r]),t.default.useCallback(()=>r(e.getInitialState()),[e,r]));return t.default.useDebugValue(a),a})(a,e);return Object.assign(s,a),s},s=e=>e?a(e):a;function i(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var a;let s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(a=r.getItem(e))?a:null;return i instanceof Promise?i.then(s):s(i)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}e.s(["create",()=>s],68834);let n=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>n(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},l=(e,t)=>(r,a,s)=>{let l,c={storage:i(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},d=!1,o=new Set,h=new Set,u=c.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...e)},a,s);let m=()=>{let e=c.partialize({...a()});return u.setItem(c.name,{state:e,version:c.version})},x=s.setState;s.setState=(e,t)=>(x(e,t),m());let p=e((...e)=>(r(...e),m()),a,s);s.getInitialState=()=>p;let g=()=>{var e,t;if(!u)return;d=!1,o.forEach(e=>{var t;return e(null!=(t=a())?t:p)});let s=(null==(t=c.onRehydrateStorage)?void 0:t.call(c,null!=(e=a())?e:p))||void 0;return n(u.getItem.bind(u))(c.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===c.version)return[!1,e.state];else{if(c.migrate){let t=c.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,i]=e;if(r(l=c.merge(i,null!=(t=a())?t:p),!0),s)return m()}).then(()=>{null==s||s(l,void 0),l=a(),d=!0,h.forEach(e=>e(l))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{c={...c,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>g(),hasHydrated:()=>d,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(h.add(e),()=>{h.delete(e)})},c.skipHydration||g(),l||p};e.s(["createJSONStorage",()=>i,"persist",()=>l],79473)},18566,(e,t,r)=>{t.exports=e.r(76562)},59105,e=>{"use strict";var t=e.i(68834),r=e.i(79473);let a=(0,t.create)()((0,r.persist)(e=>({user:null,isAuthenticated:!1,role:null,login:t=>e({user:t,isAuthenticated:!0,role:t.role}),logout:()=>e({user:null,isAuthenticated:!1,role:null})}),{name:"farmacias-vallenar-auth"}));e.s(["useAuthStore",0,a])},84901,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(59105);function i({children:e,allowedRoles:i}){let n=(0,a.useRouter)(),{isAuthenticated:l,role:c}=(0,s.useAuthStore)(),[d,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l?i&&c&&!i.includes(c)?n.push("/"):o(!0):n.push("/login")},[l,c,n,i]),d)?(0,t.jsx)(t.Fragment,{children:e}):null}e.s(["default",()=>i])},1928,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],1928)},75157,e=>{"use strict";function t(e){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(e)}function r(...e){return e.filter(Boolean).join(" ")}e.s(["cn",()=>r,"formatCurrency",()=>t])},3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},61659,87378,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>r],61659);let a=(0,t.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);e.s(["Banknote",()=>a],87378)},50627,e=>{"use strict";let t=(0,e.i(75254).default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);e.s(["Receipt",()=>t],50627)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},55784,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(55436),s=e.i(1928),i=e.i(27612),n=e.i(61659),l=e.i(87378),c=e.i(50627),d=e.i(3281),o=e.i(7233),h=e.i(75254);let u=(0,h.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),m=(0,h.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),x=(0,h.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var p=e.i(16715);async function g(e,t){await new Promise(e=>setTimeout(e,800));let r=Math.round(e/1.19);return{folio:Math.floor(1e5*Math.random())+1,fecha:new Date().toISOString(),total:e,neto:r,iva:e-r,items:t,razon_social:"FARMACIAS VALLENAR SPA",rut_emisor:"76.123.456-7",direccion:"Calle Prat 123, Vallenar",giro:"VENTA AL POR MENOR DE PRODUCTOS FARMACEUTICOS",track_id:crypto.randomUUID(),estado:"ACEPTADO"}}var f=e.i(75157);let y=(0,h.default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);function b({data:e}){return(0,t.jsxs)("div",{id:"ticket-print-area",className:"bg-white p-4 w-[80mm] mx-auto text-black font-mono text-xs leading-tight",children:[(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsx)("h1",{className:"font-bold text-sm uppercase mb-1",children:"FARMACIAS VALLENAR"}),(0,t.jsxs)("p",{children:["RUT: ",e.rut_emisor]}),(0,t.jsx)("p",{children:e.giro}),(0,t.jsx)("p",{children:e.direccion}),(0,t.jsx)("p",{children:"Fono: +56 51 261 2345"})]}),(0,t.jsxs)("div",{className:"text-center border-t border-b border-black border-dashed py-2 mb-2",children:[(0,t.jsx)("h2",{className:"font-bold",children:"BOLETA ELECTRÃ“NICA"}),(0,t.jsxs)("p",{className:"text-sm font-bold",children:["NÂº ",e.folio]}),(0,t.jsx)("p",{className:"text-[10px]",children:"S.I.I. - VALLENAR"}),(0,t.jsxs)("p",{className:"mt-1",children:["Fecha: ",new Date(e.fecha).toLocaleString()]})]}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-black border-dashed",children:[(0,t.jsx)("th",{className:"py-1 w-8",children:"Cant"}),(0,t.jsx)("th",{className:"py-1",children:"Desc"}),(0,t.jsx)("th",{className:"py-1 text-right",children:"Total"})]})}),(0,t.jsx)("tbody",{children:e.items.map((e,r)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-1 align-top",children:e.cantidad}),(0,t.jsx)("td",{className:"py-1 align-top truncate max-w-[120px]",children:e.nombre}),(0,t.jsx)("td",{className:"py-1 align-top text-right",children:(0,f.formatCurrency)(e.total)})]},r))})]})}),(0,t.jsxs)("div",{className:"border-t border-black border-dashed pt-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Neto:"}),(0,t.jsx)("span",{children:(0,f.formatCurrency)(e.neto)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"IVA (19%):"}),(0,t.jsx)("span",{children:(0,f.formatCurrency)(e.iva)})]}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-sm mt-1",children:[(0,t.jsx)("span",{children:"TOTAL:"}),(0,t.jsx)("span",{children:(0,f.formatCurrency)(e.total)})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,t.jsx)("div",{className:"border border-black p-1 mb-1",children:(0,t.jsx)(y,{size:80,className:"text-black"})}),(0,t.jsxs)("p",{className:"text-[8px] uppercase text-center",children:["Timbre ElectrÃ³nico SII",(0,t.jsx)("br",{}),"Res. 80 de 2014 - Verifique documento: www.sii.cl"]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-bold text-[10px]",children:"Â¡GRACIAS POR SU PREFERENCIA!"}),(0,t.jsx)("p",{className:"text-[10px] mt-1",children:"Copia Cliente"})]})]})}var j=e.i(84901),v=e.i(68834),w=e.i(79473);let N=(0,v.create)()((0,w.persist)((e,t)=>({cart:[],addToCart:t=>e(e=>e.cart.find(e=>e.id===t.id)?{cart:e.cart.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e)}:{cart:[...e.cart,{...t,quantity:1}]}),removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),updateQuantity:(t,r)=>e(e=>({cart:e.cart.map(e=>{if(e.id===t){let t=e.quantity+r;return t>0?{...e,quantity:t}:e}return e})})),clearCart:()=>e({cart:[]}),getCartTotal:()=>t().cart.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"farmacias-vallenar-cart"})),k=(0,v.create)()((0,w.persist)(e=>({pendingSales:[],addOfflineSale:(t,r)=>e(e=>({pendingSales:[...e.pendingSales,{id:crypto.randomUUID(),timestamp:new Date().toISOString(),items:t,total:r}]})),removeOfflineSale:t=>e(e=>({pendingSales:e.pendingSales.filter(e=>e.id!==t)})),clearOfflineSales:()=>e({pendingSales:[]})}),{name:"farmacias-vallenar-offline-sales"})),S=[{id:1,name:"Paracetamol 500mg",price:2990,stock:100,requiresPrescription:!1},{id:2,name:"Ibuprofeno 400mg",price:3490,stock:50,requiresPrescription:!1},{id:3,name:"Amoxicilina 500mg",price:5990,stock:30,requiresPrescription:!0},{id:4,name:"Loratadina 10mg",price:1990,stock:80,requiresPrescription:!1},{id:5,name:"LosartÃ¡n 50mg",price:8990,stock:150,requiresPrescription:!1}];function C(){let[h,y]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[C,M]=(0,r.useState)(null),[A,E]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),{cart:L,addToCart:O,removeFromCart:P,updateQuantity:R,clearCart:q,getCartTotal:T}=N(),{pendingSales:V,addOfflineSale:U,clearOfflineSales:D}=k(),F=function(){let[e,t]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{t(navigator.onLine);let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e}(),[B,H]=(0,r.useState)(!1);(0,r.useEffect)(()=>{H(!0)},[]);let $=T(),_=async()=>{if(0!==L.length){w(!0);try{if(!F){U(L,$),alert("Sin conexiÃ³n. Venta guardada localmente para sincronizaciÃ³n posterior."),q();return}let e=L.map(e=>({nombre:e.name,cantidad:e.quantity,precio:e.price,total:e.price*e.quantity})),t=await g($,e);M(t),E(!0),q()}catch(e){console.error(e),window.confirm("Error de conexiÃ³n con SII. Â¿Guardar venta localmente?")&&(U(L,$),q())}finally{w(!1)}}},G=async()=>{if(0!==V.length){z(!0);try{for(let e of V){let t=e.items.map(e=>({nombre:e.name,cantidad:e.quantity,precio:e.price,total:e.price*e.quantity}));await g(e.total,t)}D(),alert("SincronizaciÃ³n completada exitosamente.")}catch(e){alert("Error durante la sincronizaciÃ³n. Intente nuevamente.")}finally{z(!1)}}},J=()=>{E(!1),M(null),q()},W=S.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return B?(0,t.jsx)(j.default,{allowedRoles:["ADMIN","QF","VENDEDOR"],children:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl shadow-sm",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:"ðŸ›’ Punto de Venta"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:async()=>{try{let{getNextTicket:t}=await e.A(11858),r=await t(1);if(r.success&&r.ticket){alert(`Llamando a ticket: ${r.ticket.numero_ticket}`);let e=new SpeechSynthesisUtterance(`Atenci\xf3n, n\xfamero ${r.ticket.numero_ticket}, pase a caja.`);window.speechSynthesis.speak(e)}else alert(r.message||r.error||"No hay clientes en espera")}catch(e){console.error(e),alert("Error al llamar siguiente nÃºmero")}},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium shadow-sm",children:[(0,t.jsx)("span",{className:"text-xl",children:"ðŸ“¢"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Llamar Siguiente"})]}),(0,t.jsxs)("div",{className:(0,f.cn)("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium",F?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:[F?(0,t.jsx)(m,{size:16}):(0,t.jsx)(x,{size:16}),F?"Online":"Modo Offline"]}),V.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-orange-600 font-medium",children:[V.length," pendiente(s)"]}),(0,t.jsxs)("button",{onClick:G,disabled:!F||I,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(p.RefreshCw,{size:16,className:(0,f.cn)(I&&"animate-spin")}),I?"Sincronizando...":"Sincronizar"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:h,onChange:e=>y(e.target.value)})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:W.map(e=>(0,t.jsxs)("button",{onClick:()=>O(e),className:"bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all text-left group",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:e.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-sm mt-1",children:["Stock: ",e.stock]}),(0,t.jsxs)("div",{className:"text-lg font-bold text-blue-600 mt-2",children:["$",e.price.toLocaleString()]}),e.requiresPrescription&&(0,t.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Receta"})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm h-[calc(100vh-8rem)] flex flex-col sticky top-4",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(s.ShoppingCart,{className:"text-blue-600"}),"Carro de Compra"]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===L.length?(0,t.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Carro vacÃ­o"}):L.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["$",e.price.toLocaleString()," x ",e.quantity]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>R(e.id,-1),className:"p-1 hover:bg-gray-100 rounded-l-lg",children:(0,t.jsx)(u,{size:16})}),(0,t.jsx)("span",{className:"w-8 text-center text-sm",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>R(e.id,1),className:"p-1 hover:bg-gray-100 rounded-r-lg",children:(0,t.jsx)(o.Plus,{size:16})})]}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,t.jsx)(i.Trash2,{size:18})})]})]},e.id))}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4 text-lg font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",$.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(l.Banknote,{size:20,className:"text-green-600"}),"Efectivo"]}),(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(n.CreditCard,{size:20,className:"text-blue-600"}),"Tarjeta"]})]}),(0,t.jsx)("button",{onClick:_,disabled:0===L.length||v,className:(0,f.cn)("w-full py-4 text-white rounded-xl font-bold text-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",F?"bg-blue-600 hover:bg-blue-700":"bg-orange-500 hover:bg-orange-600"),children:v?"Procesando...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Receipt,{}),F?"Emitir Boleta":"Guardar Offline"]})})]})]})]}),A&&C&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 print:p-0 print:bg-white print:static",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden flex flex-col max-h-[90vh] print:shadow-none print:max-w-none print:max-h-none print:w-auto print:rounded-none",children:[(0,t.jsxs)("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 print:hidden",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Boleta Generada"}),(0,t.jsxs)("button",{onClick:J,className:"text-gray-400 hover:text-gray-600",children:[(0,t.jsx)("span",{className:"sr-only",children:"Cerrar"}),"âœ•"]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-100 flex justify-center print:p-0 print:bg-white print:overflow-visible",children:(0,t.jsx)("div",{className:"shadow-lg print:shadow-none",children:(0,t.jsx)(b,{data:C})})}),(0,t.jsxs)("div",{className:"p-4 border-t bg-white grid grid-cols-2 gap-4 print:hidden",children:[(0,t.jsxs)("button",{onClick:J,className:"flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(o.Plus,{size:20}),"Nueva Venta"]}),(0,t.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:[(0,t.jsx)(d.Printer,{size:20}),"Imprimir"]})]})]})})]})})}):null}e.s(["default",()=>C],55784)},11858,e=>{e.v(t=>Promise.all(["static/chunks/87cd332cf4fe112b.js"].map(t=>e.l(t))).then(()=>t(56056)))}]);