(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,r)=>{"use strict";var a=e.r(32189);function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,i,s){if(s!==a){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},45009,(e,t,r)=>{t.exports=e.r(65156)()},16474,(e,t,r)=>{"use strict";r.__esModule=!0,r.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(0===r.length)return!0;var a=e.name||"",n=(e.type||"").toLowerCase(),i=n.replace(/\/.*$/,"");return r.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?a.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):n===t})}return!0}},67034,(e,t,r)=>{var a={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],a=t[1];return(r+a)*3/4-a},t.toByteArray=function(e){var t,r,i=l(e),s=i[0],o=i[1],c=new n((s+o)*3/4-o),d=0,u=o>0?s-4:s;for(r=0;r<u;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===o&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===o&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,a=e.length,n=a%3,i=[],s=0,o=a-n;s<o;s+=16383)i.push(function(e,t,a){for(var n,i=[],s=t;s<a;s+=3)n=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return i.join("")}(e,s,s+16383>o?o:s+16383));return 1===n?i.push(r[(t=e[a-1])>>2]+r[t<<4&63]+"=="):2===n&&i.push(r[(t=(e[a-2]<<8)+e[a-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],a=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=i.length;s<o;++s)r[s]=i[s],a[i.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var a=r===t?0:4-r%4;return[r,a]}a[45]=62,a[95]=63},72:function(e,t,r){"use strict";var a=r(675),n=r(783),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var a=e,n=t;if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);var i=0|h(a,n),l=s(i),c=l.write(a,n);return c!==i&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(_(e,ArrayBuffer)||e&&_(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(_(e,SharedArrayBuffer)||e&&_(e.buffer,SharedArrayBuffer)))return function(e,t,r){var a;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(a=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),a}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return o.from(d,t,r);var p=function(e){if(o.isBuffer(e)){var t=0|f(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|f(e))}function u(e){for(var t=e.length<0?0:0|f(e.length),r=s(t),a=0;a<t;a+=1)r[a]=255&e[a];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},o.allocUnsafe=function(e){return d(e)},o.allocUnsafeSlow=function(e){return d(e)};function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||_(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(n)return a?-1:S(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n,i,s,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var n="",i=t;i<r;++i)n+=C[e[i]];return n}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var a="";r=Math.min(e.length,r);for(var n=t;n<r;++n)a+=String.fromCharCode(127&e[n]);return a}(this,t,r);case"latin1":case"binary":return function(e,t,r){var a="";r=Math.min(e.length,r);for(var n=t;n<r;++n)a+=String.fromCharCode(e[n]);return a}(this,t,r);case"base64":return n=this,i=t,s=r,0===i&&s===n.length?a.fromByteArray(n):a.fromByteArray(n.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var a=e.slice(t,r),n="",i=0;i<a.length;i+=2)n+=String.fromCharCode(a[i]+256*a[i+1]);return n}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var a=e[t];e[t]=e[r],e[r]=a}function x(e,t,r,a,n){var i;if(0===e.length)return -1;if("string"==typeof r?(a=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(i=r*=1)!=i&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,a)),o.isBuffer(t))return 0===t.length?-1:g(e,t,r,a,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,a,n)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,a,n){var i,s=1,o=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var d=-1;for(i=r;i<o;i++)if(c(e,i)===c(t,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*s}else -1!==d&&(i-=i-d),d=-1}else for(r+l>o&&(r=o-l),i=r;i>=0;i--){for(var u=!0,f=0;f<l;f++)if(c(e,i+f)!==c(t,f)){u=!1;break}if(u)return i}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(_(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),_(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,a=t.length,n=0,i=Math.min(r,a);n<i;++n)if(e[n]!==t[n]){r=e[n],a=t[n];break}return r<a?-1:+(a<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,a=o.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var i=e[r];if(_(i,Uint8Array)&&(i=o.from(i)),!o.isBuffer(i))throw TypeError('"list" argument must be an Array of Buffers');i.copy(a,n),n+=i.length}return a},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(e,t,r,a,n){if(_(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===a&&(a=0),void 0===n&&(n=this.length),t<0||r>e.length||a<0||n>this.length)throw RangeError("out of range index");if(a>=n&&t>=r)return 0;if(a>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,a>>>=0,n>>>=0,this===e)return 0;for(var i=n-a,s=r-t,l=Math.min(i,s),c=this.slice(a,n),d=e.slice(t,r),u=0;u<l;++u)if(c[u]!==d[u]){i=c[u],s=d[u];break}return i<s?-1:+(s<i)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return x(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return x(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var a=[],n=t;n<r;){var i,s,o,l,c=e[n],d=null,u=c>239?4:c>223?3:c>191?2:1;if(n+u<=r)switch(u){case 1:c<128&&(d=c);break;case 2:(192&(i=e[n+1]))==128&&(l=(31&c)<<6|63&i)>127&&(d=l);break;case 3:i=e[n+1],s=e[n+2],(192&i)==128&&(192&s)==128&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:i=e[n+1],s=e[n+2],o=e[n+3],(192&i)==128&&(192&s)==128&&(192&o)==128&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,a.push(d>>>10&1023|55296),d=56320|1023&d),a.push(d),n+=u}var f=a,h=f.length;if(h<=4096)return String.fromCharCode.apply(String,f);for(var p="",m=0;m<h;)p+=String.fromCharCode.apply(String,f.slice(m,m+=4096));return p}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function y(e,t,r,a,n,i){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<i)throw RangeError('"value" argument is out of bounds');if(r+a>e.length)throw RangeError("Index out of range")}function w(e,t,r,a,n,i){if(r+a>e.length||r<0)throw RangeError("Index out of range")}function j(e,t,r,a,i){return t*=1,r>>>=0,i||w(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,a,23,4),r+4}function N(e,t,r,a,i){return t*=1,r>>>=0,i||w(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,a,52,8),r+8}o.prototype.write=function(e,t,r,a){if(void 0===t)a="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)a=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===a&&(a="utf8")):(a=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,i,s,o,l,c,d,u,f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var h=!1;;)switch(a){case"hex":return function(e,t,r,a){r=Number(r)||0;var n=e.length-r;a?(a=Number(a))>n&&(a=n):a=n;var i=t.length;a>i/2&&(a=i/2);for(var s=0;s<a;++s){var o,l=parseInt(t.substr(2*s,2),16);if((o=l)!=o)break;e[r+s]=l}return s}(this,e,t,r);case"utf8":case"utf-8":return n=t,i=r,A(S(e,this.length-n),this,n,i);case"ascii":return s=t,o=r,A(k(e),this,s,o);case"latin1":case"binary":return function(e,t,r,a){return A(k(t),e,r,a)}(this,e,t,r);case"base64":return l=t,c=r,A(T(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,A(function(e,t){for(var r,a,n=[],i=0;i<e.length&&!((t-=2)<0);++i)a=(r=e.charCodeAt(i))>>8,n.push(r%256),n.push(a);return n}(e,this.length-d),this,d,u);default:if(h)throw TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),h=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var a=this.subarray(e,t);return Object.setPrototypeOf(a,o.prototype),a},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var a=this[e],n=1,i=0;++i<t&&(n*=256);)a+=this[e+i]*n;return a},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var a=this[e+--t],n=1;t>0&&(n*=256);)a+=this[e+--t]*n;return a},o.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var a=this[e],n=1,i=0;++i<t&&(n*=256);)a+=this[e+i]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var a=t,n=1,i=this[e+--a];a>0&&(n*=256);)i+=this[e+--a]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,a){if(e*=1,t>>>=0,r>>>=0,!a){var n=Math.pow(2,8*r)-1;y(this,e,t,r,n,0)}var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,a){if(e*=1,t>>>=0,r>>>=0,!a){var n=Math.pow(2,8*r)-1;y(this,e,t,r,n,0)}var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,a){if(e*=1,t>>>=0,!a){var n=Math.pow(2,8*r-1);y(this,e,t,r,n-1,-n)}var i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,a){if(e*=1,t>>>=0,!a){var n=Math.pow(2,8*r-1);y(this,e,t,r,n-1,-n)}var i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,a){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<r&&(a=r),a===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(a<0)throw RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-r&&(a=e.length-t+r);var n=a-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,a);else if(this===e&&r<t&&t<a)for(var i=n-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,a),t);return n},o.prototype.fill=function(e,t,r,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,r=this.length):"string"==typeof r&&(a=r,r=this.length),void 0!==a&&"string"!=typeof a)throw TypeError("encoding must be a string");if("string"==typeof a&&!o.isEncoding(a))throw TypeError("Unknown encoding: "+a);if(1===e.length){var n,i=e.charCodeAt(0);("utf8"===a&&i<128||"latin1"===a)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var s=o.isBuffer(e)?e:o.from(e,a),l=s.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%l]}return this};var E=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,a=e.length,n=null,i=[],s=0;s<a;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319||s+1===a){(t-=3)>-1&&i.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&i.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function k(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function T(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,a){for(var n=0;n<a&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function _(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var C=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var a=16*r,n=0;n<16;++n)t[a+n]=e[r]+e[n];return t}()},783:function(e,t){t.read=function(e,t,r,a,n){var i,s,o=8*n-a-1,l=(1<<o)-1,c=l>>1,d=-7,u=r?n-1:0,f=r?-1:1,h=e[t+u];for(u+=f,i=h&(1<<-d)-1,h>>=-d,d+=o;d>0;i=256*i+e[t+u],u+=f,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=a;d>0;s=256*s+e[t+u],u+=f,d-=8);if(0===i)i=1-c;else{if(i===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,a),i-=c}return(h?-1:1)*s*Math.pow(2,i-a)},t.write=function(e,t,r,a,n,i){var s,o,l,c=8*i-n-1,d=(1<<c)-1,u=d>>1,f=5960464477539062e-23*(23===n),h=a?0:i-1,p=a?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?t+=f/l:t+=f*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(t*l-1)*Math.pow(2,n),s+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,n),s=0));n>=8;e[r+h]=255&o,h+=p,o/=256,n-=8);for(s=s<<n|o,c+=n;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*m}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},s=!0;try{a[e](r,r.exports,i),s=!1}finally{s&&delete n[e]}return r.exports}i.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=i(72)},78756,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},33858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},96736,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},48018,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");let r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},79232,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(48018),n=e.r(96736);r.toPath=function(e){if(Array.isArray(e))return e.map(n.toKey);if("symbol"==typeof e)return[e];e=a.toString(e);let t=[],r=e.length;if(0===r)return t;let i=0,s="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),i++);i<r;){let a=e[i];o?"\\"===a&&i+1<r?s+=e[++i]:a===o?o="":s+=a:l?'"'===a||"'"===a?o=a:"]"===a?(l=!1,t.push(s),s=""):s+=a:"["===a?(l=!0,s&&(t.push(s),s="")):"."===a?s&&(t.push(s),s=""):s+=a,i++}return s&&t.push(s),t}},18915,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(78756),n=e.r(33858),i=e.r(96736),s=e.r(79232);r.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(a.isUnsafeProperty(r))return o;let i=t[r];if(void 0===i)if(n.isDeepKey(r))return e(t,s.toPath(r),o);else return o;return i}case"number":case"symbol":{"number"==typeof r&&(r=i.toKey(r));let e=t[r];if(void 0===e)return o;return e}default:{if(Array.isArray(r)){var l=t,c=r,d=o;if(0===c.length)return d;let e=l;for(let t=0;t<c.length;t++){if(null==e||a.isUnsafeProperty(c[t]))return d;e=e[c[t]]}return void 0===e?d:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),a.isUnsafeProperty(r))return o;let e=t[r];if(void 0===e)return o;return e}}}},92068,(e,t,r)=>{t.exports=e.r(18915).get},55838,(e,t,r)=>{"use strict";var a=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useState,s=a.useEffect,o=a.useLayoutEffect,l=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=i({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return o(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),s(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var a=e.r(71645),n=e.r(2239),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,o=a.useRef,l=a.useEffect,c=a.useMemo,d=a.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var u=o(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;var h=s(e,(u=c(function(){function e(e){if(!l){if(l=!0,s=e,e=a(e),void 0!==n&&f.hasValue){var t=f.value;if(n(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var r=a(e);return void 0!==n&&n(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,a,n]))[0],u[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),d(h),h}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},45403,(e,t,r)=>{"use strict";function a(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let n=a(e),i=a(t);if(n===i&&0===n){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-n:n-i}return 0}},9542,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},38104,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(9542),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||a.isSymbol(e))||"string"==typeof e&&(i.test(e)||!n.test(e))||null!=t&&Object.hasOwn(t,e))}},910,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(45403),n=e.r(38104),i=e.r(79232);r.orderBy=function(e,t,r,s){if(null==e)return[];r=s?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let o=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e))?e:{key:e,path:i.toPath(e)});return e.map(e=>({original:e,criteria:l.map(t=>{var r,a;return r=t,null==(a=e)||null==r?a:"object"==typeof r&&"key"in r?Object.hasOwn(a,r.key)?a[r.key]:o(a,r.path):"function"==typeof r?r(a):Array.isArray(r)?o(a,r):"object"==typeof a?a[r]:a})})).slice().sort((e,t)=>{for(let n=0;n<l.length;n++){let i=a.compareValues(e.criteria[n],t.criteria[n],r[n]);if(0!==i)return i}return 0}).map(e=>e.original)}},44647,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],a=Math.floor(t),n=(e,t)=>{for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)&&t<a?n(s,t+1):r.push(s)}};return n(e,0),r}},5257,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return a.test(e)}}},70871,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},69642,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(70871);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&a.isLength(e.length)}},90820,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},23855,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(5257),n=e.r(69642),i=e.r(90820),s=e.r(23855);r.isIterateeCall=function(e,t,r){return!!i.isObject(r)&&(!!("number"==typeof t&&n.isArrayLike(r)&&a.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&s.eq(r[t],e)}},69955,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(910),n=e.r(44647),i=e.r(15111);r.sortBy=function(e,...t){let r=t.length;return r>1&&i.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&i.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),a.orderBy(e,n.flatten(t),["asc"])}},42342,(e,t,r)=>{t.exports=e.r(69955).sortBy},24798,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:a}={}){let n,i=null,s=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)},c=null,d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},f=function(...e){if(r?.aborted)return;n=this,i=e;let t=null==c;d(),s&&t&&l()};return f.schedule=d,f.cancel=u,f.flush=()=>{l()},r?.addEventListener("abort",u,{once:!0}),f}},96074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(24798);r.debounce=function(e,t=0,r={}){let n;"object"!=typeof r&&(r={});let{leading:i=!1,trailing:s=!0,maxWait:o}=r,l=[,,];i&&(l[0]="leading"),s&&(l[1]="trailing");let c=null,d=a.debounce(function(...t){n=e.apply(this,t),c=null},t,{edges:l}),u=function(...t){return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(n=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),n):(d.apply(this,t),n)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),n),u}},46508,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(96074);r.throttle=function(e,t=0,r={}){let{leading:n=!0,trailing:i=!0}=r;return a.debounce(e,t,{leading:n,maxWait:t,trailing:i})}},58723,(e,t,r)=>{t.exports=e.r(46508).throttle},41015,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(9542);r.toNumber=function(e){return a.isSymbol(e)?NaN:Number(e)}},89793,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(41015);r.toFinite=function(e){return e?(e=a.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},45264,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(15111),n=e.r(89793);r.range=function(e,t,r){r&&"number"!=typeof r&&a.isIterateeCall(e,t,r)&&(t=r=void 0),e=n.toFinite(e),void 0===t?(t=e,e=0):t=n.toFinite(t),r=void 0===r?e<t?1:-1:n.toFinite(r);let i=Math.max(Math.ceil((t-e)/(r||1)),0),s=Array(i);for(let t=0;t<i;t++)s[t]=e,e+=r;return s}},66814,(e,t,r)=>{t.exports=e.r(45264).range},51655,(e,t,r)=>{!function(r){"use strict";var a,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,s="[DecimalError] ",o=s+"Invalid argument: ",l=s+"Exponent out of range: ",c=Math.floor,d=Math.pow,u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=c(1286742750677284.5),h={};function p(e,t){var r,a,n,s,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),i?E(t,f):t;if(c=e.d,d=t.d,o=e.e,n=t.e,c=c.slice(),s=o-n){for(s<0?(a=c,s=-s,l=d.length):(a=d,n=o,l=c.length),s>(l=(o=Math.ceil(f/7))>l?o+1:l+1)&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,a=d,d=c,c=a),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/1e7|0,c[s]%=1e7;for(r&&(c.unshift(r),++n),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=n,i?E(t,f):t}function m(e,t,r){if(e!==~~e||e<t||e>r)throw Error(o+e)}function x(e){var t,r,a,n=e.length-1,i="",s=e[0];if(n>0){for(i+=s,t=1;t<n;t++)(r=7-(a=e[t]+"").length)&&(i+=w(r)),i+=a;(r=7-(a=(s=e[t])+"").length)&&(i+=w(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}h.absoluteValue=h.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},h.comparedTo=h.cmp=function(e){var t,r,a,n;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(a=this.d.length)<(n=e.d.length)?a:n;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return a===n?0:a>n^this.s<0?1:-1},h.decimalPlaces=h.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},h.dividedBy=h.div=function(e){return g(this,new this.constructor(e))},h.dividedToIntegerBy=h.idiv=function(e){var t=this.constructor;return E(g(this,new t(e),0,1),t.precision)},h.equals=h.eq=function(e){return!this.cmp(e)},h.exponent=function(){return v(this)},h.greaterThan=h.gt=function(e){return this.cmp(e)>0},h.greaterThanOrEqualTo=h.gte=function(e){return this.cmp(e)>=0},h.isInteger=h.isint=function(){return this.e>this.d.length-2},h.isNegative=h.isneg=function(){return this.s<0},h.isPositive=h.ispos=function(){return this.s>0},h.isZero=function(){return 0===this.s},h.lessThan=h.lt=function(e){return 0>this.cmp(e)},h.lessThanOrEqualTo=h.lte=function(e){return 1>this.cmp(e)},h.logarithm=h.log=function(e){var t,r=this.constructor,n=r.precision,o=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(s+"NaN");if(this.s<1)throw Error(s+(this.s?"NaN":"-Infinity"));return this.eq(a)?new r(0):(i=!1,t=g(j(this,o),j(e,o),o),i=!0,E(t,n))},h.minus=h.sub=function(e){return e=new this.constructor(e),this.s==e.s?S(this,e):p(this,(e.s=-e.s,e))},h.modulo=h.mod=function(e){var t,r=this.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(s+"NaN");return this.s?(i=!1,t=g(this,e,0,1).times(e),i=!0,this.minus(t)):E(new r(this),a)},h.naturalExponential=h.exp=function(){return b(this)},h.naturalLogarithm=h.ln=function(){return j(this)},h.negated=h.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},h.plus=h.add=function(e){return e=new this.constructor(e),this.s==e.s?p(this,e):S(this,(e.s=-e.s,e))},h.precision=h.sd=function(e){var t,r,a;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(o+e);if(t=v(this)+1,r=7*(a=this.d.length-1)+1,a=this.d[a]){for(;a%10==0;a/=10)r--;for(a=this.d[0];a>=10;a/=10)r++}return e&&t>r?t:r},h.squareRoot=h.sqrt=function(){var e,t,r,a,n,o,l,d=this.constructor;if(this.s<1){if(!this.s)return new d(0);throw Error(s+"NaN")}for(e=v(this),i=!1,0==(n=Math.sqrt(+this))||n==1/0?(((t=x(this.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=c((e+1)/2)-(e<0||e%2),a=new d(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new d(n.toString()),n=l=(r=d.precision)+3;;)if(a=(o=a).plus(g(this,o,l+2)).times(.5),x(o.d).slice(0,l)===(t=x(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&"4999"==t){if(E(o,r+1,0),o.times(o).eq(this)){a=o;break}}else if("9999"!=t)break;l+=4}return i=!0,E(a,r)},h.times=h.mul=function(e){var t,r,a,n,s,o,l,c,d,u=this.constructor,f=this.d,h=(e=new u(e)).d;if(!this.s||!e.s)return new u(0);for(e.s*=this.s,r=this.e+e.e,(c=f.length)<(d=h.length)&&(s=f,f=h,h=s,o=c,c=d,d=o),s=[],a=o=c+d;a--;)s.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=s[n]+h[a]*f[n-a-1]+t,s[n--]=l%1e7|0,t=l/1e7|0;s[n]=(s[n]+t)%1e7|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,i?E(e,u.precision):e},h.toDecimalPlaces=h.todp=function(e,t){var r=this,a=r.constructor;return(r=new a(r),void 0===e)?r:(m(e,0,1e9),void 0===t?t=a.rounding:m(t,0,8),E(r,e+v(r)+1,t))},h.toExponential=function(e,t){var r,a=this,n=a.constructor;return void 0===e?r=k(a,!0):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=k(a=E(new n(a),e+1,t),!0,e+1)),r},h.toFixed=function(e,t){var r,a,n=this.constructor;return void 0===e?k(this):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=k((a=E(new n(this),e+v(this)+1,t)).abs(),!1,e+v(a)+1),this.isneg()&&!this.isZero()?"-"+r:r)},h.toInteger=h.toint=function(){var e=this.constructor;return E(new e(this),v(this)+1,e.rounding)},h.toNumber=function(){return+this},h.toPower=h.pow=function(e){var t,r,n,o,l,d,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(s+"Infinity");return u}if(u.eq(a))return u;if(n=f.precision,e.eq(a))return E(u,n);if(d=(t=e.e)>=(r=e.d.length-1),l=u.s,d){if((r=h<0?-h:h)<=0x1fffffffffffff){for(o=new f(a),t=Math.ceil(n/7+4),i=!1;r%2&&T((o=o.times(u)).d,t),0!==(r=c(r/2));)T((u=u.times(u)).d,t);return i=!0,e.s<0?new f(a).div(o):E(o,n)}}else if(l<0)throw Error(s+"NaN");return l=l<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,i=!1,o=e.times(j(u,n+12)),i=!0,(o=b(o)).s=l,o},h.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return void 0===e?(r=v(n),a=k(n,r<=i.toExpNeg||r>=i.toExpPos)):(m(e,1,1e9),void 0===t?t=i.rounding:m(t,0,8),r=v(n=E(new i(n),e,t)),a=k(n,e<=r||r<=i.toExpNeg,e)),a},h.toSignificantDigits=h.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(m(e,1,1e9),void 0===t?t=r.rounding:m(t,0,8)),E(new r(this),e,t)},h.toString=h.valueOf=h.val=h.toJSON=function(){var e=v(this),t=this.constructor;return k(this,e<=t.toExpNeg||e>=t.toExpPos)};var g=function(){function e(e,t){var r,a=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+a,e[n]=r%1e7|0,a=r/1e7|0;return a&&e.unshift(a),e}function t(e,t,r,a){var n,i;if(r!=a)i=r>a?1:-1;else for(n=i=0;n<r;n++)if(e[n]!=t[n]){i=e[n]>t[n]?1:-1;break}return i}function r(e,t,r){for(var a=0;r--;)e[r]-=a,a=+(e[r]<t[r]),e[r]=1e7*a+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(a,n,i,o){var l,c,d,u,f,h,p,m,x,g,b,y,w,j,N,S,k,T,A=a.constructor,_=a.s==n.s?1:-1,C=a.d,O=n.d;if(!a.s)return new A(a);if(!n.s)throw Error(s+"Division by zero");for(d=0,c=a.e-n.e,k=O.length,N=C.length,m=(p=new A(_)).d=[];O[d]==(C[d]||0);)++d;if(O[d]>(C[d]||0)&&--c,(y=null==i?i=A.precision:o?i+(v(a)-v(n))+1:i)<0)return new A(0);if(y=y/7+2|0,d=0,1==k)for(u=0,O=O[0],y++;(d<N||u)&&y--;d++)w=1e7*u+(C[d]||0),m[d]=w/O|0,u=w%O|0;else{for((u=1e7/(O[0]+1)|0)>1&&(O=e(O,u),C=e(C,u),k=O.length,N=C.length),j=k,g=(x=C.slice(0,k)).length;g<k;)x[g++]=0;(T=O.slice()).unshift(0),S=O[0],O[1]>=1e7/2&&++S;do u=0,(l=t(O,x,k,g))<0?(b=x[0],k!=g&&(b=1e7*b+(x[1]||0)),(u=b/S|0)>1?(u>=1e7&&(u=1e7-1),h=(f=e(O,u)).length,g=x.length,1==(l=t(f,x,h,g))&&(u--,r(f,k<h?T:O,h))):(0==u&&(l=u=1),f=O.slice()),(h=f.length)<g&&f.unshift(0),r(x,f,g),-1==l&&(g=x.length,(l=t(O,x,k,g))<1&&(u++,r(x,k<g?T:O,g))),g=x.length):0===l&&(u++,x=[0]),m[d++]=u,l&&x[0]?x[g++]=C[j]||0:(x=[C[j]],g=1);while((j++<N||void 0!==x[0])&&y--)}return m[0]||m.shift(),p.e=c,E(p,o?i+v(p)+1:i)}}();function b(e,t){var r,n,s,o,c,u=0,f=0,h=e.constructor,p=h.precision;if(v(e)>16)throw Error(l+v(e));if(!e.s)return new h(a);for(null==t?(i=!1,c=p):c=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(c+=Math.log(d(2,f))/Math.LN10*2+5|0,r=n=s=new h(a),h.precision=c;;){if(n=E(n.times(e),c),r=r.times(++u),x((o=s.plus(g(n,r,c))).d).slice(0,c)===x(s.d).slice(0,c)){for(;f--;)s=E(s.times(s),c);return h.precision=p,null==t?(i=!0,E(s,p)):s}s=o}}function v(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function y(e,t,r){if(t>e.LN10.sd())throw i=!0,r&&(e.precision=r),Error(s+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function j(e,t){var r,n,o,l,c,d,u,f,h,p=1,m=e,b=m.d,w=m.constructor,N=w.precision;if(m.s<1)throw Error(s+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new w(0);if(null==t?(i=!1,f=N):f=t,m.eq(10))return null==t&&(i=!0),y(w,f);if(w.precision=f+=10,n=(r=x(b)).charAt(0),!(15e14>Math.abs(l=v(m))))return u=y(w,f+2,N).times(l+""),m=j(new w(n+"."+r.slice(1)),f-10).plus(u),w.precision=N,null==t?(i=!0,E(m,N)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(l=v(m),n>1?(m=new w("0."+r),l++):m=new w(n+"."+r.slice(1)),d=c=m=g(m.minus(a),m.plus(a),f),h=E(m.times(m),f),o=3;;){if(c=E(c.times(h),f),x((u=d.plus(g(c,new w(o),f))).d).slice(0,f)===x(d.d).slice(0,f))return d=d.times(2),0!==l&&(d=d.plus(y(w,f+2,N).times(l+""))),d=g(d,new w(p),f),w.precision=N,null==t?(i=!0,E(d,N)):d;d=u,o+=2}}function N(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;48===t.charCodeAt(a);)++a;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(a,n)){if(n-=a,e.e=c((r=r-a-1)/7),e.d=[],a=(r+1)%7,r<0&&(a+=7),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=7;a<n;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),i&&(e.e>f||e.e<-f))throw Error(l+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var a,n,s,o,u,h,p,m,x=e.d;for(o=1,s=x[0];s>=10;s/=10)o++;if((a=t-o)<0)a+=7,n=t,p=x[m=0];else{if((m=Math.ceil((a+1)/7))>=(s=x.length))return e;for(o=1,p=s=x[m];s>=10;s/=10)o++;a%=7,n=a-7+o}if(void 0!==r&&(u=p/(s=d(10,o-n-1))%10|0,h=t<0||void 0!==x[m+1]||p%s,h=r<4?(u||h)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||h||6==r&&(a>0?n>0?p/d(10,o-n):0:x[m-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return h?(s=v(e),x.length=1,t=t-s-1,x[0]=d(10,(7-t%7)%7),e.e=c(-t/7)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(0==a?(x.length=m,s=1,m--):(x.length=m+1,s=d(10,7-a),x[m]=n>0?(p/d(10,o-n)%d(10,n)|0)*s:0),h)for(;;)if(0==m){1e7==(x[0]+=s)&&(x[0]=1,++e.e);break}else{if(x[m]+=s,1e7!=x[m])break;x[m--]=0,s=1}for(a=x.length;0===x[--a];)x.pop();if(i&&(e.e>f||e.e<-f))throw Error(l+v(e));return e}function S(e,t){var r,a,n,s,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),i?E(t,p):t;if(c=e.d,f=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a){for((u=o<0)?(r=c,o=-o,l=f.length):(r=f,a=d,l=c.length),o>(n=Math.max(Math.ceil(p/7),l)+2)&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for((u=(n=c.length)<(l=f.length))&&(l=n),n=0;n<l;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,n=f.length-l;n>0;--n)c[l++]=0;for(n=f.length;n>o;){if(c[--n]<f[n]){for(s=n;s&&0===c[--s];)c[s]=1e7-1;--c[s],c[n]+=1e7}c[n]-=f[n]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--a;return c[0]?(t.d=c,t.e=a,i?E(t,p):t):new h(0)}function k(e,t,r){var a,n=v(e),i=x(e.d),s=i.length;return t?(r&&(a=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+w(a):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+w(-n-1)+i,r&&(a=r-s)>0&&(i+=w(a))):n>=s?(i+=w(n+1-s),r&&(a=r-n-1)>0&&(i=i+"."+w(a))):((a=n+1)<s&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-s)>0&&(n+1===s&&(i+="."),i+=w(a))),e.s<0?"-"+i:i}function T(e,t){if(e.length>t)return e.length=t,!0}function A(e){if(!e||"object"!=typeof e)throw Error(s+"Object expected");var t,r,a,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(a=e[r=n[t]]))if(c(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(o+r+": "+a);if(void 0!==(a=e[r="LN10"]))if(a==Math.LN10)this[r]=new this(a);else throw Error(o+r+": "+a);return this}if((n=function e(t){var r,a,n;function i(e){if(!(this instanceof i))return new i(e);if(this.constructor=i,e instanceof i){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(o+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return N(this,e.toString())}if("string"!=typeof e)throw Error(o+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,u.test(e))N(this,e);else throw Error(o+e)}if(i.prototype=h,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=A,void 0===t&&(t={}),t)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","LN10"];r<n.length;)t.hasOwnProperty(a=n[r++])||(t[a]=this[a]);return i.config(t),i}(n)).default=n.Decimal=n,a=new n(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=n)&&e.v(t)}else t.exports?t.exports=n:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=n)}(e.e)},78492,(e,t,r)=>{"use strict";var a=Object.prototype.hasOwnProperty,n="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,a,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new s(r,a||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)a.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=Array(i);a<i;a++)s[a]=r[a].fn;return s},c.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,s),!0}for(c=1,l=Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var f,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(f=1,l=Array(u-1);f<u;f++)l[f-1]=arguments[f];d[c].fn.apply(d[c].context,l)}}return!0},c.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||l(this,i);else{for(var o=0,c=[],d=s.length;o<d;o++)(s[o].fn!==t||a&&!s[o].once||r&&s[o].context!==r)&&c.push(s[o]);c.length?this._events[i]=1===c.length?c[0]:c:l(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c},43210,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},75576,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},5518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(43210),n=e.r(75576),i=e.r(69642);r.last=function(e){if(i.isArrayLike(e))return a.last(n.toArray(e))}},4178,(e,t,r)=>{t.exports=e.r(5518).last},78804,(e,t,r)=>{"use strict";var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case i:case o:case s:case u:case f:case m:return e;default:switch(e=e&&e.$$typeof){case c:case d:case p:case h:case l:return e;default:return t}}case n:return t}}}r.ContextConsumer=l,r.ContextProvider=c,r.Element=a,r.ForwardRef=d,r.Fragment=i,r.Lazy=p,r.Memo=h,r.Portal=n,r.Profiler=o,r.StrictMode=s,r.Suspense=u,r.SuspenseList=f,r.isContextConsumer=function(e){return g(e)===l},r.isContextProvider=function(e){return g(e)===c},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},r.isForwardRef=function(e){return g(e)===d},r.isFragment=function(e){return g(e)===i},r.isLazy=function(e){return g(e)===p},r.isMemo=function(e){return g(e)===h},r.isPortal=function(e){return g(e)===n},r.isProfiler=function(e){return g(e)===o},r.isStrictMode=function(e){return g(e)===s},r.isSuspense=function(e){return g(e)===u},r.isSuspenseList=function(e){return g(e)===f},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===s||e===u||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===x||void 0!==e.getModuleId)||!1},r.typeOf=g},79684,(e,t,r)=>{"use strict";t.exports=e.r(78804)},18256,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPlainObject=function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},7328,(e,t,r)=>{t.exports=e.r(18256).isPlainObject},10185,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.uniqBy=function(e,t){let r=new Map;for(let a=0;a<e.length;a++){let n=e[a],i=t(n);r.has(i)||r.set(i,n)}return Array.from(r.values())}},36074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},52603,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObjectLike=function(e){return"object"==typeof e&&null!==e}},44936,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(69642),n=e.r(52603);r.isArrayLikeObject=function(e){return n.isObjectLike(e)&&a.isArrayLike(e)}},77473,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(18915);r.property=function(e){return function(t){return a.get(t,e)}}},75234,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},44695,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(90820),n=e.r(75234),i=e.r(23855);function s(e,t,r,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,a){if(null==t)return!0;if(Array.isArray(t))return o(e,t,r,a);if(t instanceof Map){var i=e,s=t,c=r,d=a;if(0===s.size)return!0;if(!(i instanceof Map))return!1;for(let[e,t]of s.entries())if(!1===c(i.get(e),t,e,i,s,d))return!1;return!0}if(t instanceof Set)return l(e,t,r,a);let u=Object.keys(t);if(null==e)return 0===u.length;if(0===u.length)return!0;if(a?.has(t))return a.get(t)===e;a?.set(t,e);try{for(let i=0;i<u.length;i++){let s=u[i];if(!n.isPrimitive(e)&&!(s in e)||void 0===t[s]&&void 0!==e[s]||null===t[s]&&null!==e[s]||!r(e[s],t[s],s,e,t,a))return!1}return!0}finally{a?.delete(t)}}(e,t,r,c);case"function":if(Object.keys(t).length>0)return s(e,{...t},r,c);return i.eq(e,t);default:if(!a.isObject(e))return i.eq(e,t);if("string"==typeof t)return""===t;return!0}}function o(e,t,r,a){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let n=new Set;for(let i=0;i<t.length;i++){let s=t[i],o=!1;for(let l=0;l<e.length;l++){if(n.has(l))continue;let c=e[l],d=!1;if(r(c,s,i,e,t,a)&&(d=!0),d){n.add(l),o=!0;break}}if(!o)return!1}return!0}function l(e,t,r,a){return 0===t.size||e instanceof Set&&o([...e],[...t],r,a)}r.isMatchWith=function e(t,r,a){return"function"!=typeof a?e(t,r,()=>void 0):s(t,r,function e(t,r,n,i,o,l){let c=a(t,r,n,i,o,l);return void 0!==c?!!c:s(t,r,e,l)},new Map)},r.isSetMatch=l},3450,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(44695);r.isMatch=function(e,t){return a.isMatchWith(e,t,()=>void 0)}},9866,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},23678,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},55813,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},55424,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},92348,(e,t,r)=>{"use strict";var a=e.i(67034);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9866),i=e.r(23678),s=e.r(55813),o=e.r(75234),l=e.r(55424);function c(e,t,r,n=new Map,u){let f=u?.(e,t,r,n);if(void 0!==f)return f;if(o.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=c(e[a],a,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[a,i]of(n.set(e,t),e))t.set(a,c(i,a,r,n,u));return t}if(e instanceof Set){let t=new Set;for(let a of(n.set(e,t),e))t.add(c(a,void 0,r,n,u));return t}if(void 0!==a.Buffer&&a.Buffer.isBuffer(e))return e.subarray();if(l.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=c(e[a],a,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),d(t,e,r,n,u),t}if("undefined"!=typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),d(t,e,r,n,u),t}if("undefined"!=typeof Blob&&e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),d(t,e,r,n,u),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,d(t,e,r,n,u),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return n.set(e,t),d(t,e,r,n,u),t}if(e instanceof Number){let t=new Number(e.valueOf());return n.set(e,t),d(t,e,r,n,u),t}if(e instanceof String){let t=new String(e.valueOf());return n.set(e,t),d(t,e,r,n,u),t}if("object"==typeof e&&function(e){switch(i.getTag(e)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),d(t,e,r,n,u),t}return e}function d(e,t,r=e,a,i){let s=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<s.length;n++){let o=s[n],l=Object.getOwnPropertyDescriptor(e,o);(null==l||l.writable)&&(e[o]=c(t[o],o,r,a,i))}}r.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=c,r.copyProperties=d},99510,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(92348);r.cloneDeep=function(e){return a.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},67284,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(3450),n=e.r(99510);r.matches=function(e){return e=n.cloneDeep(e),t=>a.isMatch(t,e)}},68110,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(92348),n=e.r(55813);r.cloneDeepWith=function(e,t){return a.cloneDeepWith(e,(r,i,s,o)=>{let l=t?.(r,i,s,o);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{let t=new e.constructor(e?.valueOf());return a.copyProperties(t,e),t}case n.argumentsTag:{let t={};return a.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},93141,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(68110);r.cloneDeep=function(e){return a.cloneDeepWith(e)}},17858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(23678);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===a.getTag(e)}},56518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(33858),n=e.r(5257),i=e.r(17858),s=e.r(79232);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&a.isDeepKey(t)&&e?.[t]==null?s.toPath(t):[t]).length)return!1;let o=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==o||!Object.hasOwn(o,t))&&!((Array.isArray(o)||i.isArguments(o))&&n.isIndex(t)&&t<o.length))return!1;o=o[t]}return!0}},40656,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(3450),n=e.r(96736),i=e.r(93141),s=e.r(18915),o=e.r(56518);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return t=i.cloneDeep(t),function(r){let n=s.get(r,e);return void 0===n?o.has(r,e):void 0===t?void 0===n:a.isMatch(n,t)}}},27519,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(36074),n=e.r(77473),i=e.r(67284),s=e.r(40656);r.iteratee=function(e){if(null==e)return a.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return s.matchesProperty(e[0],e[1]);return i.matches(e);case"string":case"symbol":case"number":return n.property(e)}}},77008,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(10185),n=e.r(36074),i=e.r(44936),s=e.r(27519);r.uniqBy=function(e,t=n.identity){return i.isArrayLikeObject(e)?a.uniqBy(Array.from(e),s.iteratee(t)):[]}},92809,(e,t,r)=>{t.exports=e.r(77008).uniqBy},13716,e=>{"use strict";let t,r,a,n,i,s;var o,l,c,d,u,f,h,p,m,x,g,b,v,y,w,j,N,E,S,k,T,A,_,C,O,P,R,I,D,M,L,F,U,z,B,V,H,W,G,q,K,Y,X,Z,J,Q,ee,et,er,ea,en,ei,es,eo,el,ec,ed,eu,ef,eh,ep,em,ex,eg,eb=e.i(43476),ev=e.i(71645),ey=ev;let ew={get url(){return`file://${e.P("node_modules/react-router/dist/development/chunk-4WY6JWTD.mjs")}`}};var ej=((l=ej||{}).Pop="POP",l.Push="PUSH",l.Replace="REPLACE",l),eN="popstate";function eE(e,t){if(!1===e||null==e)throw Error(t)}function eS(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function ek(e,t){return{usr:e.state,key:e.key,idx:t}}function eT(e,t,r=null,a){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?e_(t):t,state:r,key:t&&t.key||a||Math.random().toString(36).substring(2,10)}}function eA({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function e_(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function eC(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),eE(r,"No window.location.(origin|href) available to create URL");let a="string"==typeof e?e:eA(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function eO(e,t,r="/"){return function(e,t,r,a){let n=eD(("string"==typeof t?e_(t):t).pathname||"/",r);if(null==n)return null;let i=function e(t,r=[],a=[],n="",i=!1){let s=(t,s,o=i,l)=>{var c,d;let u,f,h={relativePath:void 0===l?t.path||"":l,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&o)return;eE(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=eB([n,h.relativePath]),m=a.concat(h);t.children&&t.children.length>0&&(eE(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e(t.children,r,m,p,o)),(null!=t.path||t.index)&&r.push({path:p,score:(c=p,d=t.index,f=(u=c.split("/")).length,u.some(eR)&&(f+=-2),d&&(f+=2),u.filter(e=>!eR(e)).reduce((e,t)=>e+(eP.test(t)?3:""===t?1:10),f)),routesMeta:m})};return t.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of function e(t){let r=t.split("/");if(0===r.length)return[];let[a,...n]=r,i=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===n.length)return i?[s,""]:[s];let o=e(n.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))s(e,t,!0,r);else s(e,t)}),r}(e);i.sort((e,t)=>{var r,a;return e.score!==t.score?t.score-e.score:(r=e.routesMeta.map(e=>e.childrenIndex),a=t.routesMeta.map(e=>e.childrenIndex),r.length===a.length&&r.slice(0,-1).every((e,t)=>e===a[t])?r[r.length-1]-a[a.length-1]:0)});let s=null;for(let e=0;null==s&&e<i.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return eS(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}(n);s=function(e,t,r=!1){let{routesMeta:a}=e,n={},i="/",s=[];for(let e=0;e<a.length;++e){let o=a[e],l=e===a.length-1,c="/"===i?t:t.slice(i.length)||"/",d=eI({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c),u=o.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=eI({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),s.push({params:n,pathname:eB([i,d.pathname]),pathnameBase:eV(eB([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=eB([i,d.pathnameBase]))}return s}(i[e],t,a)}return s}(e,t,r,!1)}new WeakMap;var eP=/^:[\w-]+$/,eR=e=>"*"===e;function eI(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t=!1,r=!0){eS("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((e,{paramName:t,isOptional:r},a)=>{if("*"===t){let e=o[a]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}let n=o[a];return r&&!n?e[t]=void 0:e[t]=(n||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function eD(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}var eM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function eL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function eF(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eU(e){let t=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function ez(e,t,r,a=!1){let n,i;"string"==typeof e?n=e_(e):(eE(!(n={...e}).pathname||!n.pathname.includes("?"),eF("?","pathname","search",n)),eE(!n.pathname||!n.pathname.includes("#"),eF("#","pathname","hash",n)),eE(!n.search||!n.search.includes("#"),eF("#","search","hash",n)));let s=""===e||""===n.pathname,o=s?"/":n.pathname;if(null==o)i=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let r,{pathname:a,search:n="",hash:i=""}="string"==typeof e?e_(e):e;if(a){let e;if(e=a,eM.test(e))r=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),eS(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${a}`)}r=a.startsWith("/")?eL(a.substring(1),"/"):eL(a,t)}}else r=t;return{pathname:r,search:e$(n),hash:eH(i)}}(n,i),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var eB=e=>e.join("/").replace(/\/\/+/g,"/"),eV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",eH=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function eW(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),Symbol("ResetLoaderData");var eG=ey.createContext(null);eG.displayName="DataRouter";var eq=ey.createContext(null);eq.displayName="DataRouterState";var eK=ey.createContext(!1),eY=ey.createContext({isTransitioning:!1});eY.displayName="ViewTransition",ey.createContext(new Map).displayName="Fetchers",ey.createContext(null).displayName="Await";var eX=ey.createContext(null);eX.displayName="Navigation";var eZ=ey.createContext(null);eZ.displayName="Location";var eJ=ey.createContext({outlet:null,matches:[],isDataRoute:!1});eJ.displayName="Route";var eQ=ey.createContext(null);function e0(){return null!=ey.useContext(eZ)}function e1(){return eE(e0(),"useLocation() may be used only in the context of a <Router> component."),ey.useContext(eZ).location}eQ.displayName="RouteError";var e2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e4(e){ey.useContext(eX).static||ey.useLayoutEffect(e)}function e3(){let{isDataRoute:e}=ey.useContext(eJ);return e?function(){let e,{router:t}=(eE(e=ey.useContext(eG),te("useNavigate")),e),r=tr("useNavigate"),a=ey.useRef(!1);return e4(()=>{a.current=!0}),ey.useCallback(async(e,n={})=>{eS(a.current,e2),a.current&&("number"==typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:r,...n}))},[t,r])}():function(){eE(e0(),"useNavigate() may be used only in the context of a <Router> component.");let e=ey.useContext(eG),{basename:t,navigator:r}=ey.useContext(eX),{matches:a}=ey.useContext(eJ),{pathname:n}=e1(),i=JSON.stringify(eU(a)),s=ey.useRef(!1);return e4(()=>{s.current=!0}),ey.useCallback((a,o={})=>{if(eS(s.current,e2),!s.current)return;if("number"==typeof a)return void r.go(a);let l=ez(a,JSON.parse(i),n,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:eB([t,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)},[t,r,i,n,e])}()}function e5(e,{relative:t}={}){let{matches:r}=ey.useContext(eJ),{pathname:a}=e1(),n=JSON.stringify(eU(r));return ey.useMemo(()=>ez(e,JSON.parse(n),a,"path"===t),[e,n,a,t])}function e6(e,t,r,a,n){let i;eE(e0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ey.useContext(eX),{matches:o}=ey.useContext(eJ),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";tn(d,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h=e1();if(t){let e="string"==typeof t?e_(t):t;eE("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),i=e}else i=h;let p=i.pathname||"/",m=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=eO(e,{pathname:m});eS(f||null!=x,`No routes matched location "${i.pathname}${i.search}${i.hash}" `),eS(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${i.pathname}${i.search}${i.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=function(e,t=[],r=null,a=null,n=null){if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=r?.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&s?.[e.route.id]!==void 0);eE(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:a}=r,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!a||void 0===a[t.route.id]);if(t.route.lazy||n){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=r&&a?(e,t)=>{a(e,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:t})}:void 0;return i.reduceRight((e,a,n)=>{let d,u=!1,f=null,h=null;r&&(d=s&&a.route.id?s[a.route.id]:void 0,f=a.route.errorElement||e8,o&&(l<0&&0===n?(tn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):l===n&&(u=!0,h=a.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,n+1)),m=()=>{let t;return t=d?f:u?h:a.route.Component?ey.createElement(a.route.Component,null):a.route.element?a.route.element:e,ey.createElement(e9,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===n)?ey.createElement(e7,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):m()},null)}(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:eB([u,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:eB([u,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,a,n);return t&&g?ey.createElement(eZ.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...i},navigationType:"POP"}},g):g}ey.createContext(null);var e8=ey.createElement(function(){let e,t,r,a=(e=ey.useContext(eQ),t=tt("useRouteError"),r=tr("useRouteError"),void 0!==e?e:t.errors?.[r]),n=eW(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=ey.createElement(ey.Fragment,null,ey.createElement("p",null," Hey developer "),ey.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ey.createElement("code",{style:o},"ErrorBoundary")," or"," ",ey.createElement("code",{style:o},"errorElement")," prop on your route.")),ey.createElement(ey.Fragment,null,ey.createElement("h2",null,"Unexpected Application Error!"),ey.createElement("h3",{style:{fontStyle:"italic"}},n),i?ey.createElement("pre",{style:{padding:"0.5rem",backgroundColor:s}},i):null,l)},null),e7=class extends ey.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?ey.createElement(eJ.Provider,{value:this.props.routeContext},ey.createElement(eQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e9({routeContext:e,match:t,children:r}){let a=ey.useContext(eG);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),ey.createElement(eJ.Provider,{value:e},r)}function te(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tt(e){let t=ey.useContext(eq);return eE(t,te(e)),t}function tr(e){let t,r=(eE(t=ey.useContext(eJ),te(e)),t),a=r.matches[r.matches.length-1];return eE(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var ta={};function tn(e,t,r){t||ta[e]||(ta[e]=!0,eS(!1,r))}function ti({to:e,replace:t,state:r,relative:a}){eE(e0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=ey.useContext(eX);eS(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=ey.useContext(eJ),{pathname:s}=e1(),o=e3(),l=JSON.stringify(ez(e,eU(i),s,"path"===a));return ey.useEffect(()=>{o(JSON.parse(l),{replace:t,state:r,relative:a})},[o,l,a,t,r]),null}function ts(e){eE(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function to({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){eE(!e0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=ey.useMemo(()=>({basename:s,navigator:n,static:i,future:{}}),[s,n,i]);"string"==typeof r&&(r=e_(r));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:f="default"}=r,h=ey.useMemo(()=>{let e=eD(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:f},navigationType:a}},[s,l,c,d,u,f,a]);return(eS(null!=h,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==h)?null:ey.createElement(eX.Provider,{value:o},ey.createElement(eZ.Provider,{children:t,value:h}))}function tl({children:e,location:t}){return e6(function e(t,r=[]){let a=[];return ey.Children.forEach(t,(t,n)=>{if(!ey.isValidElement(t))return;let i=[...r,n];if(t.type===ey.Fragment)return void a.push.apply(a,e(t.props.children,i));eE(t.type===ts,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),eE(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=e(t.props.children,i)),a.push(s)}),a}(e),t)}ey.memo(function({routes:e,future:t,state:r,unstable_onError:a}){return e6(e,void 0,r,a,t)}),ey.Component;var tc="get",td="application/x-www-form-urlencoded";function tu(e){return null!=e&&"string"==typeof e.tagName}var tf=null,th=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(e){return null==e||th.has(e)?e:(eS(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null)}function tm(e,t){if(!1===e||null==e)throw Error(t)}async function tx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(t){if(console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&ew.hot)throw t;return window.location.reload(),new Promise(()=>{})}}function tg(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function tb(e,t,r){var a;let n,i;return a=(await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await tx(a,r);return e.links?e.links():[]}return[]}))).flat(1).filter(tg).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}),n=new Set,i=new Set(void 0),a.reduce((e,t)=>{!1;let r=JSON.stringify(function(e){let t={};for(let r of Object.keys(e).sort())t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}function tv(e,t,r,a,n,i){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===i?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=a.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof a)return a}return!0}):[]}function ty(e,t,{includeHydrateFallback:r}={}){return[...new Set(e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1))]}function tw(){let e=ey.useContext(eG);return tm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tj(){let e=ey.useContext(eq);return tm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window&&window,Symbol("SingleFetchRedirect");var tN=ey.createContext(void 0);function tE(){let e=ey.useContext(tN);return tm(e,"You must render this element inside a <HydratedRouter> element"),e}function tS(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tk({page:e,...t}){let{router:r}=tw(),a=ey.useMemo(()=>eO(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?ey.createElement(tT,{page:e,matches:a,...t}):null}function tT({page:e,matches:t,...r}){let a=e1(),{manifest:n,routeModules:i}=tE(),{basename:s}=tw(),{loaderData:o,matches:l}=tj(),c=ey.useMemo(()=>tv(e,t,l,n,a,"data"),[e,t,l,n,a]),d=ey.useMemo(()=>tv(e,t,l,n,a,"assets"),[e,t,l,n,a]),u=ey.useMemo(()=>{var r;let l;if(e===a.pathname+a.search+a.hash)return[];let d=new Set,u=!1;if(t.forEach(e=>{let t=n.routes[e.route.id];t&&t.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&i[e.route.id]?.shouldRevalidate||t.hasClientLoader?u=!0:d.add(e.route.id))}),0===d.size)return[];let f=(r="data","/"===(l="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e).pathname?l.pathname=`_root.${r}`:s&&"/"===eD(l.pathname,s)?l.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l);return u&&d.size>0&&f.searchParams.set("_routes",t.filter(e=>d.has(e.route.id)).map(e=>e.route.id).join(",")),[f.pathname+f.search]},[s,o,a,n,c,t,e,i]),f=ey.useMemo(()=>ty(d,n),[d,n]),h=function(e){let{manifest:t,routeModules:r}=tE(),[a,n]=ey.useState([]);return ey.useEffect(()=>{let a=!1;return tb(e,t,r).then(e=>{a||n(e)}),()=>{a=!0}},[e,t,r]),a}(d);return ey.createElement(ey.Fragment,null,u.map(e=>ey.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r})),f.map(e=>ey.createElement("link",{key:e,rel:"modulepreload",href:e,...r})),h.map(({key:e,link:t})=>ey.createElement("link",{key:e,nonce:r.nonce,...t})))}tN.displayName="FrameworkContext";ey.Component;var tA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{tA&&(window.__reactRouterVersion="7.9.6")}catch(e){}function t_({basename:e,children:t,window:r}){let a=ey.useRef();null==a.current&&(a.current=function(e={}){return function(e,t,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,s=n.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}null==c&&(c=0,s.replaceState({...s.state,idx:c},""));let f={get action(){return o},get location(){return e(n,s)},listen(e){if(l)throw Error("A history only accepts one active listener");return n.addEventListener(eN,u),l=e,()=>{n.removeEventListener(eN,u),l=null}},createHref:e=>t(n,e),createURL:function(e){return eC(e)},encodeLocation(e){let t=eC(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=eT(f.location,e,t);let a=ek(r,c=d()+1),u=f.createHref(r);try{s.pushState(a,"",u)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(u)}i&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=eT(f.location,e,t);let a=ek(r,c=d()),n=f.createHref(r);s.replaceState(a,"",n),i&&l&&l({action:o,location:f.location,delta:0})},go:e=>s.go(e)};return f}(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return eT("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:eA(t)},null,e)}({window:r,v5Compat:!0}));let n=a.current,[i,s]=ey.useState({action:n.action,location:n.location}),o=ey.useCallback(e=>{ey.startTransition(()=>s(e))},[s]);return ey.useLayoutEffect(()=>n.listen(o),[n,o]),ey.createElement(to,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tO=ey.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:n,replace:i,state:s,target:o,to:l,preventScrollReset:c,viewTransition:d,...u},f){let h,{basename:p}=ey.useContext(eX),m="string"==typeof l&&tC.test(l),x=!1;if("string"==typeof l&&m&&(h=l,tA))try{let e=new URL(window.location.href),t=new URL(l.startsWith("//")?e.protocol+l:l),r=eD(t.pathname,p);t.origin===e.origin&&null!=r?l=r+t.search+t.hash:x=!0}catch(e){eS(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=function(e,{relative:t}={}){eE(e0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=ey.useContext(eX),{hash:n,pathname:i,search:s}=e5(e,{relative:t}),o=i;return"/"!==r&&(o="/"===i?r:eB([r,i])),a.createHref({pathname:o,search:s,hash:n})}(l,{relative:a}),[b,v,y]=function(e,t){let r=ey.useContext(tN),[a,n]=ey.useState(!1),[i,s]=ey.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,f=ey.useRef(null);ey.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),ey.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let h=()=>{n(!0)},p=()=>{n(!1),s(!1)};return r?"intent"!==e?[i,f,{}]:[i,f,{onFocus:tS(o,h),onBlur:tS(l,p),onMouseEnter:tS(c,h),onMouseLeave:tS(d,p),onTouchStart:tS(u,h)}]:[!1,f,{}]}(r,u),w=function(e,{target:t,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:s}={}){let o=e3(),l=e1(),c=e5(e,{relative:i});return ey.useCallback(d=>{0!==d.button||t&&"_self"!==t||d.metaKey||d.altKey||d.ctrlKey||d.shiftKey||(d.preventDefault(),o(e,{replace:void 0!==r?r:eA(l)===eA(c),state:a,preventScrollReset:n,relative:i,viewTransition:s}))},[l,o,c,r,a,t,e,n,i,s])}(l,{replace:i,state:s,target:o,preventScrollReset:c,relative:a,viewTransition:d}),j=ey.createElement("a",{...u,...y,href:h||g,onClick:x||n?e:function(t){e&&e(t),t.defaultPrevented||w(t)},ref:function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}(f,v),target:o,"data-discover":m||"render"!==t?void 0:"true"});return b&&!m?ey.createElement(ey.Fragment,null,j,ey.createElement(tk,{page:g})):j});tO.displayName="Link",ey.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:n,to:i,viewTransition:s,children:o,...l},c){let d,u=e5(i,{relative:l.relative}),f=e1(),h=ey.useContext(eq),{navigator:p,basename:m}=ey.useContext(eX),x=null!=h&&function(e,{relative:t}={}){let r=ey.useContext(eY);eE(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=tP("useViewTransitionState"),n=e5(e,{relative:t});if(!r.isTransitioning)return!1;let i=eD(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=eD(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=eI(n.pathname,s)||null!=eI(n.pathname,i)}(u)&&!0===s,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,b=f.pathname,v=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(b=b.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=eD(v,m)||v);let y="/"!==g&&g.endsWith("/")?g.length-1:g.length,w=b===g||!a&&b.startsWith(g)&&"/"===b.charAt(y),j=null!=v&&(v===g||!a&&v.startsWith(g)&&"/"===v.charAt(g.length)),N={isActive:w,isPending:j,isTransitioning:x},E=w?e:void 0;d="function"==typeof r?r(N):[r,w?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof n?n(N):n;return ey.createElement(tO,{...l,"aria-current":E,className:d,ref:c,style:S,to:i,viewTransition:s},"function"==typeof o?o(N):o)}).displayName="NavLink",ey.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:i,method:s=tc,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...f},h)=>{let p=function(){let{router:e}=tP("useSubmit"),{basename:t}=ey.useContext(eX),r=tr("useRouteId");return ey.useCallback(async(a,n={})=>{let{action:i,method:s,encType:o,formData:l,body:c}=function(e,t){let r,a,n,i,s;if(tu(e)&&"form"===e.tagName.toLowerCase()){let s=e.getAttribute("action");a=s?eD(s,t):null,r=e.getAttribute("method")||tc,n=tp(e.getAttribute("enctype"))||td,i=new FormData(e)}else if(tu(e)&&"button"===e.tagName.toLowerCase()||tu(e)&&"input"===e.tagName.toLowerCase()&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(a=o?eD(o,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||tc,n=tp(e.getAttribute("formenctype"))||tp(s.getAttribute("enctype"))||td,i=new FormData(s,e),!function(){if(null===tf)try{new FormData(document.createElement("form"),0),tf=!1}catch(e){tf=!0}return tf}()){let{name:t,type:r,value:a}=e;if("image"===r){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,a)}}else if(tu(e))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else r=tc,a=null,n=td,s=e;return i&&"text/plain"===n&&(s=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:s}}(a,t);if(!1===n.navigate){let t=n.fetcherKey||`__${String(++tR)}__`;await e.fetch(t,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||s,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||s,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,r])}(),m=function(e,{relative:t}={}){let{basename:r}=ey.useContext(eX),a=ey.useContext(eJ);eE(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...e5(e||".",{relative:t})},s=e1();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();i.search=r?`?${r}`:""}}return(!e||"."===e)&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(i.pathname="/"===i.pathname?r:eB([r,i.pathname])),eA(i)}(o,{relative:c}),x="get"===s.toLowerCase()?"get":"post",g="string"==typeof o&&tC.test(o);return ey.createElement("form",{ref:h,method:x,action:m,onSubmit:a?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,o=a?.getAttribute("formmethod")||s;p(a||e.currentTarget,{fetcherKey:t,method:o,navigate:r,replace:n,state:i,relative:c,preventScrollReset:d,viewTransition:u})},...f,"data-discover":g||"render"!==e?void 0:"true"})}).displayName="Form";function tP(e){var t;let r=ey.useContext(eG);return eE(r,(t=e,`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`)),r}var tR=0,tI=e.i(47167);let tD=(0,ev.createContext)({});function tM(e){let t=(0,ev.useRef)(null);return null===t.current&&(t.current=e()),t.current}let tL="undefined"!=typeof window,tF=tL?ev.useLayoutEffect:ev.useEffect,tU=(0,ev.createContext)(null);function tz(e){return"object"==typeof e&&null!==e}function tB(e){return tz(e)&&"offsetHeight"in e}var tV=ev;let t$=(0,ev.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function tH(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class tW extends tV.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=tB(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tG({children:e,isPresent:t,anchorX:r,root:a}){let n=(0,tV.useId)(),i=(0,tV.useRef)(null),s=(0,tV.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,tV.useContext)(t$),l=function(...e){return ev.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=tH(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():tH(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,tV.useInsertionEffect)(()=>{let{width:e,height:l,top:c,left:d,right:u}=s.current;if(t||!i.current||!e||!l)return;let f="left"===r?`left: ${d}`:`right: ${u}`;i.current.dataset.motionPopId=n;let h=document.createElement("style");o&&(h.nonce=o);let p=a??document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{p.contains(h)&&p.removeChild(h)}},[t]),(0,eb.jsx)(tW,{isPresent:t,childRef:i,sizeRef:s,children:tV.cloneElement(e,{ref:l})})}let tq=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{let c=tM(tK),d=(0,ev.useId)(),u=!0,f=(0,ev.useMemo)(()=>(u=!1,{id:d,initial:t,isPresent:r,custom:n,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[r,c,a]);return i&&u&&(f={...f}),(0,ev.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),ev.useEffect(()=>{r||c.size||!a||a()},[r]),"popLayout"===s&&(e=(0,eb.jsx)(tG,{isPresent:r,anchorX:o,root:l,children:e})),(0,eb.jsx)(tU.Provider,{value:f,children:e})};function tK(){return new Map}function tY(e=!0){let t=(0,ev.useContext)(tU);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:a,register:n}=t,i=(0,ev.useId)();(0,ev.useEffect)(()=>{if(e)return n(i)},[e]);let s=(0,ev.useCallback)(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,s]:[!0]}let tX=e=>e.key||"";function tZ(e){let t=[];return ev.Children.forEach(e,e=>{(0,ev.isValidElement)(e)&&t.push(e)}),t}let tJ=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{let[c,d]=tY(s),u=(0,ev.useMemo)(()=>tZ(e),[e]),f=s&&!c?[]:u.map(tX),h=(0,ev.useRef)(!0),p=(0,ev.useRef)(u),m=tM(()=>new Map),[x,g]=(0,ev.useState)(u),[b,v]=(0,ev.useState)(u);tF(()=>{h.current=!1,p.current=u;for(let e=0;e<b.length;e++){let t=tX(b[e]);f.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[b,f.length,f.join("-")]);let y=[];if(u!==x){let e=[...u];for(let t=0;t<b.length;t++){let r=b[t],a=tX(r);f.includes(a)||(e.splice(t,0,r),y.push(r))}return"wait"===i&&y.length&&(e=y),v(tZ(e)),g(u),null}let{forceRender:w}=(0,ev.useContext)(tD);return(0,eb.jsx)(eb.Fragment,{children:b.map(e=>{let x=tX(e),g=(!s||!!c)&&(u===b||f.includes(x));return(0,eb.jsx)(tq,{isPresent:g,initial:(!h.current||!!r)&&void 0,custom:t,presenceAffectsLayout:n,mode:i,root:l,onExitComplete:g?void 0:()=>{if(!m.has(x))return;m.set(x,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(w?.(),v(p.current),s&&d?.(),a&&a())},anchorX:o,children:e},x)})})},tQ=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],t0=new Set(tQ),t1=e=>180*e/Math.PI,t2=e=>t3(t1(Math.atan2(e[1],e[0]))),t4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:t2,rotateZ:t2,skewX:e=>t1(Math.atan(e[1])),skewY:e=>t1(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},t3=e=>((e%=360)<0&&(e+=360),e),t5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),t6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),t8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:t5,scaleY:t6,scale:e=>(t5(e)+t6(e))/2,rotateX:e=>t3(t1(Math.atan2(e[6],e[5]))),rotateY:e=>t3(t1(Math.atan2(-e[2],e[0]))),rotateZ:t2,rotate:t2,skewX:e=>t1(Math.atan(e[4])),skewY:e=>t1(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function t7(e){return+!!e.includes("scale")}function t9(e,t){let r,a;if(!e||"none"===e)return t7(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)r=t8,a=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=t4,a=t}if(!a)return t7(t);let i=r[t],s=a[1].split(",").map(re);return"function"==typeof i?i(s):s[i]}function re(e){return parseFloat(e.trim())}let rt=e=>t=>"string"==typeof t&&t.startsWith(e),rr=rt("--"),ra=rt("var(--"),rn=e=>!!ra(e)&&ri.test(e.split("/*")[0].trim()),ri=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function rs({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}let ro=(e,t,r)=>e+(t-e)*r;function rl(e){return void 0===e||1===e}function rc({scale:e,scaleX:t,scaleY:r}){return!rl(e)||!rl(t)||!rl(r)}function rd(e){return rc(e)||ru(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ru(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function rf(e,t,r,a,n){return void 0!==n&&(e=a+n*(e-a)),a+r*(e-a)+t}function rh(e,t=0,r=1,a,n){e.min=rf(e.min,t,r,a,n),e.max=rf(e.max,t,r,a,n)}function rp(e,{x:t,y:r}){rh(e.x,t.translate,t.scale,t.originPoint),rh(e.y,r.translate,r.scale,r.originPoint)}function rm(e,t){e.min=e.min+t,e.max=e.max+t}function rx(e,t,r,a,n=.5){let i=ro(e.min,e.max,n);rh(e,t,r,i,a)}function rg(e,t){rx(e.x,t.x,t.scaleX,t.scale,t.originX),rx(e.y,t.y,t.scaleY,t.scale,t.originY)}function rb(e,t){return rs(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}(e.getBoundingClientRect(),t))}let rv=new Set(["width","height","top","left","right","bottom",...tQ]),ry=(e,t,r)=>r>t?t:r<e?e:r,rw={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},rj={...rw,transform:e=>ry(0,1,e)},rN={...rw,default:1},rE=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),rS=rE("deg"),rk=rE("%"),rT=rE("px"),rA=rE("vh"),r_=rE("vw"),rC={...rk,parse:e=>rk.parse(e)/100,transform:e=>rk.transform(100*e)},rO=e=>t=>t.test(e),rP=[rw,rT,rk,rS,r_,rA,{test:e=>"auto"===e,parse:e=>e}],rR=e=>rP.find(rO(e)),rI=()=>{},rD=()=>{},rM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,rL=e=>e===rw||e===rT,rF=new Set(["x","y","z"]),rU=tQ.filter(e=>!rF.has(e)),rz={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>t9(t,"x"),y:(e,{transform:t})=>t9(t,"y")};rz.translateX=rz.x,rz.translateY=rz.y;let rB=e=>e,rV={},r$=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rH(e,t){let r=!1,a=!0,n={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=r$.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,a=new Set,n=!1,i=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:(e,t=!1,i=!1)=>{let o=i&&n?r:a;return t&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{a.delete(e),s.delete(e)},process:e=>{if(o=e,n){i=!0;return}n=!0,[r,a]=[a,r],r.forEach(c),t,l=0,r.clear(),n=!1,i&&(i=!1,d.process(e))}};return d}(i,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:f,render:h,postRender:p}=s,m=()=>{let i=rV.useManualTiming?n.timestamp:performance.now();r=!1,rV.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(i-n.timestamp,40),1)),n.timestamp=i,n.isProcessing=!0,o.process(n),l.process(n),c.process(n),d.process(n),u.process(n),f.process(n),h.process(n),p.process(n),n.isProcessing=!1,r&&t&&(a=!1,e(m))};return{schedule:r$.reduce((t,i)=>{let o=s[i];return t[i]=(t,i=!1,s=!1)=>(!r&&(r=!0,a=!0,n.isProcessing||e(m)),o.schedule(t,i,s)),t},{}),cancel:e=>{for(let t=0;t<r$.length;t++)s[r$[t]].cancel(e)},state:n,steps:s}}let{schedule:rW,cancel:rG,state:rq,steps:rK}=rH("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:rB,!0),rY=new Set,rX=!1,rZ=!1,rJ=!1;function rQ(){if(rZ){let e=Array.from(rY).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,a=(t=[],rU.forEach(r=>{let a=e.getValue(r);void 0!==a&&(t.push([r,a.get()]),a.set(+!!r.startsWith("scale")))}),t);a.length&&(r.set(e,a),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}rZ=!1,rX=!1,rY.forEach(e=>e.complete(rJ)),rY.clear()}function r0(){rY.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rZ=!0)})}class r1{constructor(e,t,r,a,n,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=n,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(rY.add(this),rX||(rX=!0,rW.read(r0),rW.resolveKeyframes(rQ))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;if(null===e[0]){let n=a?.get(),i=e[e.length-1];if(void 0!==n)e[0]=n;else if(r&&t){let a=r.readValue(t,i);null!=a&&(e[0]=a)}void 0===e[0]&&(e[0]=i),a&&void 0===n&&a.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rY.delete(this)}cancel(){"scheduled"===this.state&&(rY.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let r2=e=>Math.round(1e5*e)/1e5,r4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,r3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r5=(e,t)=>r=>!!("string"==typeof r&&r3.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),r6=(e,t,r)=>a=>{if("string"!=typeof a)return a;let[n,i,s,o]=a.match(r4);return{[e]:parseFloat(n),[t]:parseFloat(i),[r]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},r8={...rw,transform:e=>Math.round(ry(0,255,e))},r7={test:r5("rgb","red"),parse:r6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+r8.transform(e)+", "+r8.transform(t)+", "+r8.transform(r)+", "+r2(rj.transform(a))+")"},r9={test:r5("#"),parse:function(e){let t="",r="",a="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}},transform:r7.transform},ae={test:r5("hsl","hue"),parse:r6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+rk.transform(r2(t))+", "+rk.transform(r2(r))+", "+r2(rj.transform(a))+")"},at={test:e=>r7.test(e)||r9.test(e)||ae.test(e),parse:e=>r7.test(e)?r7.parse(e):ae.test(e)?ae.parse(e):r9.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?r7.transform(e):ae.transform(e),getAnimatableNone:e=>{let t=at.parse(e);return t.alpha=0,at.transform(t)}},ar=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,aa="number",an="color",ai=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function as(e){let t=e.toString(),r=[],a={color:[],number:[],var:[]},n=[],i=0,s=t.replace(ai,e=>(at.test(e)?(a.color.push(i),n.push(an),r.push(at.parse(e))):e.startsWith("var(")?(a.var.push(i),n.push("var"),r.push(e)):(a.number.push(i),n.push(aa),r.push(parseFloat(e))),++i,"${}")).split("${}");return{values:r,split:s,indexes:a,types:n}}function ao(e){return as(e).values}function al(e){let{split:t,types:r}=as(e),a=t.length;return e=>{let n="";for(let i=0;i<a;i++)if(n+=t[i],void 0!==e[i]){let t=r[i];t===aa?n+=r2(e[i]):t===an?n+=at.transform(e[i]):n+=e[i]}return n}}let ac=e=>"number"==typeof e?0:at.test(e)?at.getAnimatableNone(e):e,ad={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(r4)?.length||0)+(e.match(ar)?.length||0)>0},parse:ao,createTransformer:al,getAnimatableNone:function(e){let t=ao(e);return al(e)(t.map(ac))}},au=new Set(["brightness","contrast","saturate","opacity"]);function af(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[a]=r.match(r4)||[];if(!a)return e;let n=r.replace(a,""),i=+!!au.has(t);return a!==r&&(i*=100),t+"("+i+n+")"}let ah=/\b([a-z-]*)\(.*?\)/gu,ap={...ad,getAnimatableNone:e=>{let t=e.match(ah);return t?t.map(af).join(" "):e}},am={...rw,transform:Math.round},ax={borderWidth:rT,borderTopWidth:rT,borderRightWidth:rT,borderBottomWidth:rT,borderLeftWidth:rT,borderRadius:rT,radius:rT,borderTopLeftRadius:rT,borderTopRightRadius:rT,borderBottomRightRadius:rT,borderBottomLeftRadius:rT,width:rT,maxWidth:rT,height:rT,maxHeight:rT,top:rT,right:rT,bottom:rT,left:rT,padding:rT,paddingTop:rT,paddingRight:rT,paddingBottom:rT,paddingLeft:rT,margin:rT,marginTop:rT,marginRight:rT,marginBottom:rT,marginLeft:rT,backgroundPositionX:rT,backgroundPositionY:rT,rotate:rS,rotateX:rS,rotateY:rS,rotateZ:rS,scale:rN,scaleX:rN,scaleY:rN,scaleZ:rN,skew:rS,skewX:rS,skewY:rS,distance:rT,translateX:rT,translateY:rT,translateZ:rT,x:rT,y:rT,z:rT,perspective:rT,transformPerspective:rT,opacity:rj,originX:rC,originY:rC,originZ:rT,zIndex:am,fillOpacity:rj,strokeOpacity:rj,numOctaves:am},ag={...ax,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:ap,WebkitFilter:ap},ab=e=>ag[e];function av(e,t){let r=ab(e);return r!==ap&&(r=ad),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let ay=new Set(["auto","none","0"]);class aw extends r1{constructor(e,t,r,a,n){super(e,t,r,a,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let a=e[r];if("string"==typeof a&&rn(a=a.trim())){let n=function e(t,r,a=1){rD(a<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[n,i]=function(e){let t=rM.exec(e);if(!t)return[,];let[,r,a,n]=t;return[`--${r??a}`,n]}(t);if(!n)return;let s=window.getComputedStyle(r).getPropertyValue(n);if(s){let e=s.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return rn(i)?e(i,r,a+1):i}(a,t.current);void 0!==n&&(e[r]=n),r===e.length-1&&(this.finalKeyframe=a)}}if(this.resolveNoneKeyframes(),!rv.has(r)||2!==e.length)return;let[a,n]=e,i=rR(a),s=rR(n);if(i!==s)if(rL(i)&&rL(s))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else rz[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let a,n=0;for(;n<e.length&&!a;){let t=e[n];"string"==typeof t&&!ay.has(t)&&as(t).values.length&&(a=e[n]),n++}if(a&&r)for(let n of t)e[n]=av(r,a)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rz[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let a=t[t.length-1];void 0!==a&&e.getValue(r,a).jump(a,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);let n=r.length-1,i=r[n];r[n]=rz[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let aj=e=>!!(e&&e.getVelocity);function aN(){t=void 0}let aE={now:()=>(void 0===t&&aE.set(rq.isProcessing||rV.useManualTiming?rq.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(aN)}};function aS(e,t){-1===e.indexOf(t)&&e.push(t)}function ak(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class aT{constructor(){this.subscriptions=[]}add(e){return aS(this.subscriptions,e),()=>ak(this.subscriptions,e)}notify(e,t,r){let a=this.subscriptions.length;if(a)if(1===a)this.subscriptions[0](e,t,r);else for(let n=0;n<a;n++){let a=this.subscriptions[n];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class aA{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=aE.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=aE.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aT);let r=this.events[e].add(t);return"change"===e?()=>{r(),rW.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return s&&s.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=aE.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function a_(e,t){return new aA(e,t)}let aC=[...rP,at,ad],{schedule:aO}=rH(queueMicrotask,!1),aP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aR={};for(let e in aP)aR[e]={isEnabled:t=>aP[e].some(e=>!!t[e])};let aI=()=>({translate:0,scale:1,origin:0,originPoint:0}),aD=()=>({x:aI(),y:aI()}),aM=()=>({min:0,max:0}),aL=()=>({x:aM(),y:aM()}),aF={current:null},aU={current:!1},az=new WeakMap;function aB(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function aV(e){return"string"==typeof e||Array.isArray(e)}let a$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aH=["initial",...a$];function aW(e){return aB(e.animate)||aH.some(t=>aV(e[t]))}function aG(e){return!!(aW(e)||e.variants)}function aq(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function aK(e,t,r,a){if("function"==typeof t){let[n,i]=aq(a);t=t(void 0!==r?r:e.custom,n,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[n,i]=aq(a);t=t(void 0!==r?r:e.custom,n,i)}return t}let aY=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aX{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:n,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=aE.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,rW.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!n,this.isControllingVariants=aW(t),this.isVariantNode=aG(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in d){const t=d[e];void 0!==o[e]&&aj(t)&&t.set(o[e])}}mount(e){this.current=e,az.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),aU.current||function(){if(aU.current=!0,tL)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>aF.current=e.matches;e.addEventListener("change",t),t()}else aF.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||aF.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),rG(this.notifyUpdate),rG(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let a=t0.has(e);a&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&rW.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in aR){let t=aR[e];if(!t)continue;let{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):aL()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<aY.length;t++){let r=aY[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=function(e,t,r){for(let a in t){let n=t[a],i=r[a];if(aj(n))e.addValue(a,n);else if(aj(i))e.addValue(a,a_(n,{owner:e}));else if(i!==n)if(e.hasValue(a)){let t=e.getValue(a);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(a);e.addValue(a,a_(void 0!==t?t:n,{owner:e}))}}for(let a in r)void 0===t[a]&&e.removeValue(a);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=a_(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let a,n;if("string"==typeof r&&(a=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)||(n=r,/^0[^.\s]+$/u.test(n))))r=parseFloat(r);else{let a;a=r,!aC.find(rO(a))&&ad.test(t)&&(r=av(e,t))}this.setBaseTarget(e,aj(r)?r.get():r)}return aj(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let a=aK(this.props,r,this.presenceContext?.custom);a&&(t=a[e])}if(r&&void 0!==t)return t;let a=this.getBaseTargetFromProps(this.props,e);return void 0===a||aj(a)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new aT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){aO.render(this.render)}}class aZ extends aX{constructor(){super(...arguments),this.KeyframeResolver=aw}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;aj(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let aJ=(e,t)=>t&&"number"==typeof e?t.transform(e):e,aQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a0=tQ.length;function a1(e,t,r){let{style:a,vars:n,transformOrigin:i}=e,s=!1,o=!1;for(let e in t){let r=t[e];if(t0.has(e)){s=!0;continue}if(rr(e)){n[e]=r;continue}{let t=aJ(r,ax[e]);e.startsWith("origin")?(o=!0,i[e]=t):a[e]=t}}if(!t.transform&&(s||r?a.transform=function(e,t,r){let a="",n=!0;for(let i=0;i<a0;i++){let s=tQ[i],o=e[s];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!s.startsWith("scale"):0===parseFloat(o))||r){let e=aJ(o,ax[s]);if(!l){n=!1;let t=aQ[s]||s;a+=`${t}(${e}) `}r&&(t[s]=e)}}return a=a.trim(),r?a=r(t,n?"":a):n&&(a="none"),a}(t,e.transform,r):a.transform&&(a.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:r=0}=i;a.transformOrigin=`${e} ${t} ${r}`}}function a2(e,{style:t,vars:r},a,n){let i,s=e.style;for(i in t)s[i]=t[i];for(i in n?.applyProjectionStyles(s,a),r)s.setProperty(i,r[i])}let a4={};function a3(e,{layout:t,layoutId:r}){return t0.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!a4[e]||"opacity"===e)}function a5(e,t,r){let{style:a}=e,n={};for(let i in a)(aj(a[i])||t.style&&aj(t.style[i])||a3(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(n[i]=a[i]);return n}class a6 extends aZ{constructor(){super(...arguments),this.type="html",this.renderInstance=a2}readValueFromInstance(e,t){if(t0.has(t))return this.projection?.isProjecting?t7(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return t9(r,t)})(e,t);{let r=window.getComputedStyle(e),a=(rr(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof a?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return rb(e,t)}build(e,t,r){a1(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return a5(e,t,r)}}let a8=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a7={offset:"stroke-dashoffset",array:"stroke-dasharray"},a9={offset:"strokeDashoffset",array:"strokeDasharray"};function ne(e,{attrX:t,attrY:r,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:s=0,...o},l,c,d){if(a1(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:u,style:f}=e;u.transform&&(f.transform=u.transform,delete u.transform),(f.transform||u.transformOrigin)&&(f.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),f.transform&&(f.transformBox=d?.transformBox??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==r&&(u.y=r),void 0!==a&&(u.scale=a),void 0!==n&&function(e,t,r=1,a=0,n=!0){e.pathLength=1;let i=n?a7:a9;e[i.offset]=rT.transform(-a);let s=rT.transform(t),o=rT.transform(r);e[i.array]=`${s} ${o}`}(u,n,i,s,!1)}let nt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nr=e=>"string"==typeof e&&"svg"===e.toLowerCase();function na(e,t,r){let a=a5(e,t,r);for(let r in e)(aj(e[r])||aj(t[r]))&&(a[-1!==tQ.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return a}class nn extends aZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=aL}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(t0.has(t)){let e=ab(t);return e&&e.default||0}return t=nt.has(t)?t:a8(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return na(e,t,r)}build(e,t,r){ne(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,a){for(let r in a2(e,t,void 0,a),t.attrs)e.setAttribute(nt.has(r)?r:a8(r),t.attrs[r])}mount(e){this.isSVGTag=nr(e.tagName),super.mount(e)}}let ni=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ns(e){if("string"!=typeof e||e.includes("-"));else if(ni.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let no=(0,ev.createContext)({strict:!1}),nl=(0,ev.createContext)({});function nc(e){return Array.isArray(e)?e.join(" "):e}let nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nu(e,t,r){for(let a in t)aj(t[a])||a3(a,r)||(e[a]=t[a])}let nf=()=>({...nd(),attrs:{}}),nh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function np(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nh.has(e)}let nm=e=>!np(e);try{c=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof c&&(nm=e=>e.startsWith("on")?!np(e):c(e))}catch{}function nx(e){return aj(e)?e.get():e}let ng=e=>(t,r)=>{let a=(0,ev.useContext)(nl),n=(0,ev.useContext)(tU),i=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,n){return{latestValues:function(e,t,r,a){let n={},i=a(e,{});for(let e in i)n[e]=nx(i[e]);let{initial:s,animate:o}=e,l=aW(e),c=aG(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial,u=(d=d||!1===s)?o:s;if(u&&"boolean"!=typeof u&&!aB(u)){let t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){let a=aK(e,t[r]);if(a){let{transitionEnd:e,transition:t,...r}=a;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(n[e]=t)}for(let t in e)n[t]=e[t]}}}return n}(r,a,n,e),renderState:t()}})(e,t,a,n);return r?i():tM(i)},nb=ng({scrapeMotionValuesFromProps:a5,createRenderState:nd}),nv=ng({scrapeMotionValuesFromProps:na,createRenderState:nf}),ny=Symbol.for("motionComponentSymbol");function nw(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let nj="data-"+a8("framerAppearId"),nN=(0,ev.createContext)({});function nE(e,{forwardMotionProps:t=!1}={},r,a){r&&function(e){for(let t in e)aR[t]={...aR[t],...e[t]}}(r);let n=ns(e)?nv:nb;function i(r,i){var s;let o,l={...(0,ev.useContext)(t$),...r,layoutId:function({layoutId:e}){let t=(0,ev.useContext)(tD).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:c}=l,d=function(e){let{initial:t,animate:r}=function(e,t){if(aW(e)){let{initial:t,animate:r}=e;return{initial:!1===t||aV(t)?t:void 0,animate:aV(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,ev.useContext)(nl));return(0,ev.useMemo)(()=>({initial:t,animate:r}),[nc(t),nc(r)])}(r),u=n(r,c);if(!c&&tL){(0,ev.useContext)(no).strict;let t=function(e){let{drag:t,layout:r}=aR;if(!t&&!r)return{};let a={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}(l);o=t.MeasureLayout,d.visualElement=function(e,t,r,a,n){let{visualElement:i}=(0,ev.useContext)(nl),s=(0,ev.useContext)(no),o=(0,ev.useContext)(tU),l=(0,ev.useContext)(t$).reducedMotion,c=(0,ev.useRef)(null);a=a||s.renderer,!c.current&&a&&(c.current=a(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));let d=c.current,u=(0,ev.useContext)(nN);d&&!d.projection&&n&&("html"===d.type||"svg"===d.type)&&function(e,t,r,a){let{layoutId:n,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!s||o&&nw(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:a,crossfade:d,layoutScroll:l,layoutRoot:c})}(c.current,r,n,u);let f=(0,ev.useRef)(!1);(0,ev.useInsertionEffect)(()=>{d&&f.current&&d.update(r,o)});let h=r[nj],p=(0,ev.useRef)(!!h&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return tF(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),(0,ev.useEffect)(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),p.current=!1),d.enteringChildren=void 0)}),d}(e,u,l,a,t.ProjectionNode)}return(0,eb.jsxs)(nl.Provider,{value:d,children:[o&&d.visualElement?(0,eb.jsx)(o,{visualElement:d.visualElement,...l}):null,function(e,t,r,{latestValues:a},n,i=!1){let s=(ns(e)?function(e,t,r,a){let n=(0,ev.useMemo)(()=>{let r=nf();return ne(r,t,nr(a),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};nu(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let r,a,n={},i=(r=e.style||{},nu(a={},r,e),Object.assign(a,function({transformTemplate:e},t){return(0,ev.useMemo)(()=>{let r=nd();return a1(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),a);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n})(t,a,n,e),o=function(e,t,r){let a={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(nm(n)||!0===r&&np(n)||!t&&!np(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}(t,"string"==typeof e,i),l=e!==ev.Fragment?{...o,...s,ref:r}:{},{children:c}=t,d=(0,ev.useMemo)(()=>aj(c)?c.get():c,[c]);return(0,ev.createElement)(e,{...l,children:d})}(e,r,(s=d.visualElement,(0,ev.useCallback)(e=>{e&&u.onMount&&u.onMount(e),s&&(e?s.mount(e):s.unmount()),i&&("function"==typeof i?i(e):nw(i)&&(i.current=e))},[s])),u,c,t)]})}i.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let s=(0,ev.forwardRef)(i);return s[ny]=e,s}function nS(e,t,r){let a=e.getProps();return aK(a,t,void 0!==r?r:a.custom,e)}function nk(e,t){return e?.[t]??e?.default??e}let nT=e=>Array.isArray(e);function nA(e,t){let r=e.getValue("willChange");if(aj(r)&&r.add)return r.add(t);if(!r&&rV.WillChange){let r=new rV.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function n_(e){e.duration=0,e.type="keyframes"}let nC=(e,t)=>r=>t(e(r)),nO=(...e)=>e.reduce(nC),nP=e=>1e3*e,nR={layout:0,mainThread:0,waapi:0};function nI(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function nD(e,t){return r=>r>0?t:e}let nM=(e,t,r)=>{let a=e*e,n=r*(t*t-a)+a;return n<0?0:Math.sqrt(n)},nL=[r9,r7,ae];function nF(e){let t=nL.find(t=>t.test(e));if(rI(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===ae&&(r=function({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,r/=100;let n=0,i=0,s=0;if(t/=100){let a=r<.5?r*(1+t):r+t-r*t,o=2*r-a;n=nI(o,a,e+1/3),i=nI(o,a,e),s=nI(o,a,e-1/3)}else n=i=s=r;return{red:Math.round(255*n),green:Math.round(255*i),blue:Math.round(255*s),alpha:a}}(r)),r}let nU=(e,t)=>{let r=nF(e),a=nF(t);if(!r||!a)return nD(e,t);let n={...r};return e=>(n.red=nM(r.red,a.red,e),n.green=nM(r.green,a.green,e),n.blue=nM(r.blue,a.blue,e),n.alpha=ro(r.alpha,a.alpha,e),r7.transform(n))},nz=new Set(["none","hidden"]);function nB(e,t){return r=>ro(e,t,r)}function nV(e){return"number"==typeof e?nB:"string"==typeof e?rn(e)?nD:at.test(e)?nU:nW:Array.isArray(e)?n$:"object"==typeof e?at.test(e)?nU:nH:nD}function n$(e,t){let r=[...e],a=r.length,n=e.map((e,r)=>nV(e)(e,t[r]));return e=>{for(let t=0;t<a;t++)r[t]=n[t](e);return r}}function nH(e,t){let r={...e,...t},a={};for(let n in r)void 0!==e[n]&&void 0!==t[n]&&(a[n]=nV(e[n])(e[n],t[n]));return e=>{for(let t in a)r[t]=a[t](e);return r}}let nW=(e,t)=>{let r=ad.createTransformer(t),a=as(e),n=as(t);if(!(a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length))return rI(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),nD(e,t);if(nz.has(e)&&!n.values.length||nz.has(t)&&!a.values.length)return nz.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return nO(n$(function(e,t){let r=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let i=t.types[n],s=e.indexes[i][a[i]],o=e.values[s]??0;r[n]=o,a[i]++}return r}(a,n),n.values),r)};function nG(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?ro(e,t,r):nV(e)(e,t)}let nq=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>rW.update(t,e),stop:()=>rG(t),now:()=>rq.isProcessing?rq.timestamp:aE.now()}},nK=(e,t,r=10)=>{let a="",n=Math.max(Math.round(t/r),2);for(let t=0;t<n;t++)a+=Math.round(1e4*e(t/(n-1)))/1e4+", ";return`linear(${a.substring(0,a.length-2)})`};function nY(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function nX(e,t,r){var a,n;let i=Math.max(t-5,0);return a=r-e(i),(n=t-i)?1e3/n*a:0}let nZ=.01,nJ=2,nQ=.005,n0=.5;function n1(e,t){return e*Math.sqrt(1-t*t)}let n2=["duration","bounce"],n4=["stiffness","damping","mass"];function n3(e,t){return t.some(t=>void 0!==e[t])}function n5(e=.3,t=.3){let r,a="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:i}=a,s=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!n3(e,n4)&&n3(e,n2))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),a=r*r,n=2*ry(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:1,stiffness:a,damping:n}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:a=1}){let n,i;rI(e<=nP(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=ry(.05,1,s),e=ry(.01,10,e/1e3),s<1?(n=t=>{let a=t*s,n=a*e;return .001-(a-r)/n1(t,s)*Math.exp(-n)},i=t=>{let a=t*s*e,i=Math.pow(s,2)*Math.pow(t,2)*e,o=Math.exp(-a),l=n1(Math.pow(t,2),s);return(a*r+r-i)*o*(-n(t)+.001>0?-1:1)/l}):(n=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),i=t=>e*e*(r-t)*Math.exp(-t*e));let o=function(e,t,r){let a=r;for(let r=1;r<12;r++)a-=e(a)/t(a);return a}(n,i,5/e);if(e=nP(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*a;return{stiffness:t,damping:2*s*Math.sqrt(a*t),duration:e}}}(e);(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...a,velocity:-((a.velocity||0)/1e3)}),m=h||0,x=d/(2*Math.sqrt(c*u)),g=o-s,b=Math.sqrt(c/u)/1e3,v=5>Math.abs(g);if(n||(n=v?nZ:nJ),i||(i=v?nQ:n0),x<1){let e=n1(b,x);r=t=>o-Math.exp(-x*b*t)*((m+x*b*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===x)r=e=>o-Math.exp(-b*e)*(g+(m+b*g)*e);else{let e=b*Math.sqrt(x*x-1);r=t=>{let r=Math.exp(-x*b*t),a=Math.min(e*t,300);return o-r*((m+x*b*g)*Math.sinh(a)+e*g*Math.cosh(a))/e}}let y={calculatedDuration:p&&f||null,next:e=>{let t=r(e);if(p)l.done=e>=f;else{let a=0===e?m:0;x<1&&(a=0===e?nP(m):nX(r,e,t));let s=Math.abs(o-t)<=i;l.done=Math.abs(a)<=n&&s}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(nY(y),2e4),t=nK(t=>y.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return y}function n6({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){let u,f,h=e[0],p={done:!1,value:h},m=r*t,x=h+m,g=void 0===s?x:s(x);g!==x&&(m=g-h);let b=e=>-m*Math.exp(-e/a),v=e=>g+b(e),y=e=>{let t=b(e),r=v(e);p.done=Math.abs(t)<=c,p.value=p.done?g:r},w=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var r;u=e,f=n5({keyframes:[p.value,(r=p.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:nX(v,e,p.value),damping:n,stiffness:i,restDelta:c,restSpeed:d})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(f||void 0!==u||(t=!0,y(e),w(e)),void 0!==u&&e>=u)?f.next(e-u):(t||y(e),p)}}}n5.applyToOptions=e=>{let t=function(e,t=100,r){let a=r({...e,keyframes:[0,t]}),n=Math.min(nY(a),2e4);return{type:"keyframes",ease:e=>a.next(n*e).value/t,duration:n/1e3}}(e,100,n5);return e.ease=t.ease,e.duration=nP(t.duration),e.type="keyframes",e};let n8=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function n7(e,t,r,a){return e===t&&r===a?rB:n=>0===n||1===n?n:n8(function(e,t,r,a,n){let i,s,o=0;do(i=n8(s=t+(r-t)/2,a,n)-e)>0?r=s:t=s;while(Math.abs(i)>1e-7&&++o<12)return s}(n,0,1,e,r),t,a)}let n9=n7(.42,0,1,1),ie=n7(0,0,.58,1),it=n7(.42,0,.58,1),ir=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ia=e=>t=>1-e(1-t),ii=n7(.33,1.53,.69,.99),is=ia(ii),io=ir(is),il=e=>(e*=2)<1?.5*is(e):.5*(2-Math.pow(2,-10*(e-1))),ic=e=>1-Math.sin(Math.acos(e)),id=ia(ic),iu=ir(ic),ih=e=>Array.isArray(e)&&"number"==typeof e[0],ip={linear:rB,easeIn:n9,easeInOut:it,easeOut:ie,circIn:ic,circInOut:iu,circOut:id,backIn:is,backInOut:io,backOut:ii,anticipate:il},im=e=>{if(ih(e)){rD(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,a,n]=e;return n7(t,r,a,n)}return"string"==typeof e?(rD(void 0!==ip[e],`Invalid easing type '${e}'`,"invalid-easing-type"),ip[e]):e},ix=(e,t,r)=>{let a=t-e;return 0===a?1:(r-e)/a};function ig({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){var n;let i,s=Array.isArray(a)&&"number"!=typeof a[0]?a.map(im):im(a),o={done:!1,value:t[0]},l=function(e,t,{clamp:r=!0,ease:a,mixer:n}={}){let i=e.length;if(rD(i===t.length,"Both input and output ranges must be the same length","range-length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,r){let a=[],n=r||rV.mix||nG,i=e.length-1;for(let r=0;r<i;r++){let i=n(e[r],e[r+1]);t&&(i=nO(Array.isArray(t)?t[r]||rB:t,i)),a.push(i)}return a}(t,a,n),l=o.length,c=r=>{if(s&&r<e[0])return t[0];let a=0;if(l>1)for(;a<e.length-2&&!(r<e[a+1]);a++);let n=ix(e[a],e[a+1],r);return o[a](n)};return r?t=>c(ry(e[0],e[i-1],t)):c}((n=r&&r.length===t.length?r:(!function(e,t){let r=e[e.length-1];for(let a=1;a<=t;a++){let n=ix(0,t,a);e.push(ro(r,1,n))}}(i=[0],t.length-1),i),n.map(t=>t*e)),t,{ease:Array.isArray(s)?s:t.map(()=>s||it).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let ib=e=>null!==e;function iv(e,{repeat:t,repeatType:r="loop"},a,n=1){let i=e.filter(ib),s=n<0||t&&"loop"!==r&&t%2==1?0:i.length-1;return s&&void 0!==a?a:i[s]}let iy={decay:n6,inertia:n6,tween:ig,keyframes:ig,spring:n5};function iw(e){"string"==typeof e.type&&(e.type=iy[e.type])}class ij{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let iN=e=>e/100;class iE extends ij{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==aE.now()&&this.tick(aE.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},nR.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;iw(e);let{type:t=ig,repeat:r=0,repeatDelay:a=0,repeatType:n,velocity:i=0}=e,{keyframes:s}=e,o=t||ig;o!==ig&&"number"!=typeof s[0]&&(this.mixKeyframes=nO(iN,nG(s[0],s[1])),s=[0,100]);let l=o({...e,keyframes:s});"mirror"===n&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=nY(l));let{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:a,mixKeyframes:n,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:f,type:h,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let x=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=a);let b=this.currentTime,v=r;if(d){let e=Math.min(this.currentTime,a)/s,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,d+1))%2&&("reverse"===u?(r=1-r,f&&(r-=f/s)):"mirror"===u&&(v=i)),b=ry(0,1,r)*s}let y=g?{done:!1,value:c[0]}:v.next(b);n&&(y.value=n(y.value));let{done:w}=y;g||null===o||(w=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);let j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&h!==n6&&(y.value=iv(c,this.options,m,this.speed)),p&&p(y.value),j&&this.finish(),y}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=nP(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(aE.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=nq,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(aE.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,nR.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function iS(e){let t;return()=>(void 0===t&&(t=e()),t)}let ik=iS(()=>void 0!==window.ScrollTimeline),iT={},iA=(a=iS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>iT.linearEasing??a()),i_=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,iC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:i_([0,.65,.55,1]),circOut:i_([.55,0,1,.45]),backIn:i_([.31,.01,.66,-.59]),backOut:i_([.33,1.53,.69,.99])};function iO(e){return"function"==typeof e&&"applyToOptions"in e}class iP extends ij{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:a,pseudoElement:n,allowFlatten:i=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=!!n,this.allowFlatten=i,this.options=e,rD("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return iO(e)&&iA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:a=0,duration:n=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c){let d={[t]:r};l&&(d.offset=l);let u=function e(t,r){if(t)return"function"==typeof t?iA()?nK(t,r):"ease-out":ih(t)?i_(t):Array.isArray(t)?t.map(t=>e(t,r)||iC.easeOut):iC[t]}(o,n);Array.isArray(u)&&(d.easing=u);let f={delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(f.pseudoElement=c);let h=e.animate(d,f);return h}(t,r,a,l,n),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){let e=iv(a,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=nP(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ik())?(this.animation.timeline=e,rB):t(this)}}let iR={anticipate:il,backInOut:io,circInOut:iu};class iI extends iP{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in iR&&(e.ease=iR[e.ease])}(e),iw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:a,element:n,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let s=new iE({...i,autoplay:!1}),o=nP(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}let iD=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ad.test(e)||"0"===e)&&!e.startsWith("url(")),iM=new Set(["opacity","clipPath","filter","transform"]),iL=iS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class iF extends ij{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:n=0,repeatType:i="loop",keyframes:s,name:o,motionValue:l,element:c,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=aE.now();const u={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:n,repeatType:i,name:o,motionValue:l,element:c,...d},f=c?.KeyframeResolver||r1;this.keyframeResolver=new f(s,(e,t,r)=>this.onKeyframesResolved(e,t,u,!r),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,a){this.keyframeResolver=void 0;let{name:n,type:i,velocity:s,delay:o,isHandoff:l,onUpdate:c}=r;this.resolvedAt=aE.now(),!function(e,t,r,a){let n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;let i=e[e.length-1],s=iD(n,t),o=iD(i,t);return rI(s===o,`You are trying to animate ${t} from "${n}" to "${i}". "${s?i:n}" is not an animatable value.`,"value-not-animatable"),!!s&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||iO(r))&&a)}(e,n,i,s)&&((rV.instantAnimations||!o)&&c?.(iv(e,r,t)),e[0]=e[e.length-1],n_(r),r.repeat=0);let d={startTime:a?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},u=!l&&function(e){let{motionValue:t,name:r,repeatDelay:a,repeatType:n,damping:i,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return iL()&&r&&iM.has(r)&&("transform"!==r||!l)&&!o&&!a&&"mirror"!==n&&0!==i&&"inertia"!==s}(d)?new iI({...d,element:d.motionValue.owner.current}):new iE(d);u.finished.then(()=>this.notifyFinished()).catch(rB),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rJ=!0,r0(),rQ(),rJ=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iU=e=>null!==e,iz={type:"spring",stiffness:500,damping:25,restSpeed:10},iB={type:"keyframes",duration:.8},iV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i$=(e,t,r,a={},n,i)=>s=>{let o=nk(a,e)||{},l=o.delay||a.delay||0,{elapsed:c=0}=a;c-=nP(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};!function({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}(o)&&Object.assign(d,((e,{keyframes:t})=>t.length>2?iB:t0.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:iz:iV)(e,d)),d.duration&&(d.duration=nP(d.duration)),d.repeatDelay&&(d.repeatDelay=nP(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(n_(d),0===d.delay&&(u=!0)),(rV.instantAnimations||rV.skipAnimations)&&(u=!0,n_(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},a){let n=e.filter(iU),i=t&&"loop"!==r&&t%2==1?0:n.length-1;return n[i]}(d.keyframes,o);if(void 0!==e)return void rW.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new iE(d):new iF(d)};function iH(e,t,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;a&&(i=a);let l=[],c=n&&e.animationState&&e.animationState.getState()[n];for(let t in o){let a=e.getValue(t,e.latestValues[t]??null),n=o[t];if(void 0===n||c&&function({protectedKeys:e,needsAnimating:t},r){let a=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,a}(c,t))continue;let s={delay:r,...nk(i||{},t)},d=a.get();if(void 0!==d&&!a.isAnimating&&!Array.isArray(n)&&n===d&&!s.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){let r=e.props[nj];if(r){let e=window.MotionHandoffAnimation(r,t,rW);null!==e&&(s.startTime=e,u=!0)}}nA(e,t),a.start(i$(t,a,n,e.shouldReduceMotion&&rv.has(t)?{type:!1}:s,e,u));let f=a.animation;f&&l.push(f)}return s&&Promise.all(l).then(()=>{rW.update(()=>{s&&function(e,t){let{transitionEnd:r={},transition:a={},...n}=nS(e,t)||{};for(let t in n={...n,...r}){var i;let r=nT(i=n[t])?i[i.length-1]||0:i;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,a_(r))}}(e,s)})}),l}function iW(e,t,r,a=0,n=1){let i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*a;return"function"==typeof r?r(i,s):1===n?i*a:o-i*a}function iG(e,t,r={}){let a=nS(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);let i=a?()=>Promise.all(iH(e,a,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(a=0)=>{let{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=n;return function(e,t,r=0,a=0,n=0,i=1,s){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(iG(l,t,{...s,delay:r+("function"==typeof a?0:a)+iW(e.variantChildren,l,a,n,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,a,i,s,o,r)}:()=>Promise.resolve(),{when:o}=n;if(!o)return Promise.all([i(),s(r.delay)]);{let[e,t]="beforeChildren"===o?[i,s]:[s,i];return e().then(()=>t())}}function iq(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}let iK=aH.length,iY=[...a$].reverse(),iX=a$.length;function iZ(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iJ(){return{animate:iZ(!0),whileInView:iZ(),whileHover:iZ(),whileTap:iZ(),whileDrag:iZ(),whileFocus:iZ(),exit:iZ()}}class iQ{constructor(e){this.isMounted=!1,this.node=e}update(){}}let i0=0,i1={x:!1,y:!1};function i2(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}let i4=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function i3(e){return{point:{x:e.pageX,y:e.pageY}}}function i5(e,t,r,a){return i2(e,t,e=>i4(e)&&r(e,i3(e)),a)}function i6(e){return e.max-e.min}function i8(e,t,r,a=.5){e.origin=a,e.originPoint=ro(t.min,t.max,e.origin),e.scale=i6(r)/i6(t),e.translate=ro(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function i7(e,t,r,a){i8(e.x,t.x,r.x,a?a.originX:void 0),i8(e.y,t.y,r.y,a?a.originY:void 0)}function i9(e,t,r){e.min=r.min+t.min,e.max=e.min+i6(t)}function se(e,t,r){e.min=t.min-r.min,e.max=e.min+i6(t)}function st(e,t,r){se(e.x,t.x,r.x),se(e.y,t.y,r.y)}function sr(e){return[e("x"),e("y")]}let sa=({current:e})=>e?e.ownerDocument.defaultView:null,sn=(e,t)=>Math.abs(e-t);class si{constructor(e,t,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:n=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=sl(this.lastMoveEventInfo,this.history),a=null!==this.startEvent,n=(e=r.offset,t={x:0,y:0},Math.sqrt(sn(e.x,t.x)**2+sn(e.y,t.y)**2)>=this.distanceThreshold);if(!a&&!n)return;let{point:i}=r,{timestamp:s}=rq;this.history.push({...i,timestamp:s});let{onStart:o,onMove:l}=this.handlers;a||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ss(t,this.transformPagePoint),rW.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:a,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=sl("pointercancel"===e.type?this.lastMoveEventInfo:ss(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,i),a&&a(e,i)},!i4(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=a||window;const s=ss(i3(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=rq;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,sl(s,this.history)),this.removeListeners=nO(i5(this.contextWindow,"pointermove",this.handlePointerMove),i5(this.contextWindow,"pointerup",this.handlePointerUp),i5(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rG(this.updatePoint)}}function ss(e,t){return t?{point:t(e.point)}:e}function so(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sl({point:e},t){return{point:e,delta:so(e,sc(t)),offset:so(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null,n=sc(e);for(;r>=0&&(a=e[r],!(n.timestamp-a.timestamp>nP(.1)));)r--;if(!a)return{x:0,y:0};let i=(n.timestamp-a.timestamp)/1e3;if(0===i)return{x:0,y:0};let s={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,.1)}}function sc(e){return e[e.length-1]}function sd(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function su(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function sf(e,t,r){return{min:sh(e,t),max:sh(e,r)}}function sh(e,t){return"number"==typeof e?e:e[t]||0}let sp=new WeakMap;class sm{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=aL(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:a}=this.visualElement;if(a&&!1===a.isPresent)return;let n=e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(i3(e).point)},i=(e,t)=>{let{drag:r,dragPropagation:a,onDragStart:n}=this.getProps();if(r&&!a&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(i1[e])return null;else return i1[e]=!0,()=>{i1[e]=!1};return i1.x||i1.y?null:(i1.x=i1.y=!0,()=>{i1.x=i1.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(e=>{let t=this.getAxisMotionValue(e).get()||0;if(rk.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let a=r.layout.layoutBox[e];a&&(t=i6(a)*(parseFloat(t)/100))}}this.originPoint[e]=t}),n&&rW.postRender(()=>n(e,t)),nA(this.visualElement,"transform");let{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:a,onDirectionLock:n,onDrag:i}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:s}=t;if(a&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(s),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>sr(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new si(e,{onSessionStart:n,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:sa(this.visualElement)})}stop(e,t){let r=e||this.latestPointerEvent,a=t||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!a||!r)return;let{velocity:i}=a;this.startAnimation(i);let{onDragEnd:s}=this.getProps();s&&rW.postRender(()=>s(r,a))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:a}=this.getProps();if(!r||!sx(e,a,this.currentDirection))return;let n=this.getAxisMotionValue(e),i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:r},a){return void 0!==t&&e<t?e=a?ro(t,e,a.min):Math.max(e,t):void 0!==r&&e>r&&(e=a?ro(r,e,a.max):Math.min(e,r)),e}(i,this.constraints[e],this.elastic[e])),n.set(i)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&nw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:a,right:n}){return{x:sd(e.x,r,n),y:sd(e.y,t,a)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:sf(e,"left","right"),y:sf(e,"top","bottom")}}(t),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(e=>{var t,a;let n;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],a=this.constraints[e],n={},void 0!==a.min&&(n.min=a.min-t.min),void 0!==a.max&&(n.max=a.max-t.min),n))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!nw(t))return!1;let a=t.current;rD(null!==a,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let i=function(e,t,r){let a=rb(e,r),{scroll:n}=t;return n&&(rm(a.x,n.offset.x),rm(a.y,n.offset.y)),a}(a,n.root,this.visualElement.getTransformPagePoint()),s=(e=n.layout.layoutBox,{x:su(e.x,i.x),y:su(e.y,i.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=rs(e))}return s}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:a,dragTransition:n,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{};return Promise.all(sr(s=>{if(!sx(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});let c={type:"inertia",velocity:r?e[s]:0,bounceStiffness:a?200:1e6,bounceDamping:a?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(s,c)})).then(s)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return nA(this.visualElement,e),r.start(i$(e,r,0,t,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(t=>{let{drag:r}=this.getProps();if(!sx(t,r,this.currentDirection))return;let{projection:a}=this.visualElement,n=this.getAxisMotionValue(t);if(a&&a.layout){let{min:r,max:i}=a.layout.layoutBox[t];n.set(e[t]-ro(r,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!nw(t)||!r||!this.constraints)return;this.stopAnimation();let a={x:0,y:0};sr(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,n;let i,s,o,l=t.get();a[e]=(r={min:l,max:l},n=this.constraints[e],i=.5,s=i6(r),(o=i6(n))>s?i=ix(n.min,n.max-s,r.min):s>o&&(i=ix(r.min,r.max-o,n.min)),ry(0,1,i))}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(t=>{if(!sx(t,e,null))return;let r=this.getAxisMotionValue(t),{min:n,max:i}=this.constraints[t];r.set(ro(n,i,a[t]))})}addListeners(){if(!this.visualElement.current)return;sp.set(this.visualElement,this);let e=i5(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();nw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rW.read(t);let n=i2(window,"resize",()=>this.scalePositionWithinConstraints()),i=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(sr(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),e(),a(),i&&i()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:n=!1,dragElastic:i=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:n,dragElastic:i,dragMomentum:s}}}function sx(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let sg=e=>(t,r)=>{e&&rW.postRender(()=>e(t,r))};var sb=ev;let sv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let sw={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!rT.test(e))return e;else e=parseFloat(e);let r=sy(e,t.target.x),a=sy(e,t.target.y);return`${r}% ${a}%`}},sj=!1;class sN extends sb.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:n}=e;for(let e in sS)a4[e]=sS[e],rr(e)&&(a4[e].isCSSVariable=!0);n&&(t.group&&t.group.add(n),r&&r.register&&a&&r.register(n),sj&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),sv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:a,isPresent:n}=this.props,{projection:i}=r;return i&&(i.isPresent=n,sj=!0,a||e.layoutDependency!==t||void 0===t||e.isPresent!==n?i.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?i.promote():i.relegate()||rW.postRender(()=>{let e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;sj=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sE(e){let[t,r]=tY(),a=(0,sb.useContext)(tD);return(0,eb.jsx)(sN,{...e,layoutGroup:a,switchLayoutGroup:(0,sb.useContext)(nN),isPresent:t,safeToRemove:r})}let sS={borderRadius:{...sw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sw,borderTopRightRadius:sw,borderBottomLeftRadius:sw,borderBottomRightRadius:sw,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let a=ad.parse(e);if(a.length>5)return e;let n=ad.createTransformer(e),i=+("number"!=typeof a[0]),s=r.x.scale*t.x,o=r.y.scale*t.y;a[0+i]/=s,a[1+i]/=o;let l=ro(s,o,.5);return"number"==typeof a[2+i]&&(a[2+i]/=l),"number"==typeof a[3+i]&&(a[3+i]/=l),n(a)}}};function sk(e){return tz(e)&&"ownerSVGElement"in e}let sT=(e,t)=>e.depth-t.depth;class sA{constructor(){this.children=[],this.isDirty=!1}add(e){aS(this.children,e),this.isDirty=!0}remove(e){ak(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sT),this.isDirty=!1,this.children.forEach(e)}}let s_=["TopLeft","TopRight","BottomLeft","BottomRight"],sC=s_.length,sO=e=>"string"==typeof e?parseFloat(e):e,sP=e=>"number"==typeof e||rT.test(e);function sR(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sI=sM(0,.5,id),sD=sM(.5,.95,rB);function sM(e,t,r){return a=>a<e?0:a>t?1:r(ix(e,t,a))}function sL(e,t){e.min=t.min,e.max=t.max}function sF(e,t){sL(e.x,t.x),sL(e.y,t.y)}function sU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sz(e,t,r,a,n){return e-=t,e=a+1/r*(e-a),void 0!==n&&(e=a+1/n*(e-a)),e}function sB(e,t,[r,a,n],i,s){!function(e,t=0,r=1,a=.5,n,i=e,s=e){if(rk.test(t)&&(t=parseFloat(t),t=ro(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=ro(i.min,i.max,a);e===i&&(o-=t),e.min=sz(e.min,t,r,o,n),e.max=sz(e.max,t,r,o,n)}(e,t[r],t[a],t[n],t.scale,i,s)}let sV=["x","scaleX","originX"],s$=["y","scaleY","originY"];function sH(e,t,r,a){sB(e.x,t,sV,r?r.x:void 0,a?a.x:void 0),sB(e.y,t,s$,r?r.y:void 0,a?a.y:void 0)}function sW(e){return 0===e.translate&&1===e.scale}function sG(e){return sW(e.x)&&sW(e.y)}function sq(e,t){return e.min===t.min&&e.max===t.max}function sK(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sY(e,t){return sK(e.x,t.x)&&sK(e.y,t.y)}function sX(e){return i6(e.x)/i6(e.y)}function sZ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sJ{constructor(){this.members=[]}add(e){aS(this.members,e),e.scheduleRender()}remove(e){if(ak(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:a}=e.options;!1===a&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sQ=["","X","Y","Z"],s0=0;function s1(e,t,r,a){let{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),a&&(a[e]=0))}function s2({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(e={},r=t?.()){this.id=s0++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s5),this.nodes.forEach(or),this.nodes.forEach(oa),this.nodes.forEach(s6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new sA)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new aT),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=sk(t)&&!(sk(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:a,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),e){let r,a=0,n=()=>this.root.updateBlockedByResize=!1;rW.read(()=>{a=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==a){let t,i;a=e,this.root.updateBlockedByResize=!0,r&&r(),t=aE.now(),i=({timestamp:e})=>{let r=e-t;r>=250&&(rG(i),n(r-250))},rW.setup(i,!0),r=()=>rG(i),sv.hasAnimatedSinceResize&&(sv.hasAnimatedSinceResize=!1,this.nodes.forEach(ot))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:a})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||n.getDefaultTransition()||oc,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=n.getProps(),l=!this.targetLayout||!sY(this.targetLayout,a),c=!t&&r;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...nk(i,"layout"),onPlay:s,onComplete:o};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||ot(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rG(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(on),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let a=r.props[nj];if(window.MotionHasOptimisedAnimation(a,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",rW,!(e||r))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s7);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(s9);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oe),this.nodes.forEach(s4),this.nodes.forEach(s3)):this.nodes.forEach(s9),this.clearAllSnapshots();let e=aE.now();rq.delta=ry(0,1e3/60,e-rq.timestamp),rq.timestamp=e,rq.isProcessing=!0,rK.update.process(rq),rK.preRender.process(rq),rK.render.process(rq),rq.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s8),this.sharedNodes.forEach(oi)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rW.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rW.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||i6(this.snapshot.measuredBox.x)||i6(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=aL(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sG(this.projectionDelta),r=this.getTransformTemplate(),a=r?r(this.latestValues,""):void 0,i=a!==this.prevTransformTemplateValue;e&&this.instance&&(t||rd(this.latestValues)||i)&&(n(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),a=this.removeElementScroll(r);return e&&(a=this.removeTransform(a)),of((t=a).x),of(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return aL();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(op))){let{scroll:e}=this.root;e&&(rm(t.x,e.offset.x),rm(t.y,e.offset.y))}return t}removeElementScroll(e){let t=aL();if(sF(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let a=this.path[r],{scroll:n,options:i}=a;a!==this.root&&n&&i.layoutScroll&&(n.wasRoot&&sF(t,e),rm(t.x,n.offset.x),rm(t.y,n.offset.y))}return t}applyTransform(e,t=!1){let r=aL();sF(r,e);for(let e=0;e<this.path.length;e++){let a=this.path[e];!t&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rg(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),rd(a.latestValues)&&rg(r,a.latestValues)}return rd(this.latestValues)&&rg(r,this.latestValues),r}removeTransform(e){let t=aL();sF(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!rd(r.latestValues))continue;rc(r.latestValues)&&r.updateSnapshot();let a=aL();sF(a,r.measurePageBox()),sH(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,a)}return rd(this.latestValues)&&sH(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rq.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:n}=this.options;if(this.layout&&(a||n)){if(this.resolvedRelativeTargetAt=rq.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=aL(),this.relativeTargetOrigin=aL(),st(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),sF(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=aL(),this.targetWithTransforms=aL()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var i,s,o;this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,o=this.relativeParent.target,i9(i.x,s.x,o.x),i9(i.y,s.y,o.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sF(this.target,this.layout.layoutBox),rp(this.target,this.targetDelta)):sF(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=aL(),this.relativeTargetOrigin=aL(),st(this.relativeTargetOrigin,this.target,e.target),sF(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}}getClosestProjectingParent(){if(!(!this.parent||rc(this.parent.latestValues)||ru(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===rq.timestamp&&(r=!1),r)return;let{layout:a,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||n))return;sF(this.layoutCorrected,this.layout.layoutBox);let i=this.treeScale.x,s=this.treeScale.y;!function(e,t,r,a=!1){let n,i,s=r.length;if(s){t.x=t.y=1;for(let o=0;o<s;o++){i=(n=r[o]).projectionDelta;let{visualElement:s}=n.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(a&&n.options.layoutScroll&&n.scroll&&n!==n.root&&rg(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,rp(e,i)),a&&rd(n.latestValues)&&rg(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=aL());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sU(this.prevProjectionDelta.x,this.projectionDelta.x),sU(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),i7(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&sZ(this.projectionDelta.x,this.prevProjectionDelta.x)&&sZ(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=aD(),this.projectionDelta=aD(),this.projectionDeltaWithTransform=aD()}setAnimationOrigin(e,t=!1){let r,a=this.snapshot,n=a?a.latestValues:{},i={...this.latestValues},s=aD();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=aL(),l=(a?a.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),d=!c||c.members.length<=1,u=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(ol));this.animationProgress=0,this.mixTargetDelta=t=>{let a=t/1e3;if(os(s.x,e.x,a),os(s.y,e.y,a),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,f,h,p,m,x;st(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,m=o,x=a,oo(h.x,p.x,m.x,x),oo(h.y,p.y,m.y,x),r&&(c=this.relativeTarget,f=r,sq(c.x,f.x)&&sq(c.y,f.y))&&(this.isProjectionDirty=!1),r||(r=aL()),sF(r,this.relativeTarget)}l&&(this.animationValues=i,function(e,t,r,a,n,i){n?(e.opacity=ro(0,r.opacity??1,sI(a)),e.opacityExit=ro(t.opacity??1,0,sD(a))):i&&(e.opacity=ro(t.opacity??1,r.opacity??1,a));for(let n=0;n<sC;n++){let i=`border${s_[n]}Radius`,s=sR(t,i),o=sR(r,i);(void 0!==s||void 0!==o)&&(s||(s=0),o||(o=0),0===s||0===o||sP(s)===sP(o)?(e[i]=Math.max(ro(sO(s),sO(o),a),0),(rk.test(o)||rk.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||r.rotate)&&(e.rotate=ro(t.rotate||0,r.rotate||0,a))}(i,n,this.latestValues,a,u,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=a},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(rG(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rW.update(()=>{var t,r,a;let n;sv.hasAnimatedSinceResize=!0,nR.layout++,this.motionValue||(this.motionValue=a_(0)),this.currentAnimation=(t=this.motionValue,r=[0,1e3],a={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{nR.layout--},onComplete:()=>{nR.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(n=aj(t)?t:a_(t)).start(i$("",n,r,a)),n.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:a,latestValues:n}=e;if(t&&r&&a){if(this!==e&&this.layout&&a&&oh(this.options.animationType,this.layout.layoutBox,a.layoutBox)){r=this.target||aL();let t=i6(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let a=i6(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+a}sF(t,r),rg(t,n),i7(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sJ),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let a=this.getStack();a&&a.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let a={};r.z&&s1("z",e,a,this.animationValues);for(let t=0;t<sQ.length;t++)s1(`rotate${sQ[t]}`,e,a,this.animationValues),s1(`skew${sQ[t]}`,e,a,this.animationValues);for(let t in e.render(),a)e.setStaticValue(t,a[t]),this.animationValues&&(this.animationValues[t]=a[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=nx(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=nx(t?.pointerEvents)||""),this.hasProjected&&!rd(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let n=a.animationValues||a.latestValues;this.applyTransformsToTarget();let i=function(e,t,r){let a="",n=e.x.translate/t.x,i=e.y.translate/t.y,s=r?.z||0;if((n||i||s)&&(a=`translate3d(${n}px, ${i}px, ${s}px) `),(1!==t.x||1!==t.y)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:i,skewX:s,skewY:o}=r;e&&(a=`perspective(${e}px) ${a}`),t&&(a+=`rotate(${t}deg) `),n&&(a+=`rotateX(${n}deg) `),i&&(a+=`rotateY(${i}deg) `),s&&(a+=`skewX(${s}deg) `),o&&(a+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(a+=`scale(${o}, ${l})`),a||"none"}(this.projectionDeltaWithTransform,this.treeScale,n);r&&(i=r(n,i)),e.transform=i;let{x:s,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,a.animationValues?e.opacity=a===this?n.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:e.opacity=a===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0,a4){if(void 0===n[t])continue;let{correct:r,applyTo:s,isCSSVariable:o}=a4[t],l="none"===i?n[t]:r(n[t],a);if(s){let t=s.length;for(let r=0;r<t;r++)e[s[r]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=a===this?nx(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(s7),this.root.sharedNodes.clear()}}}function s4(e){e.updateLayout()}function s3(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:a}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;"size"===n?sr(e=>{let a=i?t.measuredBox[e]:t.layoutBox[e],n=i6(a);a.min=r[e].min,a.max=a.min+n}):oh(n,t.layoutBox,r)&&sr(a=>{let n=i?t.measuredBox[a]:t.layoutBox[a],s=i6(r[a]);n.max=n.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+s)});let s=aD();i7(s,r,t.layoutBox);let o=aD();i?i7(o,e.applyTransform(a,!0),t.measuredBox):i7(o,r,t.layoutBox);let l=!sG(s),c=!1;if(!e.resumeFrom){let a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){let{snapshot:n,layout:i}=a;if(n&&i){let s=aL();st(s,t.layoutBox,n.layoutBox);let o=aL();st(o,r,i.layoutBox),sY(s,o)||(c=!0),a.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function s5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function s6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function s8(e){e.clearSnapshot()}function s7(e){e.clearMeasurements()}function s9(e){e.isLayoutDirty=!1}function oe(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ot(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function or(e){e.resolveTargetDelta()}function oa(e){e.calcProjection()}function on(e){e.resetSkewAndRotation()}function oi(e){e.removeLeadSnapshot()}function os(e,t,r){e.translate=ro(t.translate,0,r),e.scale=ro(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function oo(e,t,r,a){e.min=ro(t.min,r.min,a),e.max=ro(t.max,r.max,a)}function ol(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let oc={duration:.45,ease:[.4,0,.1,1]},od=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ou=od("applewebkit/")&&!od("chrome/")?Math.round:rB;function of(e){e.min=ou(e.min),e.max=ou(e.max)}function oh(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(sX(t)-sX(r)))}function op(e){return e!==e.root&&e.scroll?.wasRoot}let om=s2({attachResizeListener:(e,t)=>i2(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ox={current:void 0},og=s2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ox.current){let e=new om({});e.mount(window),e.setOptions({layoutScroll:!0}),ox.current=e}return ox.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function ob(e,t){let r=function(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,r=(void 0)??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),a=new AbortController;return[r,{passive:!0,...t,signal:a.signal},()=>a.abort()]}function ov(e){return!("touch"===e.pointerType||i1.x||i1.y)}function oy(e,t,r){let{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover","Start"===r);let n=a["onHover"+r];n&&rW.postRender(()=>n(t,i3(t)))}let ow=(e,t)=>!!t&&(e===t||ow(e,t.parentElement)),oj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),oN=new WeakSet;function oE(e){return t=>{"Enter"===t.key&&e(t)}}function oS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function ok(e){return i4(e)&&!(i1.x||i1.y)}function oT(e,t,r){let{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap","Start"===r);let n=a["onTap"+("End"===r?"":r)];n&&rW.postRender(()=>n(t,i3(t)))}let oA=new WeakMap,o_=new WeakMap,oC=e=>{let t=oA.get(e.target);t&&t(e)},oO=e=>{e.forEach(oC)},oP={some:0,all:1},oR=function(e,t){if("undefined"==typeof Proxy)return nE;let r=new Map,a=(r,a)=>nE(r,a,e,t);return new Proxy((e,t)=>a(e,t),{get:(n,i)=>"create"===i?a:(r.has(i)||r.set(i,nE(i,void 0,e,t)),r.get(i))})}({animation:{Feature:class extends iQ{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let a;if(e.notify("AnimationStart",t),Array.isArray(t))a=Promise.all(t.map(t=>iG(e,t,r)));else if("string"==typeof t)a=iG(e,t,r);else{let n="function"==typeof t?nS(e,t,r.custom):t;a=Promise.all(iH(e,n,r))}return a.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=iJ(),a=!0,n=t=>(r,a)=>{let n=nS(e,a,"exit"===t?e.presenceContext?.custom:void 0);if(n){let{transition:e,transitionEnd:t,...a}=n;r={...r,...a,...t}}return r};function i(i){let{props:s}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<iK;e++){let a=aH[e],n=t.props[a];(aV(n)||!1===n)&&(r[a]=n)}return r}(e.parent)||{},l=[],c=new Set,d={},u=1/0;for(let t=0;t<iX;t++){var f,h;let p=iY[t],m=r[p],x=void 0!==s[p]?s[p]:o[p],g=aV(x),b=p===i?m.isActive:null;!1===b&&(u=t);let v=x===o[p]&&x!==s[p]&&g;if(v&&a&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys={...d},!m.isActive&&null===b||!x&&!m.prevProp||aB(x)||"boolean"==typeof x)continue;let y=(f=m.prevProp,"string"==typeof(h=x)?h!==f:!!Array.isArray(h)&&!iq(h,f)),w=y||p===i&&m.isActive&&!v&&g||t>u&&g,j=!1,N=Array.isArray(x)?x:[x],E=N.reduce(n(p),{});!1===b&&(E={});let{prevResolvedValues:S={}}=m,k={...S,...E},T=t=>{w=!0,c.has(t)&&(j=!0,c.delete(t)),m.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in k){let t=E[e],r=S[e];if(!d.hasOwnProperty(e))(nT(t)&&nT(r)?iq(t,r):t===r)?void 0!==t&&c.has(e)?T(e):m.protectedKeys[e]=!0:null!=t?T(e):c.add(e)}m.prevProp=x,m.prevResolvedValues=E,m.isActive&&(d={...d,...E}),a&&e.blockInitialAnimation&&(w=!1);let A=v&&y,_=!A||j;w&&_&&l.push(...N.map(t=>{let r={type:p};if("string"==typeof t&&a&&!A&&e.manuallyAnimateOnMount&&e.parent){let{parent:a}=e,n=nS(a,t);if(a.enteringChildren&&n){let{delayChildren:t}=n.transition||{};r.delay=iW(a.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(c.size){let t={};if("boolean"!=typeof s.initial){let r=nS(e,Array.isArray(s.initial)?s.initial[0]:s.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach(r=>{let a=e.getBaseTarget(r),n=e.getValue(r);n&&(n.liveStyle=!0),t[r]=a??null}),l.push({animation:t})}let p=!!l.length;return a&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(p=!1),a=!1,p?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,a){if(r[t].isActive===a)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,a)),r[t].isActive=a;let n=i(t);for(let e in r)r[e].protectedKeys={};return n},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=iJ()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();aB(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends iQ{constructor(){super(...arguments),this.id=i0++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends iQ{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:a,margin:n,amount:i="some",once:s}=r,o={root:a?a.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:oP[i]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,s&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:a}=this.node.getProps(),n=t?r:a;n&&n(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;o_.has(r)||o_.set(r,{});let a=o_.get(r),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(oO,{root:e,...t})),a[n]}(o),oA.set(e,l),t.observe(e),()=>{oA.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends iQ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[a,n,i]=ob(e,r),s=e=>{let a=e.currentTarget;if(!ok(e))return;oN.add(a);let i=t(a,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),oN.has(a)&&oN.delete(a),ok(e)&&"function"==typeof i&&i(e,{success:t})},o=e=>{s(e,a===window||a===document||r.useGlobalTarget||ow(a,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,n),window.addEventListener("pointercancel",l,n)};return a.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",s,n),tB(e))&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let a=oE(()=>{if(oN.has(r))return;oS(r,"down");let e=oE(()=>{oS(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>oS(r,"cancel"),t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)})(e,n)),oj.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}(e,(e,t)=>(oT(this.node,t,"Start"),(e,{success:t})=>oT(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends iQ{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nO(i2(this.node.current,"focus",()=>this.onFocus()),i2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends iQ{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[a,n,i]=ob(e,r),s=e=>{if(!ov(e))return;let{target:r}=e,a=t(r,e);if("function"!=typeof a||!r)return;let i=e=>{ov(e)&&(a(e),r.removeEventListener("pointerleave",i))};r.addEventListener("pointerleave",i,n)};return a.forEach(e=>{e.addEventListener("pointerenter",s,n)}),i}(e,(e,t)=>(oy(this.node,t,"Start"),e=>oy(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends iQ{constructor(){super(...arguments),this.removePointerDownListener=rB}onPointerDown(e){this.session=new si(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sa(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:sg(e),onStart:sg(t),onMove:r,onEnd:(e,t)=>{delete this.session,a&&rW.postRender(()=>a(e,t))}}}mount(){this.removePointerDownListener=i5(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends iQ{constructor(e){super(e),this.removeGroupControls=rB,this.removeListeners=rB,this.controls=new sm(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rB}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:og,MeasureLayout:sE},layout:{ProjectionNode:og,MeasureLayout:sE}},(e,t)=>ns(e)?new nn(t):new a6(t,{allowProjection:e!==ev.Fragment}));var oI=e.i(1928),oD=e.i(61911),oM=e.i(75254);let oL=(0,oM.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oF=(0,oM.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),oU=(0,oM.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var oz=e.i(37727);let oB=(0,oM.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),oV=(0,oM.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),o$=(0,oM.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),oH=(0,oM.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var oW=e.i(3116);let oG=(0,oM.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);var oq=e.i(46897),oK=e.i(68834),oY=e.i(79473),oX=e.i(95187),oZ=(0,oX.createServerReference)("00c615738dee04c926eae6a477946663d417070cbe",oX.callServer,void 0,oX.findSourceMapURL,"fetchInventory"),oJ=(0,oX.createServerReference)("00d0672270153964780a8329ffe4e1f0f604b77dd0",oX.callServer,void 0,oX.findSourceMapURL,"fetchEmployees");let oQ=[{id:"P001",sku:"780001",name:"PARACETAMOL 500MG",dci:"PARACETAMOL",laboratory:"Mintlab",condition:"VD",is_bioequivalent:!0,bioequivalent_status:"BIOEQUIVALENTE",location_id:"SUCURSAL_CENTRO",aisle:"GNDOLA",stock_actual:2e3,stock_min:200,stock_max:3e3,expiry_date:new Date("2026-12-01").getTime(),price:990,cost_price:400,cost_net:336,tax_percent:19,price_sell_box:990,price_sell_unit:62,category:"MEDICAMENTO",allows_commission:!1,active_ingredients:["Paracetamol"],therapeutic_tags:["DOLOR","FIEBRE","CABEZA"],storage_condition:"AMBIENTE",concentration:"500mg",format:"Comprimido",unit_count:16,is_generic:!0,isp_register:"F-1234/20",units_per_box:16,unit_format_string:"Comprimidos",price_per_unit:62},{id:"P002",sku:"780002",name:"LOSARTN 50MG",dci:"LOSARTN POTSICO",laboratory:"Lab Chile",condition:"R",is_bioequivalent:!0,bioequivalent_status:"BIOEQUIVALENTE",location_id:"SUCURSAL_CENTRO",aisle:"ESTANTE A1",stock_actual:500,stock_min:100,stock_max:800,expiry_date:new Date("2025-06-01").getTime(),price:2990,cost_price:1e3,cost_net:840,tax_percent:19,price_sell_box:2990,price_sell_unit:100,category:"MEDICAMENTO",allows_commission:!1,active_ingredients:["Losartn Potsico"],therapeutic_tags:["HIPERTENSION","CORAZON"],contraindications:["EMBARAZO"],storage_condition:"AMBIENTE",concentration:"50mg",format:"Comprimido",unit_count:30,is_generic:!0,isp_register:"F-9988/21",units_per_box:30,unit_format_string:"Comprimidos",price_per_unit:100},{id:"P003",sku:"780003",name:"IBUPROFENO 600MG",dci:"IBUPROFENO",laboratory:"Lab Chile",condition:"VD",is_bioequivalent:!0,bioequivalent_status:"BIOEQUIVALENTE",location_id:"SUCURSAL_CENTRO",aisle:"ESTANTE A2",stock_actual:800,stock_min:100,stock_max:1200,expiry_date:new Date("2026-01-01").getTime(),price:1990,cost_price:600,cost_net:504,tax_percent:19,price_sell_box:1990,price_sell_unit:100,category:"MEDICAMENTO",allows_commission:!1,active_ingredients:["Ibuprofeno"],therapeutic_tags:["DOLOR","INFLAMACION","CABEZA"],contraindications:["ULCERA","EMBARAZO"],storage_condition:"AMBIENTE",concentration:"600mg",format:"Comprimido",unit_count:20,is_generic:!0,isp_register:"F-5544/19",units_per_box:20,unit_format_string:"Comprimidos",price_per_unit:100},{id:"P004",sku:"780004",name:"EUTIROX 100MCG",dci:"LEVOTIROXINA",laboratory:"Merck",condition:"R",is_bioequivalent:!1,bioequivalent_status:"NO_BIOEQUIVALENTE",location_id:"SUCURSAL_CENTRO",aisle:"ESTANTE B1",stock_actual:150,stock_min:30,stock_max:300,expiry_date:new Date("2025-10-01").getTime(),price:8500,cost_price:3500,cost_net:2941,tax_percent:19,price_sell_box:8500,price_sell_unit:170,category:"MEDICAMENTO",allows_commission:!1,active_ingredients:["Levotiroxina"],therapeutic_tags:["TIROIDES"],storage_condition:"AMBIENTE",concentration:"100mcg",format:"Comprimido",unit_count:50,is_generic:!1,isp_register:"F-2211/18",units_per_box:50,unit_format_string:"Comprimidos",price_per_unit:170},{id:"R001",sku:"RET-01",name:"MAAM CREMA PRENATAL",dci:"N/A",laboratory:"Milab",brand:"Maam",condition:"VD",is_bioequivalent:!1,bioequivalent_status:"NO_BIOEQUIVALENTE",location_id:"SUCURSAL_CENTRO",aisle:"BELLEZA",stock_actual:40,stock_min:10,stock_max:80,expiry_date:new Date("2027-01-01").getTime(),price:15847,cost_price:8e3,cost_net:6722,tax_percent:19,price_sell_box:15847,price_sell_unit:15847,category:"RETAIL_BELLEZA",allows_commission:!0,active_ingredients:[],image_url:"/images/maam.jpg",storage_condition:"AMBIENTE",concentration:"N/A",format:"Crema",unit_count:1,is_generic:!1,isp_register:"N/A",units_per_box:1,unit_format_string:"Unidad",price_per_unit:15847}],o0=[{id:"EMP-001",rut:"11.111.111-1",name:"Miguel Prez",role:"MANAGER",access_pin:"9080",status:"ACTIVE",current_status:"OUT",base_location_id:"SUCURSAL_CENTRO",assigned_location_id:"SUCURSAL_CENTRO",job_title:"GERENTE_GENERAL",base_salary:25e5,weekly_hours:44,pension_fund:"HABITAT",health_system:"ISAPRE",mutual_safety:"ACHS",allowed_modules:["POS","INVENTORY","HR","REPORTS","SUPPLIERS"]},{id:"EMP-002",rut:"22.222.222-2",name:"Javiera Rojas",role:"QF",access_pin:"9080",status:"ACTIVE",current_status:"OUT",base_location_id:"SUCURSAL_CENTRO",assigned_location_id:"SUCURSAL_CENTRO",job_title:"DIRECTOR_TECNICO",base_salary:18e5,weekly_hours:44,pension_fund:"MODELO",health_system:"FONASA",allowed_modules:["POS","INVENTORY","REPORTS","SUPPLIERS"]},{id:"EMP-003",rut:"33.333.333-3",name:"Camila Cajera",role:"CASHIER",access_pin:"9080",status:"ACTIVE",current_status:"OUT",base_location_id:"SUCURSAL_CENTRO",assigned_location_id:"SUCURSAL_CENTRO",job_title:"CAJERO_VENDEDOR",base_salary:5e5,weekly_hours:45,pension_fund:"PROVIDA",health_system:"FONASA",allowed_modules:["POS","INVENTORY"]},{id:"EMP-004",rut:"44.444.444-4",name:"Pedro Bodega",role:"WAREHOUSE",access_pin:"9080",status:"ACTIVE",current_status:"OUT",base_location_id:"BODEGA_CENTRAL",assigned_location_id:"BODEGA_CENTRAL",job_title:"ASISTENTE_BODEGA",base_salary:55e4,weekly_hours:45,pension_fund:"CAPITAL",health_system:"FONASA",allowed_modules:["INVENTORY","SUPPLIERS"]}],o1=[{id:"SUP-001",rut:"76.111.111-1",business_name:"Laboratorio Chile S.A.",fantasy_name:"LabChile",contact_email:"ventas@labchile.cl",lead_time_days:2,contacts:[{name:"Juan Prez",role:"SALES",email:"juan.perez@labchile.cl",phone:"+56911111111",is_primary:!0},{name:"Mara Gonzlez",role:"BILLING",email:"facturacion@labchile.cl",phone:"+56911111112",is_primary:!1}],categories:["MEDICAMENTOS"],payment_terms:"30_DIAS",rating:5,bank_account:{bank:"Banco de Chile",account_type:"CORRIENTE",account_number:"111-222-333",email_notification:"pagos@labchile.cl"},address:"Av. Marathon 1315",region:"RM",city:"Santiago",commune:"uoa",postal_code:"7750000",phone_1:"+56223334444",email_orders:"pedidos@labchile.cl",email_billing:"facturacion@labchile.cl",sector:"LABORATORIO",brands:["LabChile"]},{id:"SUP-002",rut:"76.222.222-2",business_name:"Novo Nordisk Farmacutica Ltda.",fantasy_name:"Novo Nordisk",contact_email:"orders@novo.com",lead_time_days:5,contacts:[{name:"Ana Silva",role:"SALES",email:"ana.silva@novo.com",phone:"+56922222222",is_primary:!0}],categories:["MEDICAMENTOS","INSUMOS"],payment_terms:"60_DIAS",rating:4,address:"Av. Alonso de Crdova 5151",region:"RM",city:"Santiago",commune:"Las Condes",postal_code:"7550000",phone_1:"+56225556666",email_orders:"pedidos@novo.com",email_billing:"billing@novo.com",sector:"LABORATORIO",brands:["Novo Nordisk"]},{id:"SUP-003",rut:"76.333.333-3",business_name:"Droguera Hofmann S.A.",fantasy_name:"Droguera Hofmann",contact_email:"contacto@hofmann.cl",lead_time_days:3,contacts:[],categories:["INSUMOS","RETAIL"],payment_terms:"CONTADO",rating:3,address:"San Ignacio 500",region:"RM",city:"Santiago",commune:"Quilicura",postal_code:"8700000",phone_1:"+56227778888",email_orders:"ventas@hofmann.cl",email_billing:"pagos@hofmann.cl",sector:"DISTRIBUIDORA",brands:["Varios"]}],o2=[{id:"SHP-001",type:"INBOUND_PROVIDER",origin_location_id:"PROVEEDOR_LABCHILE",destination_location_id:"SUCURSAL_CENTRO",status:"IN_TRANSIT",transport_data:{carrier:"STARKEN",tracking_number:"STK-2024-001",package_count:3,driver_name:"Juan Prez"},documentation:{invoice_url:"/docs/invoice-001.pdf",dispatch_guide_url:"/docs/guide-001.pdf",evidence_photos:[]},items:[{batchId:"P001",sku:"780001",name:"PARACETAMOL 500MG",quantity:500,condition:"GOOD"},{batchId:"P003",sku:"780003",name:"IBUPROFENO 600MG",quantity:300,condition:"GOOD"}],valuation:45e4,created_at:Date.now()-864e5,updated_at:Date.now()-864e5},{id:"SHP-002",type:"INBOUND_PROVIDER",origin_location_id:"PROVEEDOR_DROGUOA",destination_location_id:"SUCURSAL_CENTRO",status:"PREPARING",transport_data:{carrier:"CHILEXPRESS",tracking_number:"CHX-2024-002",package_count:2},documentation:{evidence_photos:[]},items:[{batchId:"G003",sku:"LC-003",name:"OMEPRAZOL 20MG",quantity:200,condition:"GOOD"},{batchId:"R001",sku:"RET-01",name:"MAAM CREMA PRENATAL",quantity:50,condition:"GOOD"}],valuation:85e4,created_at:Date.now()-432e5,updated_at:Date.now()-432e5},{id:"SHP-003",type:"INTERNAL_TRANSFER",origin_location_id:"SUCURSAL_CENTRO",destination_location_id:"SUCURSAL_NORTE",status:"IN_TRANSIT",transport_data:{carrier:"FLOTA_PROPIA",tracking_number:"FP-2024-003",package_count:1,driver_name:"Carlos Muoz"},documentation:{dispatch_guide_url:"/docs/guide-003.pdf",evidence_photos:[]},items:[{batchId:"P002",sku:"780002",name:"LOSARTN 50MG",quantity:100,condition:"GOOD"}],valuation:299e3,created_at:Date.now()-72e5,updated_at:Date.now()-72e5},{id:"SHP-004",type:"RETURN",origin_location_id:"SUCURSAL_CENTRO",destination_location_id:"BODEGA_CENTRAL",status:"PREPARING",transport_data:{carrier:"STARKEN",tracking_number:"STK-RET-001",package_count:1},documentation:{evidence_photos:[]},items:[{batchId:"G001",sku:"LC-001",name:"ACICLOVIR 200MG",quantity:20,condition:"DAMAGED"}],valuation:43340,created_at:Date.now()-36e5,updated_at:Date.now()-36e5}],o4=(0,oK.create)()((0,oY.persist)((t,r)=>({user:null,employees:o0,login:(e,a)=>{let{employees:n}=r(),i=n.find(t=>t.id===e&&t.access_pin===a);return!!i&&(t({user:i}),!0)},logout:()=>t({user:null}),isLoading:!1,syncData:async()=>{t({isLoading:!0});try{let[a,n]=await Promise.all([oZ(),oJ()]);a.length>0&&t({inventory:a}),n.length>0&&t({employees:n});let i=r(),{TigerDataService:s}=await e.A(73847);s.initializeStorage({products:i.inventory,employees:i.employees,sales:i.salesHistory,cashMovements:i.cashMovements,expenses:i.expenses})}catch(t){console.error(" Sync failed:",t),e.A(57706).then(({toast:e})=>{e.error("Modo Sin Conexin / Demo",{description:"No se pudo conectar con el servidor. Usando datos locales.",duration:5e3})})}finally{t({isLoading:!1})}},inventory:oQ,suppliers:o1,supplierDocuments:[],purchaseOrders:[],updateStock:(e,r)=>t(t=>({inventory:t.inventory.map(t=>t.id===e?{...t,stock_actual:t.stock_actual+r}:t)})),addStock:(e,r,a)=>t(t=>({inventory:t.inventory.map(t=>t.id===e?{...t,stock_actual:t.stock_actual+r,expiry_date:a||t.expiry_date}:t)})),addNewProduct:e=>t(t=>({inventory:[...t.inventory,{...e,id:`BATCH - ${Date.now()} `}]})),transferStock:(e,r,a)=>t(t=>{let n=t.inventory.find(t=>t.id===e);if(!n||n.stock_actual<a)return t;let i=t.inventory.map(t=>t.id===e?{...t,stock_actual:t.stock_actual-a}:t),s=i.find(e=>e.sku===n.sku&&e.location_id===r);return s?s.stock_actual+=a:i.push({...n,id:`TRF - ${Date.now()} `,location_id:r,stock_actual:a}),{inventory:i}}),addPurchaseOrder:e=>t(t=>({purchaseOrders:[...t.purchaseOrders,e]})),receivePurchaseOrder:(e,r)=>t(t=>{let a=t.purchaseOrders.map(t=>t.id===e?{...t,status:"COMPLETED"}:t),n=[...t.inventory];return r.forEach(e=>{let t=n.findIndex(t=>t.sku===e.sku);t>=0&&(n[t]={...n[t],stock_actual:n[t].stock_actual+e.received_qty})}),{purchaseOrders:a,inventory:n}}),addSupplier:e=>t(t=>({suppliers:[...t.suppliers,{...e,id:`SUP - ${Date.now()} `}]})),updateSupplier:(e,r)=>t(t=>({suppliers:t.suppliers.map(t=>t.id===e?{...t,...r}:t)})),addSupplierDocument:e=>t(t=>({supplierDocuments:[...t.supplierDocuments,{...e,id:`DOC - ${Date.now()} `}]})),cart:[],currentCustomer:null,printerConfig:{auto_print_sale:!0,auto_print_cash:!0,auto_print_queue:!0,header_text:"FARMACIAS VALLENAR SUIT",footer_text:"Gracias por su preferencia"},updatePrinterConfig:e=>t(t=>({printerConfig:{...t.printerConfig,...e}})),setCustomer:e=>t({currentCustomer:e}),updateProduct:(e,r)=>t(t=>({inventory:t.inventory.map(t=>t.id===e?{...t,...r}:t)})),updateBatchDetails:(e,r,a)=>{t(e=>({inventory:e.inventory.map(e=>e.id===r?{...e,...a}:e)}))},addToCart:(e,r=1)=>t(t=>{if(t.cart.find(t=>t.id===e.id))return{cart:t.cart.map(t=>t.id===e.id?{...t,quantity:t.quantity+r}:t)};let a={id:e.id,sku:e.sku,name:e.name,price:e.price,quantity:r,allows_commission:e.allows_commission,active_ingredients:e.active_ingredients,cost_price:e.cost_price||0};return{cart:[...t.cart,a]}}),importInventory:e=>{t(t=>{let r=[...t.inventory];return e.forEach(e=>{r.push(e)}),{inventory:r}})},addManualItem:e=>t(t=>({cart:[...t.cart,{id:"MANUAL-"+Date.now(),batch_id:"MANUAL",sku:e.sku||"MANUAL-SKU",name:e.description,price:e.price,quantity:e.quantity,allows_commission:!0,active_ingredients:e.active_ingredients||[],is_fractional:e.is_fractional,original_name:e.original_name}]})),removeFromCart:e=>t(t=>({cart:t.cart.filter(t=>t.sku!==e)})),clearCart:()=>t({cart:[]}),processSale:async(a,n)=>{let i=r();try{let r={id:`SALE - ${Date.now()} -${Math.floor(1e3*Math.random())} `,timestamp:Date.now(),items:i.cart.map(e=>({batch_id:e.batch_id||"UNKNOWN",sku:e.sku,name:e.name,price:e.price,quantity:e.quantity,allows_commission:e.allows_commission||!1,active_ingredients:e.active_ingredients,cost_price:e.cost_price||0})),total:i.cart.reduce((e,t)=>e+t.price*t.quantity,0),payment_method:a,seller_id:i.user?.id||"UNKNOWN",customer:n||void 0},{TigerDataService:s}=await e.A(73847);if(!(await s.saveSaleTransaction(r,"SUCURSAL_CENTRO")).success)return console.error(" Failed to save sale to Tiger Data"),!1;let o=i.inventory.map(e=>{let t=i.cart.find(t=>t.sku===e.sku);return t?{...e,stock_actual:e.stock_actual-t.quantity}:e});if(n){let e=Math.floor(.01*r.total);i.updateCustomer(n.id,{totalPoints:n.totalPoints+e,lastVisit:Date.now()})}return t({inventory:o,cart:[],currentCustomer:null,salesHistory:[...i.salesHistory,r]}),!0}catch(e){return console.error(" Error processing sale:",e),!1}},customers:[{id:"C-001",rut:"11.111.111-1",fullName:"Cliente Frecuente Demo",name:"Cliente Frecuente Demo",phone:"+56912345678",email:"demo@cliente.cl",totalPoints:1500,registrationSource:"ADMIN",lastVisit:Date.now()-864e5,age:45,health_tags:["HYPERTENSION"]}],addCustomer:e=>{let r={...e,id:`CUST - ${Date.now()} `,totalPoints:0,lastVisit:Date.now(),health_tags:[],name:e.fullName,age:0};return t(e=>({customers:[...e.customers,r],currentCustomer:r})),r},updateCustomer:(e,r)=>t(t=>({customers:t.customers.map(t=>t.id===e?{...t,...r}:t)})),salesHistory:[],expenses:[],addExpense:e=>t(t=>({expenses:[...t.expenses,{...e,id:`EXP - ${Date.now()} `}]})),promotions:[],giftCards:[],loyaltyRewards:[{id:"REW-1",name:"Canje Shampoo",points_cost:5e3,description:"Shampoo 400ml"},{id:"REW-2",name:"Descuento $5.000",points_cost:4e3,description:"En total de compra"}],addPromotion:e=>t(t=>({promotions:[...t.promotions,e]})),togglePromotion:e=>t(t=>({promotions:t.promotions.map(t=>t.id===e?{...t,isActive:!t.isActive}:t)})),createGiftCard:e=>{let r={code:`GIFT - ${Math.floor(1e3+9e3*Math.random())} -${new Date().getFullYear()} `,balance:e,initial_balance:e,status:"ACTIVE",created_at:Date.now()};return t(e=>({giftCards:[...e.giftCards,r]})),r},redeemGiftCard:(e,a)=>{let n=r().giftCards.find(t=>t.code===e);if(!n||"ACTIVE"!==n.status||n.balance<a)return!1;let i=n.balance-a;return t(t=>({giftCards:t.giftCards.map(t=>t.code===e?{...t,balance:i,status:0===i?"REDEEMED":"ACTIVE"}:t)})),!0},getGiftCard:e=>r().giftCards.find(t=>t.code===e),currentShift:null,dailyShifts:[],cashMovements:[],openShift:(e,r)=>t(t=>{if(t.currentShift?.status==="OPEN")return t;let a=new Date().setHours(0,0,0,0),n=t.dailyShifts.filter(e=>e.start_time>=a).length;return{currentShift:{id:`SHIFT - ${Date.now()} `,user_id:t.user?.id||"UNKNOWN",start_time:Date.now(),opening_amount:e,status:"OPEN",openedBy:t.user?.id||"UNKNOWN",authorizedBy:r,shiftNumber:n+1}}}),closeShift:(e,r)=>t(t=>{if(!t.currentShift)return t;let a=t.getShiftMetrics(),n={...t.currentShift,end_time:Date.now(),status:"CLOSED",closedBy:r,closing_amount:e,difference:e-a.expectedCash};return{currentShift:null,dailyShifts:[...t.dailyShifts,n],cart:[],currentCustomer:null}}),updateOpeningAmount:e=>t(t=>t.currentShift?{currentShift:{...t.currentShift,opening_amount:e}}:t),registerCashMovement:e=>t(t=>{if(!t.currentShift)return t;let r={id:`MOV - ${Date.now()} `,shift_id:t.currentShift.id,timestamp:Date.now(),user_id:t.user?.id||"UNKNOWN",...e};return{cashMovements:[...t.cashMovements,r]}}),getShiftMetrics:()=>{let e=r();if(!e.currentShift)return{totalSales:0,cashSales:0,cardSales:0,transferSales:0,initialFund:0,totalOutflows:0,expectedCash:0};let t=e.salesHistory.filter(t=>t.timestamp>=e.currentShift.start_time&&(!e.currentShift.end_time||t.timestamp<=e.currentShift.end_time)),a=t.reduce((e,t)=>e+t.total,0),n=t.filter(e=>"CASH"===e.payment_method),i=t.filter(e=>"DEBIT"===e.payment_method||"CREDIT"===e.payment_method),s=t.filter(e=>"TRANSFER"===e.payment_method),o=n.reduce((e,t)=>e+t.total,0),l=i.reduce((e,t)=>e+t.total,0),c=s.reduce((e,t)=>e+t.total,0),d=e.currentShift.opening_amount,u=e.cashMovements.filter(t=>t.shift_id===e.currentShift.id),f=u.filter(e=>"OUT"===e.type&&e.is_cash).reduce((e,t)=>e+t.amount,0);return{totalSales:a,cashSales:o,cardSales:l,transferSales:c,initialFund:d,totalOutflows:f,expectedCash:d+o+u.filter(e=>"IN"===e.type&&e.is_cash).reduce((e,t)=>e+t.amount,0)-f,cashSalesList:n,cardSalesList:i,transferSalesList:s,cardCount:i.length,transferCount:s.length}},attendanceLogs:[],registerAttendance:(e,r,a,n)=>t(t=>{let i=Date.now(),s="OUT";["CHECK_IN","BREAK_END","PERMISSION_END"].includes(r)&&(s="IN"),"BREAK_START"===r&&(s="LUNCH"),"PERMISSION_START"===r&&(s="ON_PERMISSION"),["CHECK_OUT","MEDICAL_LEAVE","EMERGENCY","WORK_ACCIDENT"].includes(r)&&(s="OUT");let o=0;if("CHECK_OUT"===r){let r=new Date().setHours(0,0,0,0),a=t.attendanceLogs.find(t=>t.employee_id===e&&"CHECK_IN"===t.type&&t.timestamp>=r);if(a){let e=(i-a.timestamp)/1e3/60;e>540&&(o=Math.round(e-540))}}"WORK_ACCIDENT"===r&&console.error(" ALERTA DE ACCIDENTE LABORAL:",e,a);let l={id:`LOG - ${i} `,employee_id:e,timestamp:i,type:r,overtime_minutes:o,observation:a,evidence_photo_url:n};return{attendanceLogs:[...t.attendanceLogs,l],employees:t.employees.map(t=>t.id===e?{...t,current_status:s}:t)}}),updateEmployeeBiometrics:(e,r)=>t(t=>({employees:t.employees.map(t=>t.id===e?{...t,biometric_credentials:[...t.biometric_credentials||[],r]}:t)})),stockTransfers:[],shipments:o2,warehouseIncidents:[],createDispatch:e=>t(t=>{let r=Date.now(),a=e.items.map(e=>{let r=t.inventory.find(t=>t.id===e.batchId);return{...e,lot_number:r?.lot_number,expiry_date:r?.expiry_date,dci:r?.dci,unit_price:r?.price_per_unit||r?.price}}),n={...e,items:a,id:`SHP - ${r} `,status:"IN_TRANSIT",created_at:r,updated_at:r,documentation:{evidence_photos:[]}},i=[...t.inventory];return e.items.forEach(e=>{let t=i.findIndex(t=>t.id===e.batchId);-1!==t&&(i[t]={...i[t],stock_actual:i[t].stock_actual-e.quantity})}),{shipments:[...t.shipments,n],inventory:i}}),confirmReception:(e,r)=>t(t=>{let a=t.shipments.findIndex(t=>t.id===e);if(-1===a)return{};let n=t.shipments[a],i=Date.now(),s=[...t.inventory];r.receivedItems.forEach(e=>{if("GOOD"===e.condition){let r=n.items.find(t=>t.batchId===e.batchId),a=s.findIndex(e=>e.sku===r?.sku&&e.location_id===n.destination_location_id&&e.lot_number===r?.lot_number&&e.expiry_date===r?.expiry_date);if(-1!==a)s[a]={...s[a],stock_actual:s[a].stock_actual+e.quantity};else if(r){let a=t.inventory.find(e=>e.sku===r.sku);a&&s.push({...a,id:`BATCH - ${i} -${Math.random().toString(36).substr(2,5)} `,location_id:n.destination_location_id,stock_actual:e.quantity,lot_number:r.lot_number||"S/L",expiry_date:r.expiry_date||i+31536e6,price:r.unit_price||a.price,stock_min:10,stock_max:100})}}});let o=[...t.shipments];return o[a]={...n,status:"DELIVERED",updated_at:i,documentation:{...n.documentation,evidence_photos:[...n.documentation.evidence_photos,...r.photos],observations:r.notes}},{shipments:o,inventory:s}}),uploadLogisticsDocument:(e,r,a,n)=>t(t=>{let i=t.shipments.findIndex(t=>t.id===e);if(-1===i)return{};let s=[...t.shipments],o={...s[i].documentation};return"INVOICE"===r&&(o.invoice_url=a),"GUIDE"===r&&(o.dispatch_guide_url=a),"PHOTO"===r&&(o.evidence_photos=[...o.evidence_photos,a]),n&&(o.observations=n),s[i]={...s[i],documentation:o,updated_at:Date.now()},{shipments:s}}),dispatchTransfer:e=>t(t=>{let r=Date.now(),a={id:`SHP - LEGACY - ${r} `,type:"INTERNAL_TRANSFER",origin_location_id:e.origin_location_id,destination_location_id:e.destination_location_id,status:"IN_TRANSIT",transport_data:{carrier:e.shipment_data.carrier_name,tracking_number:e.shipment_data.tracking_number,package_count:1,driver_name:e.shipment_data.driver_name},documentation:{evidence_photos:e.evidence.photos},items:e.items.map(e=>({batchId:e.batchId,sku:e.sku,name:e.productName,quantity:e.quantity,condition:"GOOD"})),valuation:0,created_at:r,updated_at:r},n=[...t.inventory];return e.items.forEach(e=>{let t=n.findIndex(t=>t.id===e.batchId);-1!==t&&(n[t]={...n[t],stock_actual:n[t].stock_actual-e.quantity})}),{shipments:[...t.shipments,a],stockTransfers:[...t.stockTransfers,{...e,id:`TRF - ${r} `,status:"IN_TRANSIT",timeline:{created_at:r}}],inventory:n}}),receiveTransfer:(e,r)=>t(t=>{let r=t.stockTransfers.findIndex(t=>t.id===e);if(-1===r)return{};let a=[...t.stockTransfers];return a[r]={...a[r],status:"RECEIVED",timeline:{...a[r].timeline,received_at:Date.now()}},{stockTransfers:a}}),tickets:[],addTicketToQueue:e=>t(t=>({tickets:[...t.tickets,e]})),generateTicket:(e="ANON",r="SUC-CENTRO")=>{let a={id:`T - ${Date.now()} `,number:`A - ${Math.floor(100*Math.random())} `,status:"WAITING",rut:e,timestamp:Date.now(),branch_id:r};return t(e=>({tickets:[...e.tickets,a]})),a},callNextTicket:()=>{let e=r(),a=e.tickets.find(e=>"WAITING"===e.status);return a?(t({tickets:e.tickets.map(e=>e.id===a.id?{...e,status:"CALLED"}:e)}),a):null},siiConfiguration:null,siiCafs:[],dteDocuments:[],updateSiiConfiguration:e=>t({siiConfiguration:e}),addCaf:e=>t(t=>({siiCafs:[...t.siiCafs,{...e,id:`CAF - ${Date.now()} `}]})),getAvailableFolios:e=>{let t=r().siiCafs.find(t=>t.tipo_dte===e&&t.active);return t?t.rango_hasta-t.rango_desde-t.folios_usados:0}}),{name:"farmacias-vallenar-v6-prices",version:6,storage:(0,oY.createJSONStorage)(()=>localStorage),partialize:e=>({user:e.user,cart:e.cart,inventory:e.inventory,customers:e.customers,salesHistory:e.salesHistory,expenses:e.expenses,currentShift:e.currentShift,cashMovements:e.cashMovements,attendanceLogs:e.attendanceLogs,employees:e.employees,stockTransfers:e.stockTransfers,warehouseIncidents:e.warehouseIncidents,siiConfiguration:e.siiConfiguration,siiCafs:e.siiCafs,dteDocuments:e.dteDocuments}),merge:(e,t)=>({...t,...e,employees:e?.employees&&e.employees.length>0?e.employees:o0})}));var o3=e.i(46696);let o5=[{id:"SUCURSAL_CENTRO",type:"STORE",name:"Farmacia Vallenar Centro",address:"Arturo Prat 123, Vallenar",associated_kiosks:["KIOSK-001"]},{id:"SUCURSAL_NORTE",type:"STORE",name:"Farmacia Vallenar Norte",address:"Av. Brasil 456, Vallenar",associated_kiosks:["KIOSK-002"]},{id:"SUCURSAL_SUR",type:"STORE",name:"Farmacia Vallenar Sur",address:"Los Carrera 789, Vallenar",associated_kiosks:[]},{id:"BODEGA_CENTRAL",type:"WAREHOUSE",name:"Bodega Central Distribucin",address:"Ruta 5 Norte Km 600",associated_kiosks:[]}],o6=[{id:"KIOSK-001",type:"QUEUE",location_id:"SUCURSAL_CENTRO",status:"ACTIVE"},{id:"KIOSK-002",type:"ATTENDANCE",location_id:"SUCURSAL_NORTE",status:"ACTIVE"}],o8=(0,oK.create)()((0,oY.persist)((e,t)=>({locations:o5,kiosks:o6,currentLocation:o5[0],addLocation:t=>e(e=>({locations:[...e.locations,t]})),updateLocation:(t,r)=>e(e=>({locations:e.locations.map(e=>e.id===t?{...e,...r}:e)})),switchLocation:(r,a)=>{let n=t().locations.find(e=>e.id===r);n&&(e({currentLocation:n}),a&&a())},canSwitchLocation:e=>"MANAGER"===e||"QF"===e,registerKiosk:t=>e(e=>({kiosks:[...e.kiosks,t]})),updateKioskStatus:(t,r)=>e(e=>({kiosks:e.kiosks.map(e=>e.id===t?{...e,status:r}:e)})),generatePairingCode:e=>Math.random().toString(36).substring(2,8).toUpperCase()}),{name:"location-storage-v2",version:2,storage:(0,oY.createJSONStorage)(()=>localStorage)})),o7=(0,oM.default)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),o9=(0,oM.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var le=e.i(70756);let lt=()=>{let{currentLocation:e,locations:t,switchLocation:r,canSwitchLocation:a}=o8(),{user:n}=o4(),[i,s]=(0,ev.useState)(!1),o=!!n&&a(n.role),l=e=>{switch(e){case"WAREHOUSE":return o7;case"STORE":return oG;default:return oq.MapPin}},c=e=>{switch(e){case"WAREHOUSE":return"from-amber-500 to-orange-600";case"STORE":return"from-blue-500 to-cyan-600";default:return"from-gray-500 to-gray-600"}};if(!e)return null;let d=l(e.type);return(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsxs)("button",{onClick:()=>o&&s(!i),disabled:!o,className:`flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 transition-all ${o?"hover:shadow-lg cursor-pointer":"opacity-75 cursor-not-allowed"} bg-gradient-to-r ${c(e.type)} text-white border-white/20`,children:[(0,eb.jsx)(d,{className:"w-5 h-5"}),(0,eb.jsxs)("div",{className:"text-left",children:[(0,eb.jsx)("div",{className:"text-xs font-medium opacity-90",children:"WAREHOUSE"===e.type?" BODEGA":" SUCURSAL"}),(0,eb.jsx)("div",{className:"text-sm font-bold",children:e.name.replace("Farmacia Vallenar ","").replace("Bodega Central ","")})]}),o?(0,eb.jsx)(o9,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`}):(0,eb.jsx)(le.Lock,{className:"w-4 h-4"})]}),(0,eb.jsx)(tJ,{children:i&&o&&(0,eb.jsxs)(oR.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-50",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-3 border-b border-gray-200",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)(oq.MapPin,{className:"w-4 h-4 text-gray-600"}),(0,eb.jsx)("span",{className:"text-sm font-bold text-gray-900",children:"Cambiar Ubicacin"})]}),(0,eb.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Selecciona la sucursal o bodega que deseas gestionar"})]}),(0,eb.jsx)("div",{className:"max-h-96 overflow-y-auto",children:t.map(t=>{let a=l(t.type),n=t.id===e?.id;return(0,eb.jsxs)("button",{onClick:()=>{var e;return e=t.id,void(o&&r(e,()=>{s(!1)}))},className:`w-full px-4 py-3 flex items-center gap-3 transition-all ${n?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50 border-l-4 border-transparent"}`,children:[(0,eb.jsx)("div",{className:`p-2 rounded-lg bg-gradient-to-br ${c(t.type)}`,children:(0,eb.jsx)(a,{className:"w-5 h-5 text-white"})}),(0,eb.jsxs)("div",{className:"flex-1 text-left",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)("span",{className:`text-sm font-bold ${n?"text-blue-900":"text-gray-900"}`,children:t.name}),n&&(0,eb.jsx)("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs font-bold rounded-full",children:"Actual"})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,eb.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${(e=>{switch(e){case"WAREHOUSE":return"bg-amber-100 text-amber-700 border-amber-300";case"STORE":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}})(t.type)}`,children:"WAREHOUSE"===t.type?"Bodega":"Sucursal"}),(0,eb.jsx)("span",{className:"text-xs text-gray-500",children:t.address})]})]})]},t.id)})}),(0,eb.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,eb.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,eb.jsxs)("span",{children:["Rol: ",(0,eb.jsx)("span",{className:"font-bold text-gray-900",children:n?.role})]}),(0,eb.jsx)("span",{className:"mx-1",children:""}),(0,eb.jsxs)("span",{children:["Acceso: ",(0,eb.jsx)("span",{className:"font-bold text-green-600",children:"Total"})]})]})})]})}),!o&&(0,eb.jsx)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-xs text-yellow-800 shadow-lg z-50 hidden group-hover:block",children:(0,eb.jsxs)("div",{className:"flex items-start gap-2",children:[(0,eb.jsx)(le.Lock,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold",children:"Ubicacin Bloqueada"}),(0,eb.jsxs)("p",{className:"mt-1",children:["Tu rol (",n?.role,") solo tiene acceso a esta ubicacin. Contacta al gerente para cambiar de sucursal."]})]})]})})]})},lr=(0,oM.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),la=(0,oM.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var ln=e.i(27612),li=e.i(78894);let ls=(0,oM.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var lo=e.i(69638),ll=e.i(63209);let lc=(0,oK.create)()((0,oY.persist)((e,t)=>({notifications:[],pushNotification:t=>{let r={...t,id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,read:!1,timestamp:Date.now()};e(e=>({notifications:[r,...e.notifications]}))},markAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)}))},markAllAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))}))},clearAll:()=>{e({notifications:[]})},getUnreadCount:e=>{let{notifications:r}=t();return r.filter(t=>!t.read&&("ALL"===t.roleTarget||t.roleTarget===e)).length}}),{name:"notification-storage"})),ld=()=>{let{notifications:e,markAsRead:t,markAllAsRead:r,clearAll:a,getUnreadCount:n}=lc(),{user:i}=o4(),[s,o]=(0,ev.useState)(!1),l=i?.role||"GUEST",c=n(l),d=e.filter(e=>"ALL"===e.roleTarget||e.roleTarget===l);return(0,eb.jsxs)("div",{className:"relative z-50",children:[(0,eb.jsxs)("button",{onClick:()=>o(!s),className:"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors",children:[(0,eb.jsx)(lr,{size:24}),c>0&&(0,eb.jsx)("span",{className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold flex items-center justify-center rounded-full animate-bounce",children:c>9?"9+":c})]}),(0,eb.jsx)(tJ,{children:s&&(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,eb.jsxs)(oR.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/80 backdrop-blur-sm",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800",children:"Notificaciones"}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsxs)("button",{onClick:()=>r(),className:"text-xs font-bold text-cyan-600 hover:text-cyan-700 flex items-center gap-1 px-2 py-1 rounded hover:bg-cyan-50",title:"Marcar todas como ledas",children:[(0,eb.jsx)(la,{size:14})," Ledas"]}),(0,eb.jsx)("button",{onClick:()=>a(),className:"text-xs font-bold text-slate-400 hover:text-red-500 flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50",title:"Borrar todas",children:(0,eb.jsx)(ln.Trash2,{size:14})})]})]}),(0,eb.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:0===d.length?(0,eb.jsxs)("div",{className:"p-8 text-center text-slate-400",children:[(0,eb.jsx)(lr,{size:48,className:"mx-auto mb-3 opacity-20"}),(0,eb.jsx)("p",{className:"text-sm",children:"No tienes notificaciones nuevas"})]}):(0,eb.jsx)("div",{className:"divide-y divide-slate-100",children:d.map(e=>(0,eb.jsxs)("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${e.read?"opacity-60":"bg-white"} ${(e=>{switch(e){case"CRITICAL":return"border-l-4 border-l-red-500 bg-red-50/50";case"WARNING":return"border-l-4 border-l-amber-500 bg-amber-50/50";case"SUCCESS":return"border-l-4 border-l-emerald-500 bg-emerald-50/50";default:return"border-l-4 border-l-blue-500 bg-blue-50/50"}})(e.type)}`,onClick:()=>t(e.id),children:[(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsx)("div",{className:"mt-1 flex-shrink-0",children:(e=>{switch(e){case"CRITICAL":return(0,eb.jsx)(ll.AlertCircle,{className:"text-red-500",size:20});case"WARNING":return(0,eb.jsx)(li.AlertTriangle,{className:"text-amber-500",size:20});case"SUCCESS":return(0,eb.jsx)(lo.CheckCircle,{className:"text-emerald-500",size:20});default:return(0,eb.jsx)(ls,{className:"text-blue-500",size:20})}})(e.type)}),(0,eb.jsxs)("div",{className:"flex-1",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start",children:[(0,eb.jsx)("h4",{className:`text-sm font-bold ${e.read?"text-slate-600":"text-slate-800"}`,children:e.title}),(0,eb.jsx)("span",{className:"text-[10px] text-slate-400 whitespace-nowrap ml-2",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:e.message})]})]}),!e.read&&(0,eb.jsx)("div",{className:"absolute top-4 right-4 w-2 h-2 bg-cyan-500 rounded-full"})]},e.id))})})]})]})})]})},lu=(0,oM.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var lf=e.i(8402);let lh=(0,oM.default)("scan-barcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]),lp=()=>{let e=e3(),{login:t,logout:r,user:a,employees:n}=o4(),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(""),[c,d]=(0,ev.useState)(!1),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)(null),[m,x]=(0,ev.useState)("select"),g={"/dashboard":["MANAGER"],"/inventory":["MANAGER","QF","WAREHOUSE"],"/pos":["CASHIER","QF","MANAGER"],"/warehouse":["WAREHOUSE","MANAGER"],"/network":["MANAGER"]},b=u&&g[u]?n.filter(e=>g[u].includes(e.role)&&"ACTIVE"===e.status):n.filter(e=>"ACTIVE"===e.status);(0,ev.useEffect)(()=>{r()},[]),(0,ev.useEffect)(()=>{a&&u&&(e(u),f(""))},[a,u,e]);let v=({title:t,icon:r,color:n,route:i,desc:o})=>(0,eb.jsxs)(oR.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative overflow-hidden rounded-3xl p-8 cursor-pointer shadow-xl transition-all ${n} text-white group`,onClick:()=>{a?e(i):(f(i),d(!0),x("select"),p(null),s(""),l(""))},children:[(0,eb.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,eb.jsx)(r,{size:120})}),(0,eb.jsxs)("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"bg-white/20 w-12 h-12 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm",children:(0,eb.jsx)(r,{size:24})}),(0,eb.jsx)("h3",{className:"text-2xl font-bold mb-2",children:t}),(0,eb.jsx)("p",{className:"text-white/80 text-sm font-medium",children:o})]}),(0,eb.jsxs)("div",{className:"flex items-center text-sm font-bold mt-4",children:["ACCEDER ",(0,eb.jsx)(lu,{size:16,className:"ml-2"})]})]})]});return(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6",children:[(0,eb.jsxs)("header",{className:"mb-12 text-center",children:[(0,eb.jsxs)("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight mb-2",children:["Farmacias ",(0,eb.jsx)("span",{className:"text-cyan-600",children:"Vallenar"})," Suit"]}),(0,eb.jsx)("p",{className:"text-slate-500 font-medium",children:"Sistema ERP Clnico Integral v2.1"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl w-full",children:[(0,eb.jsx)(v,{title:"GERENCIA & BI",icon:oV,color:"bg-gradient-to-br from-purple-600 to-pink-600",route:"/dashboard",desc:"Reportes y Anlisis Ejecutivo"}),(0,eb.jsx)(v,{title:"ADMINISTRACIN",icon:oG,color:"bg-gradient-to-br from-blue-500 to-cyan-600",route:"/inventory",desc:"Inventario y Gestin de Stock"}),(0,eb.jsx)(v,{title:"Punto de Venta",icon:oI.ShoppingCart,color:"bg-gradient-to-br from-emerald-500 to-teal-600",route:"/pos",desc:"Ventas, Recetas y Caja"}),(0,eb.jsx)(v,{title:"Logstica",icon:o$,color:"bg-gradient-to-br from-orange-400 to-red-500",route:"/warehouse",desc:"Inventario y Operaciones WMS"}),(0,eb.jsx)(v,{title:"GESTIN DE RED",icon:oq.MapPin,color:"bg-gradient-to-br from-slate-700 to-slate-900",route:"/network",desc:"Sucursales, Equipos y Kioscos"}),(0,eb.jsx)(v,{title:"RELOJ CONTROL",icon:oW.Clock,color:"bg-amber-500",route:"/access",desc:"Modo Kiosco para asistencia y marcaje biomtrico."}),(0,eb.jsx)(v,{title:"TOTEM DE FILAS",icon:lf.Ticket,color:"bg-pink-500",route:"/queue",desc:"Auto-atencin de clientes y emisin de nmeros."}),(0,eb.jsx)(v,{title:"CONSULTOR DE PRECIOS",icon:lh,color:"bg-indigo-600",route:"/price-check",desc:"Escner de precios para clientes"})]}),(0,eb.jsx)(tJ,{children:c&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsx)(oR.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:"select"===m?(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("div",{className:"bg-cyan-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,eb.jsx)(oD.Users,{className:"text-cyan-700",size:32})}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Quin eres?"}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Selecciona tu perfil"}),(0,eb.jsxs)("div",{className:"mt-2 text-xs text-slate-400 space-y-1",children:[(0,eb.jsxs)("p",{children:[" Total Empleados: ",n.length]}),(0,eb.jsxs)("p",{children:[" Filtrados: ",b.length]}),(0,eb.jsxs)("p",{children:[" Ruta: ",u]})]})]}),(0,eb.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:b.length>0?b.map(e=>(0,eb.jsxs)(oR.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{p(e),x("pin"),l("")},className:"p-4 rounded-2xl border-2 border-slate-200 hover:border-cyan-500 hover:bg-cyan-50 transition-all group",children:[(0,eb.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center text-white font-bold text-2xl mx-auto mb-2 group-hover:scale-110 transition-transform",children:e.name.charAt(0)}),(0,eb.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-400",children:e.job_title})]},e.id)):(0,eb.jsx)("div",{className:"col-span-2 text-center py-8 text-slate-400",children:(0,eb.jsx)("p",{children:"No hay usuarios disponibles para este mdulo"})})}),(0,eb.jsx)("button",{onClick:()=>d(!1),className:"w-full py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition",children:"Cancelar"})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4",children:h?.name.charAt(0)}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:h?.name}),(0,eb.jsx)("p",{className:"text-slate-500",children:h?.job_title})]}),(0,eb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h&&(t(h.id,i)?d(!1):(l("PIN Incorrecto"),s("")))},className:"space-y-6",children:[(0,eb.jsx)("input",{type:"text",name:"username",autoComplete:"username",className:"hidden",readOnly:!0,value:h?.rut||""}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{htmlFor:"pin-input",className:"block text-center text-sm font-bold text-slate-600 mb-2",children:"Ingresa tu PIN de 4 dgitos"}),(0,eb.jsx)(oR.input,{id:"pin-input",name:"pin_access_code",animate:o?{x:[-10,10,-10,10,0]}:{},transition:{duration:.4},type:"password",maxLength:4,className:`w-full text-center text-4xl tracking-[1em] font-bold py-4 border-b-4 ${o?"border-red-500":"border-slate-200"} focus:border-cyan-600 focus:outline-none transition-colors text-slate-800 placeholder-slate-300`,placeholder:"",value:i,onChange:e=>s(e.target.value.replace(/\D/g,"").slice(0,4)),autoFocus:!0,autoComplete:"new-password"},o)]}),o&&(0,eb.jsx)(oR.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-center font-medium",children:o}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsx)("button",{type:"button",onClick:()=>{x("select"),p(null),s(""),l("")},className:"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition",children:"Atrs"}),(0,eb.jsx)("button",{type:"submit",disabled:i.length<4,className:"py-3 rounded-xl font-bold bg-cyan-600 text-white hover:bg-cyan-700 shadow-lg shadow-cyan-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Ingresar"})]})]}),(0,eb.jsx)("div",{className:"mt-8 text-center text-xs text-slate-400",children:(0,eb.jsx)("p",{children:"PIN Demo: Miguel (0000), Javiera (1234)"})})]})})})})]})},lm=()=>{let e=e3(),{login:t,logout:r,user:a,employees:n}=o4(),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(""),[c,d]=(0,ev.useState)(!1),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)(null),[m,x]=(0,ev.useState)("select"),g={"/reports":["MANAGER"],"/settings":["MANAGER","ADMIN","QF"],"/pos":["CASHIER","QF","MANAGER"],"/warehouse":["WAREHOUSE","MANAGER"]},b=u&&g[u]?n.filter(e=>g[u].includes(e.role)&&"ACTIVE"===e.status):n.filter(e=>"ACTIVE"===e.status);(0,ev.useEffect)(()=>{a&&u&&(e(u),f(""))},[a,u,e]);let v=({title:t,icon:r,color:n,route:i,desc:o})=>(0,eb.jsxs)(oR.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`relative overflow-hidden rounded-3xl p-8 cursor-pointer shadow-xl transition-all ${n} text-white group`,onClick:()=>{a?e(i):(f(i),d(!0),x("select"),p(null),s(""),l(""))},children:[(0,eb.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,eb.jsx)(r,{size:120})}),(0,eb.jsxs)("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"bg-white/20 w-12 h-12 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm",children:(0,eb.jsx)(r,{size:24})}),(0,eb.jsx)("h3",{className:"text-2xl font-bold mb-2",children:t}),(0,eb.jsx)("p",{className:"text-white/80 text-sm font-medium",children:o})]}),(0,eb.jsxs)("div",{className:"flex items-center text-sm font-bold mt-4",children:["ACCEDER ",(0,eb.jsx)(lu,{size:16,className:"ml-2"})]})]})]});return(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6",children:[(0,eb.jsxs)("header",{className:"mb-12 text-center",children:[(0,eb.jsxs)("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight mb-2",children:["Farmacias ",(0,eb.jsx)("span",{className:"text-cyan-600",children:"Vallenar"})," Suit"]}),(0,eb.jsx)("p",{className:"text-slate-500 font-medium",children:"Sistema ERP Clnico Integral v2.1"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl w-full",children:[(0,eb.jsx)(v,{title:"GERENCIA & BI",icon:oV,color:"bg-gradient-to-br from-purple-600 to-pink-600",route:"/reports",desc:"Reportes y Anlisis Ejecutivo"}),(0,eb.jsx)(v,{title:"ADMINISTRACIN",icon:oG,color:"bg-gradient-to-br from-blue-500 to-cyan-600",route:"/settings",desc:"Configuracin y Gestin"}),(0,eb.jsx)(v,{title:"Punto de Venta",icon:oI.ShoppingCart,color:"bg-gradient-to-br from-emerald-500 to-teal-600",route:"/pos",desc:"Ventas, Recetas y Caja"}),(0,eb.jsx)(v,{title:"Logstica",icon:o$,color:"bg-gradient-to-br from-orange-400 to-red-500",route:"/warehouse",desc:"Inventario y Operaciones WMS"})]}),(0,eb.jsx)(tJ,{children:c&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsx)(oR.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:"select"===m?(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("div",{className:"bg-cyan-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,eb.jsx)(oD.Users,{className:"text-cyan-700",size:32})}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Quin eres?"}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Selecciona tu perfil"}),(0,eb.jsxs)("div",{className:"mt-2 text-xs text-slate-400 space-y-1",children:[(0,eb.jsxs)("p",{children:[" Total Empleados: ",n.length]}),(0,eb.jsxs)("p",{children:[" Filtrados: ",b.length]}),(0,eb.jsxs)("p",{children:[" Ruta: ",u]})]})]}),(0,eb.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:b.length>0?b.map(e=>(0,eb.jsxs)(oR.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{p(e),x("pin"),l("")},className:"p-4 rounded-2xl border-2 border-slate-200 hover:border-cyan-500 hover:bg-cyan-50 transition-all group",children:[(0,eb.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center text-white font-bold text-2xl mx-auto mb-2 group-hover:scale-110 transition-transform",children:e.name.charAt(0)}),(0,eb.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-400",children:e.job_title})]},e.id)):(0,eb.jsx)("div",{className:"col-span-2 text-center py-8 text-slate-400",children:(0,eb.jsx)("p",{children:"No hay usuarios disponibles para este mdulo"})})}),(0,eb.jsx)("button",{onClick:()=>d(!1),className:"w-full py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition",children:"Cancelar"})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4",children:h?.name.charAt(0)}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:h?.name}),(0,eb.jsx)("p",{className:"text-slate-500",children:h?.job_title})]}),(0,eb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h&&(t(h.id,i)?d(!1):(l("PIN Incorrecto"),s("")))},className:"space-y-6",children:[(0,eb.jsx)("input",{type:"text",name:"username",autoComplete:"username",className:"hidden",readOnly:!0,value:h?.rut||""}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{htmlFor:"dashboard-pin-input",className:"block text-center text-sm font-bold text-slate-600 mb-2",children:"Ingresa tu PIN de 4 dgitos"}),(0,eb.jsx)(oR.input,{id:"dashboard-pin-input",name:"pin",animate:o?{x:[-10,10,-10,10,0]}:{},transition:{duration:.4},type:"password",maxLength:4,className:`w-full text-center text-4xl tracking-[1em] font-bold py-4 border-b-4 ${o?"border-red-500":"border-slate-200"} focus:border-cyan-600 focus:outline-none transition-colors text-slate-800 placeholder-slate-300`,placeholder:"",value:i,onChange:e=>{s(e.target.value),l("")},autoFocus:!0,autoComplete:"new-password"},o)]}),o&&(0,eb.jsx)(oR.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-center font-medium",children:o}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsx)("button",{type:"button",onClick:()=>{x("select"),p(null),s(""),l("")},className:"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition",children:"Atrs"}),(0,eb.jsx)("button",{type:"submit",disabled:i.length<4,className:"py-3 rounded-xl font-bold bg-cyan-600 text-white hover:bg-cyan-700 shadow-lg shadow-cyan-200 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Ingresar"})]})]}),(0,eb.jsx)("div",{className:"mt-8 text-center text-xs text-slate-400",children:(0,eb.jsx)("p",{children:"PIN Demo: Miguel (0000), Javiera (1234)"})})]})})})})]})};var lx=e.i(55436),lg=e.i(7233);let lb=(0,oM.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var lv=e.i(61659),ly=e.i(87378);let lw=(0,oM.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var lj=e.i(12426),lN=e.i(84614);let lE=(0,oM.default)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),lS=["Pseudoefedrina","Fenilefrina","Sodio"],lk=["Ibuprofeno","Naproxeno","Isotretinona","Warfarina"],lT=["Jarabe con Azcar","Dextrometorfano (con azcar)"],lA={dolor:["ANALGESICO","ANTIINFLAMATORIO"],cabeza:["PARACETAMOL","IBUPROFENO","MIGRAA"],fiebre:["PARACETAMOL","ANTIPIRETICO"],estomago:["VIADIL","OMEPRAZOL","PROBIOTICO","SAL DE FRUTA"],tos:["JARABE","ANTITUSIVO","EXPECTORANTE"],alergia:["LORATADINA","CETIRIZINA","ANTIHISTAMINICO"],herida:["POVIDONA","PARCHE","GASA","CICATRIZANTE"]},l_=[{trigger:"Antibitico",suggestion:"Probitico (Bioflora/Perenteryl) para proteger flora intestinal."},{trigger:"Paales",suggestion:"Crema para coceduras (Hipogls/Pasta Lassar)."},{trigger:"Cepillo Dental",suggestion:"Pasta Dental o Hilo Dental."},{trigger:"Invierno",suggestion:"Vitamina C o Propleo."}];class lC{static searchBySymptom(e,t){let r=e.toLowerCase(),a=[];return Object.entries(lA).forEach(([e,t])=>{r.includes(e)&&(a=[...a,...t])}),0===a.length&&(a=[r]),t.filter(e=>{if(e.stock_actual<=0)return!1;let t=`${e.name} ${e.dci} ${e.category}`.toLowerCase();return a.some(e=>t.includes(e.toLowerCase()))})}static analyzeCart(e,t){let r={status:"SAFE",message:"Anlisis Clnico: OK"},a=[],n=[];return t&&e.forEach(e=>{if(t.health_tags.includes("HYPERTENSION")){let t=lS.find(t=>e.name.includes(t)||e.active_ingredients?.includes(t));t&&a.push(`${e.name} (Contiene ${t})`)}if(t.health_tags.includes("PREGNANT")){let t=lk.find(t=>e.name.includes(t)||e.active_ingredients?.includes(t));t&&a.push(`${e.name} (Riesgo en Embarazo: ${t})`)}t.health_tags.includes("DIABETIC")&&lT.find(t=>e.name.includes(t))&&a.push(`${e.name} (No apto para diab\xe9ticos)`)}),e.forEach(e=>{l_.forEach(t=>{(e.name.includes(t.trigger)||e.active_ingredients?.includes(t.trigger))&&!n.includes(t.suggestion)&&n.push(t.suggestion)})}),a.length>0?(r.status="BLOCK",r.message=` ALERTA DE SEGURIDAD: Interacci\xf3n detectada.`,r.blocking_items=a):n.length>0&&(r.message="Venta Segura. Ver sugerencias."),r.suggested_items=n,r}}var lO=e.i(78583);let lP=(0,oM.default)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),lR=(0,oM.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),lI=({isOpen:e,onConfirm:t,onCancel:r,itemName:a})=>{let[n,i]=(0,ev.useState)(""),[s,o]=(0,ev.useState)(""),[l,c]=(0,ev.useState)(!1);if(!e)return null;let d=n.length>0&&s.length>8&&l;return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[(0,eb.jsxs)("h3",{className:"text-xl font-bold text-amber-800 flex items-center gap-2",children:[(0,eb.jsx)(li.AlertTriangle,{className:"text-amber-600"})," Receta Retenida"]}),(0,eb.jsxs)("p",{className:"text-sm text-amber-700 mt-1",children:["La venta de ",(0,eb.jsx)("strong",{children:a})," requiere receta retenida."]})]}),(0,eb.jsxs)("div",{className:"p-6 space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-1 flex items-center gap-2",children:[(0,eb.jsx)(lO.FileText,{size:16})," Folio Receta"]}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-amber-500 focus:outline-none",placeholder:"Ej: A-123456",value:n,onChange:e=>i(e.target.value)})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-1 flex items-center gap-2",children:[(0,eb.jsx)(lP,{size:16})," RUT Mdico Prescriptor"]}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-amber-500 focus:outline-none",placeholder:"Ej: 11.222.333-4",value:s,onChange:e=>o(e.target.value)})]}),(0,eb.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[(0,eb.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,eb.jsx)("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${l?"bg-amber-500 border-amber-500 text-white":"border-slate-300 bg-white"}`,children:l&&(0,eb.jsx)(lR,{size:16})}),(0,eb.jsx)("input",{type:"checkbox",className:"hidden",checked:l,onChange:e=>c(e.target.checked)}),(0,eb.jsx)("span",{className:"text-sm font-bold text-slate-700",children:"Receta Fsica Archivada"})]}),(0,eb.jsx)("p",{className:"text-xs text-slate-400 mt-2 ml-9",children:"Declaro haber recibido y archivado la receta fsica correspondiente."})]}),(0,eb.jsxs)("div",{className:"flex flex-col gap-3 pt-4",children:[(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsx)("button",{onClick:r,className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-100 rounded-xl transition",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:()=>d&&t({folio:n,doctorRut:s}),disabled:!d,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-xl hover:bg-amber-700 transition disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-amber-200",children:"Confirmar"})]}),(0,eb.jsx)("button",{onClick:()=>t({folio:"PENDIENTE_VALIDACION",doctorRut:"VALIDACION_MANUAL"}),className:"w-full py-2 text-xs font-bold text-slate-400 hover:text-slate-600 transition uppercase tracking-wider",children:"Omitir / Validar Manualmente"})]})]})]})})},lD=(0,oM.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),lM=({isOpen:e,onConfirm:t,onClose:r})=>{let[a,n]=(0,ev.useState)(""),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)("1");return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsx)("div",{className:"bg-slate-900 p-4 border-b border-slate-800 text-white",children:(0,eb.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,eb.jsx)(lD,{className:"text-cyan-400"})," tem Manual / Vario"]})}),(0,eb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a&&i&&(t({description:a,price:parseInt(i),quantity:parseInt(o)}),n(""),s(""),l("1"))},className:"p-6 space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Descripcin"}),(0,eb.jsx)("input",{type:"text",autoFocus:!0,className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none",placeholder:"Ej: Servicio Inyectable",value:a,onChange:e=>n(e.target.value)})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Precio Unit."}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lj.DollarSign,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-8 pr-3 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none",placeholder:"0",value:i,onChange:e=>s(e.target.value)})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Cantidad"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(oB,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-8 pr-3 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none",value:o,onChange:e=>l(e.target.value)})]})]})]}),(0,eb.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,eb.jsx)("button",{type:"button",onClick:r,className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-100 rounded-xl transition",children:"Cancelar"}),(0,eb.jsx)("button",{type:"submit",className:"flex-1 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200",children:"Agregar"})]})]})]})}):null},lL=(0,oM.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),lF=(0,oM.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),lU=(0,oM.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lz=({isOpen:e,onClose:t})=>{let{currentShift:r,openShift:a,closeShift:n,registerCashMovement:i}=o4(),s=(()=>{let{currentShift:e,salesHistory:t,cashMovements:r}=o4();return(0,ev.useMemo)(()=>{if(!e)return null;let a=t.filter(t=>t.timestamp>=e.start_time&&(!e.end_time||t.timestamp<=e.end_time)),n=r.filter(t=>t.shift_id===e.id),i=a.filter(e=>"CASH"===e.payment_method),s=a.filter(e=>"DEBIT"===e.payment_method||"CREDIT"===e.payment_method),o=a.filter(e=>"TRANSFER"===e.payment_method),l={count:i.length,total:i.reduce((e,t)=>e+t.total,0),items:i},c={count:s.length,total:s.reduce((e,t)=>e+t.total,0),items:s},d={count:o.length,total:o.reduce((e,t)=>e+t.total,0),items:o},u=a.reduce((e,t)=>e+t.total,0),f=n.filter(e=>"IN"===e.type&&e.is_cash),h=n.filter(e=>"OUT"===e.type&&e.is_cash),p={count:f.length,total:f.reduce((e,t)=>e+t.amount,0),items:f},m={count:h.length,total:h.reduce((e,t)=>e+t.amount,0),items:h},x=e.opening_amount,g=x+l.total+p.total-m.total;return{totalSales:u,cashSales:l,cardSales:c,transferSales:d,otherIncomes:p,expenses:m,initialFund:x,expectedCash:g}},[e,t,r])})(),[o,l]=(0,ev.useState)("MOVEMENTS"),[c,d]=(0,ev.useState)("OUT"),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)("SUPPLIES"),[m,x]=(0,ev.useState)(""),[g,b]=(0,ev.useState)(""),[v,y]=(0,ev.useState)(null),[w,j]=(0,ev.useState)("");if(!e)return null;if(!r||"CLOSED"===r.status)return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 text-center",children:[(0,eb.jsx)("div",{className:"w-20 h-20 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-6 text-cyan-600",children:(0,eb.jsx)(le.Lock,{size:40})}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Apertura de Caja"}),(0,eb.jsx)("p",{className:"text-slate-500 mb-8",children:"Ingrese el monto base para iniciar el turno."}),(0,eb.jsxs)("div",{className:"mb-6",children:[(0,eb.jsx)("label",{className:"block text-left text-xs font-bold text-slate-500 uppercase mb-2",children:"Monto Base"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lj.DollarSign,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-10 p-4 bg-slate-50 border border-slate-200 rounded-xl text-2xl font-bold text-slate-800 focus:border-cyan-500 outline-none",placeholder:"0",value:w,onChange:e=>j(e.target.value),autoFocus:!0})]})]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsx)("button",{onClick:t,className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:()=>{let e=parseInt(w);e>=0&&(a(e,"CURRENT_USER"),o3.toast.success("Caja abierta exitosamente"))},className:"flex-1 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 shadow-lg shadow-cyan-200",children:"Abrir Caja"})]})]})});if(!s)return null;let N=e=>{y(v===e?null:e)},E=(parseInt(g)||0)-s.expectedCash;return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden",children:[(0,eb.jsxs)("div",{className:"bg-slate-900 p-6 flex justify-between items-center text-white shrink-0",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-xl",children:(0,eb.jsx)(lj.DollarSign,{className:"text-cyan-400",size:28})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-xl font-bold",children:"Control de Caja"}),(0,eb.jsxs)("p",{className:"text-slate-400 text-sm",children:["Turno #",r.shiftNumber,"  Iniciado ",new Date(r.start_time).toLocaleTimeString()]})]})]}),(0,eb.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-white p-2 hover:bg-white/10 rounded-full transition",children:(0,eb.jsx)(oz.X,{})})]}),(0,eb.jsxs)("div",{className:"flex border-b border-slate-200 shrink-0",children:[(0,eb.jsx)("button",{onClick:()=>l("MOVEMENTS"),className:`flex-1 py-4 font-bold text-sm border-b-2 transition ${"MOVEMENTS"===o?"border-cyan-500 text-cyan-700 bg-cyan-50/50":"border-transparent text-slate-500 hover:bg-slate-50"}`,children:"1. MOVIMIENTOS"}),(0,eb.jsx)("button",{onClick:()=>l("CLOSING"),className:`flex-1 py-4 font-bold text-sm border-b-2 transition ${"CLOSING"===o?"border-cyan-500 text-cyan-700 bg-cyan-50/50":"border-transparent text-slate-500 hover:bg-slate-50"}`,children:"2. ARQUEO Y CIERRE"})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-y-auto bg-slate-50 p-6",children:["MOVEMENTS"===o&&(0,eb.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-1",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-1 mb-6 p-1 bg-slate-100 rounded-xl",children:[(0,eb.jsxs)("button",{onClick:()=>{d("OUT"),p("SUPPLIES")},className:`py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition ${"OUT"===c?"bg-white text-red-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[(0,eb.jsx)(lL,{size:18})," Registrar SALIDA"]}),(0,eb.jsxs)("button",{onClick:()=>{d("IN"),p("OTHER_INCOME")},className:`py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition ${"IN"===c?"bg-white text-green-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[(0,eb.jsx)(lF,{size:18})," Registrar INGRESO"]})]}),(0,eb.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Monto"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lj.DollarSign,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-10 p-4 bg-slate-50 border border-slate-200 rounded-xl text-2xl font-bold text-slate-800 focus:border-cyan-500 outline-none",placeholder:"0",value:u,onChange:e=>f(e.target.value)})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Motivo"}),(0,eb.jsx)("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700 focus:border-cyan-500 outline-none",value:h,onChange:e=>p(e.target.value),children:"OUT"===c?(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsx)("option",{value:"SUPPLIES",children:"Insumos / Compras"}),(0,eb.jsx)("option",{value:"SERVICES",children:"Pago Servicios"}),(0,eb.jsx)("option",{value:"WITHDRAWAL",children:"Retiro de Utilidades"}),(0,eb.jsx)("option",{value:"SALARY_ADVANCE",children:"Adelanto Sueldo"}),(0,eb.jsx)("option",{value:"OTHER",children:"Otro Egreso"})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsx)("option",{value:"OTHER_INCOME",children:"Ingreso Extra / Aporte"}),(0,eb.jsx)("option",{value:"INITIAL_FUND",children:"Ajuste Fondo Inicial"})]})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Descripcin"}),(0,eb.jsx)("textarea",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-700 focus:border-cyan-500 outline-none resize-none h-24",placeholder:"OUT"===c?"Ej: Compra de confort, pago de luz...":"Ej: Aporte de sencillo, devolucin...",value:m,onChange:e=>x(e.target.value)})]}),(0,eb.jsxs)("button",{onClick:()=>{let e=parseInt(u);isNaN(e)||e<=0?o3.toast.error("Ingrese un monto vlido"):m?(i({type:c,amount:e,reason:h,description:m,is_cash:!0}),o3.toast.success("Movimiento registrado"),f(""),x("")):o3.toast.error("Ingrese una descripcin")},className:`w-full py-4 font-bold text-white rounded-xl shadow-lg transition flex items-center justify-center gap-2 ${"OUT"===c?"bg-red-500 hover:bg-red-600 shadow-red-200":"bg-green-500 hover:bg-green-600 shadow-green-200"}`,children:["OUT"===c?(0,eb.jsx)(lL,{}):(0,eb.jsx)(lF,{}),"OUT"===c?"Confirmar Egreso":"Confirmar Ingreso"]})]})]})}),"CLOSING"===o&&(0,eb.jsxs)("div",{className:"flex gap-6 h-full",children:[(0,eb.jsxs)("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2 custom-scrollbar",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 mb-4",children:"Detalle de Operaciones"}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,eb.jsxs)("button",{onClick:()=>N("CASH"),className:"w-full p-4 flex justify-between items-center hover:bg-slate-50 transition",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:(0,eb.jsx)(lj.DollarSign,{size:20})}),(0,eb.jsxs)("div",{className:"text-left",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800",children:"Ventas Efectivo"}),(0,eb.jsxs)("div",{className:"text-xs text-slate-500",children:[s.cashSales.count," transacciones"]})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsxs)("span",{className:"font-bold text-slate-800",children:["$",s.cashSales.total.toLocaleString()]}),"CASH"===v?(0,eb.jsx)(o9,{size:18,className:"text-slate-400"}):(0,eb.jsx)(lU,{size:18,className:"text-slate-400"})]})]}),"CASH"===v&&(0,eb.jsx)("div",{className:"bg-slate-50 border-t border-slate-100 p-2 space-y-1 max-h-60 overflow-y-auto",children:s.cashSales.items.map((e,t)=>(0,eb.jsxs)("div",{className:"flex justify-between text-sm p-2 hover:bg-white rounded-lg",children:[(0,eb.jsx)("span",{className:"text-slate-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,eb.jsxs)("span",{className:"font-medium text-slate-700",children:["$",e.total.toLocaleString()]})]},`${e.id}-${t}`))})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,eb.jsxs)("button",{onClick:()=>N("CARD"),className:"w-full p-4 flex justify-between items-center hover:bg-slate-50 transition",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:(0,eb.jsx)(lj.DollarSign,{size:20})}),(0,eb.jsxs)("div",{className:"text-left",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800",children:"Ventas Tarjeta"}),(0,eb.jsxs)("div",{className:"text-xs text-slate-500",children:[s.cardSales.count," transacciones"]})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsxs)("span",{className:"font-bold text-slate-800",children:["$",s.cardSales.total.toLocaleString()]}),"CARD"===v?(0,eb.jsx)(o9,{size:18,className:"text-slate-400"}):(0,eb.jsx)(lU,{size:18,className:"text-slate-400"})]})]}),"CARD"===v&&(0,eb.jsx)("div",{className:"bg-slate-50 border-t border-slate-100 p-2 space-y-1 max-h-60 overflow-y-auto",children:s.cardSales.items.map((e,t)=>(0,eb.jsxs)("div",{className:"flex justify-between text-sm p-2 hover:bg-white rounded-lg",children:[(0,eb.jsx)("span",{className:"text-slate-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,eb.jsxs)("span",{className:"font-medium text-slate-700",children:["$",e.total.toLocaleString()]})]},`${e.id}-${t}`))})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,eb.jsxs)("button",{onClick:()=>N("TRANSFER"),className:"w-full p-4 flex justify-between items-center hover:bg-slate-50 transition",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:(0,eb.jsx)(lj.DollarSign,{size:20})}),(0,eb.jsxs)("div",{className:"text-left",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800",children:"Transferencias"}),(0,eb.jsxs)("div",{className:"text-xs text-slate-500",children:[s.transferSales.count," transacciones"]})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsxs)("span",{className:"font-bold text-slate-800",children:["$",s.transferSales.total.toLocaleString()]}),"TRANSFER"===v?(0,eb.jsx)(o9,{size:18,className:"text-slate-400"}):(0,eb.jsx)(lU,{size:18,className:"text-slate-400"})]})]}),"TRANSFER"===v&&(0,eb.jsx)("div",{className:"bg-slate-50 border-t border-slate-100 p-2 space-y-1 max-h-60 overflow-y-auto",children:s.transferSales.items.map((e,t)=>(0,eb.jsxs)("div",{className:"flex justify-between text-sm p-2 hover:bg-white rounded-lg",children:[(0,eb.jsx)("span",{className:"text-slate-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,eb.jsxs)("span",{className:"font-medium text-slate-700",children:["$",e.total.toLocaleString()]})]},`${e.id}-${t}`))})]})]}),(0,eb.jsxs)("div",{className:"w-1/3 flex flex-col",children:[(0,eb.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm mb-4 flex-1",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 mb-4",children:"Flujo de Efectivo"}),(0,eb.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,eb.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,eb.jsx)("span",{children:"(+) Base Inicial"}),(0,eb.jsxs)("span",{className:"font-medium",children:["$",s.initialFund.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,eb.jsx)("span",{children:"(+) Ventas Efectivo"}),(0,eb.jsxs)("span",{className:"font-medium",children:["$",s.cashSales.total.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,eb.jsx)("span",{children:"(+) Otros Ingresos"}),(0,eb.jsxs)("span",{className:"font-bold",children:["$",s.otherIncomes.total.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"flex justify-between text-red-500",children:[(0,eb.jsx)("span",{children:"(-) Gastos / Salidas"}),(0,eb.jsxs)("span",{className:"font-bold",children:["-$",s.expenses.total.toLocaleString()]})]}),(0,eb.jsx)("div",{className:"pt-3 border-t-2 border-slate-100 mt-2",children:(0,eb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eb.jsx)("span",{className:"font-bold text-slate-800",children:"DEBE HABER EN CAJA"}),(0,eb.jsxs)("span",{className:"text-xl font-bold text-slate-900",children:["$",s.expectedCash.toLocaleString()]})]})})]}),(0,eb.jsxs)("div",{className:"mt-8",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Conteo Fsico Real"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lj.DollarSign,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,eb.jsx)("input",{type:"number",className:`w-full pl-10 p-4 border-2 rounded-xl text-2xl font-bold outline-none transition ${g&&0===E?"border-green-500 bg-green-50 text-green-700":g&&0!==E?"border-red-500 bg-red-50 text-red-700":"border-slate-200 bg-slate-50 text-slate-800 focus:border-cyan-500"}`,placeholder:"0",value:g,onChange:e=>b(e.target.value)})]}),g&&(0,eb.jsxs)("div",{className:`mt-4 p-4 rounded-xl flex items-center gap-3 ${0===E?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[0===E?(0,eb.jsx)(lo.CheckCircle,{size:24}):(0,eb.jsx)(li.AlertTriangle,{size:24}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"font-bold",children:0===E?"Cuadratura Perfecta":"Diferencia Detectada"}),(0,eb.jsx)("div",{className:"text-sm",children:E>0?`Sobra $${E.toLocaleString()}`:E<0?`Falta $${Math.abs(E).toLocaleString()}`:"Todo en orden"})]})]})]})]}),(0,eb.jsx)("button",{onClick:()=>{let e=parseInt(g);isNaN(e)||e<0||(n(e,"CURRENT_USER"),o3.toast.success("Turno cerrado correctamente"),t())},disabled:!g,className:"w-full py-4 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:"Cerrar Turno"})]})]})]})]})})};class lB{static async printTicket(e,t){if(!t.auto_print_sale)return;console.log(" PRINTING TICKET:",e.id),console.log("HEADER:",t.header_text),console.log("ITEMS:",e.items.length),console.log("FOOTER:",t.footer_text);let r=e.items.filter(e=>e.is_fractional);r.length>0&&(console.log(" DETECTED FRACTIONAL ITEMS:",r.length),r.forEach(e=>{this.printFractionalLabel(e,t)}))}static async printFractionalLabel(e,t){console.log(" PRINTING LABEL (ART 40 B):",e.name),console.log("   Pac: ",e.original_name)}static async printVoucher(e,t){if(!t.auto_print_cash)return}static async printQueueTicket(e,t){if(!t.auto_print_queue)return}}let lV=({isOpen:e,onClose:t})=>{let{registerCashMovement:r,employees:a,currentShift:n,printerConfig:i}=o4(),[s,o]=(0,ev.useState)(""),[l,c]=(0,ev.useState)(""),[d,u]=(0,ev.useState)("GASTO"),[f,h]=(0,ev.useState)(""),[p,m]=(0,ev.useState)("");return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,eb.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,eb.jsx)(lj.DollarSign,{className:"text-red-500"})," Retiro de Caja"]}),(0,eb.jsx)("button",{onClick:t,children:(0,eb.jsx)(oz.X,{className:"text-slate-400 hover:text-slate-600"})})]}),(0,eb.jsxs)("div",{className:"p-6 space-y-4",children:[(0,eb.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["GASTO","RETIRO","ADELANTO"].map(e=>(0,eb.jsx)("button",{onClick:()=>u(e),className:`py-2 px-1 rounded-xl text-xs font-bold border-2 transition-all ${d===e?"border-red-500 bg-red-50 text-red-700":"border-slate-100 text-slate-400 hover:bg-slate-50"}`,children:e},e))}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Monto a Retirar"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-8 pr-4 py-3 border-2 border-slate-200 rounded-xl font-bold text-xl focus:border-red-500 focus:outline-none",placeholder:"0",value:s,onChange:e=>o(e.target.value)})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Motivo / Descripcin"}),(0,eb.jsx)("textarea",{className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-red-500 focus:outline-none text-sm",rows:2,placeholder:"Ej: Compra de artculos de aseo...",value:l,onChange:e=>c(e.target.value)})]}),(0,eb.jsxs)("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-red-800 font-bold text-xs uppercase tracking-wider",children:[(0,eb.jsx)(le.Lock,{size:12})," Autorizacin Requerida"]}),(0,eb.jsx)("input",{type:"password",maxLength:4,className:"w-full p-3 border-2 border-red-200 rounded-xl font-bold text-center tracking-[1em] focus:border-red-500 focus:outline-none bg-white",placeholder:"",value:f,onChange:e=>{h(e.target.value),m("")}}),(0,eb.jsx)("p",{className:"text-[10px] text-red-600/70 text-center mt-2",children:"PIN de Gerente o Administrador"})]}),p&&(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-xs font-bold bg-red-50 p-3 rounded-lg",children:[(0,eb.jsx)(li.AlertTriangle,{size:16})," ",p]}),(0,eb.jsx)("button",{onClick:()=>{if(!s||!l||!f)return void m("Todos los campos son obligatorios");let e=a.find(e=>("MANAGER"===e.role||"ADMIN"===e.role)&&e.access_pin===f);if(!e)return void m("PIN no autorizado o incorrecto");if(!n)return void m("No hay turno de caja abierto");let u={type:"OUT",amount:Number(s),description:`[${d}] ${l} (Auth: ${e.name})`,reason:"RETIRO"===d||"ADELANTO"===d?"WITHDRAWAL":"SUPPLIES",is_cash:!0};r(u),lB.printVoucher({...u,id:`MOV-${Date.now()}`,timestamp:Date.now(),shift_id:n.id,user_id:e.id},i),o3.toast.success("Retiro registrado y cajn abierto."),t(),o(""),c(""),h(""),m("")},className:"w-full py-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-200",children:"Confirmar Retiro"})]})]})}):null},l$=(0,oM.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),lH=({isOpen:e,onClose:t,product:r,onConfirm:a})=>{let[n,i]=(0,ev.useState)(""),s=(0,ev.useRef)(null),{currentCustomer:o}=o4();if((0,ev.useEffect)(()=>{e&&(i(""),setTimeout(()=>{s.current?.focus()},100))},[e]),!e||!r)return null;let l=parseInt(n)||0,c=r.fractional_price||Math.ceil(r.price/(r.units_per_box||1)),d=l*c;return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-6 text-white flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"bg-white/20 p-2 rounded-xl",children:(0,eb.jsx)(lE,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"text-xl font-bold",children:"Venta Fraccionada"}),(0,eb.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Art. 19 A - Venta por Unidad"})]})]}),(0,eb.jsx)("button",{onClick:t,className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded-full transition",children:(0,eb.jsx)(oz.X,{size:24})})]}),(0,eb.jsxs)("div",{className:"p-8",children:[(0,eb.jsxs)("div",{className:"mb-8 text-center",children:[(0,eb.jsx)("h4",{className:"text-lg font-bold text-slate-800 mb-1",children:r.name}),(0,eb.jsxs)("p",{className:"text-slate-500 text-sm mb-4",children:[r.dci," - ",r.laboratory]}),(0,eb.jsx)("div",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-full font-bold text-sm",children:(0,eb.jsxs)("span",{children:["Precio Unitario: $",c.toLocaleString()]})})]}),(0,eb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l>0&&(a(l,d),t())},children:[(0,eb.jsxs)("div",{className:"mb-8",children:[(0,eb.jsx)("label",{className:"block text-center text-sm font-bold text-slate-500 mb-3 uppercase tracking-wider",children:"Cuntas unidades?"}),(0,eb.jsx)("div",{className:"relative max-w-[200px] mx-auto",children:(0,eb.jsx)("input",{ref:s,type:"number",min:"1",className:"w-full text-center text-5xl font-black text-slate-800 border-b-4 border-blue-500 focus:outline-none focus:border-cyan-400 py-2 bg-transparent placeholder-slate-200",placeholder:"0",value:n,onChange:e=>i(e.target.value)})})]}),(0,eb.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 mb-8 flex items-center justify-between border border-slate-100",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3 text-slate-400",children:[(0,eb.jsx)(l$,{size:20}),(0,eb.jsxs)("span",{className:"font-medium text-lg",children:[l," x $",c.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total a Cobrar"}),(0,eb.jsxs)("p",{className:"text-3xl font-black text-slate-900",children:["$",d.toLocaleString()]})]})]}),o?(0,eb.jsxs)("div",{className:"mb-6 bg-emerald-50 border border-emerald-100 p-3 rounded-xl flex items-center gap-3 text-emerald-700 text-sm font-bold",children:[(0,eb.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Cliente: ",o.fullName]}):(0,eb.jsx)("div",{className:"mb-6 bg-slate-50 border border-slate-100 p-3 rounded-xl text-center text-slate-400 text-xs",children:"Sin cliente asignado (Venta Genrica)"}),(0,eb.jsxs)("button",{type:"submit",disabled:l<=0,className:"w-full py-4 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition shadow-lg shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg",children:[(0,eb.jsx)(lE,{size:20}),"Agregar al Carrito"]})]})]})]})})},lW=(0,oM.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),lG=({isOpen:e,onClose:t})=>{let{customers:r,setCustomer:a,addCustomer:n}=o4(),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(!1),[c,d]=(0,ev.useState)(""),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)(""),m=(0,ev.useRef)(null);(0,ev.useEffect)(()=>{e&&(setTimeout(()=>m.current?.focus(),100),s(""),l(!1),d(""),f(""),p(""))},[e]);let x=(0,ev.useMemo)(()=>{if(!i)return[];let e=i.toLowerCase();return r.filter(t=>t.fullName.toLowerCase().includes(e)||t.rut.includes(e)).slice(0,5)},[r,i]);return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-20",onKeyDown:e=>{"Escape"===e.key&&t()},children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(lN.User,{className:"text-cyan-600",size:20}),"Asignar Cliente"]}),(0,eb.jsx)("button",{onClick:t,className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:20,className:"text-gray-500"})})]}),(0,eb.jsx)("div",{className:"p-4",children:o?(0,eb.jsxs)("div",{className:"space-y-4 animate-in slide-in-from-right-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"RUT"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none font-mono",value:c,onChange:e=>d(e.target.value),placeholder:"11.111.111-1",autoFocus:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Nombre Completo"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none",value:u,onChange:e=>f(e.target.value),placeholder:"Juan Prez"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Telfono (Opcional)"}),(0,eb.jsx)("input",{type:"tel",className:"w-full p-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none",value:h,onChange:e=>p(e.target.value),placeholder:"+569..."})]}),(0,eb.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,eb.jsx)("button",{onClick:()=>l(!1),className:"flex-1 py-3 text-gray-500 font-bold hover:bg-gray-100 rounded-xl transition",children:"Volver"}),(0,eb.jsx)("button",{onClick:()=>{c&&u?(n({rut:c,fullName:u,phone:h,email:"",registrationSource:"POS"}),o3.toast.success("Cliente registrado y asignado"),t()):o3.toast.error("RUT y Nombre son obligatorios")},className:"flex-1 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200",children:"Guardar y Asignar"})]})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"relative mb-4",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,eb.jsx)("input",{ref:m,type:"text",placeholder:"Buscar por RUT o Nombre...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none text-lg font-medium",value:i,onChange:e=>s(e.target.value)})]}),(0,eb.jsxs)("div",{className:"space-y-2",children:[x.map(e=>(0,eb.jsxs)("button",{onClick:()=>{a(e),o3.toast.success(`Cliente asignado: ${e.fullName}`),t()},className:"w-full p-3 text-left hover:bg-cyan-50 border border-gray-100 rounded-xl transition flex justify-between items-center group",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"font-bold text-gray-800",children:e.fullName}),(0,eb.jsx)("div",{className:"text-xs text-gray-500 font-mono",children:e.rut})]}),(0,eb.jsx)(la,{size:18,className:"text-gray-300 group-hover:text-cyan-600"})]},e.id)),i&&0===x.length&&(0,eb.jsxs)("div",{className:"text-center py-4",children:[(0,eb.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:"No se encontraron resultados"}),(0,eb.jsxs)("button",{onClick:()=>{l(!0),d(i)},className:"px-4 py-2 bg-slate-800 text-white rounded-lg font-bold text-sm hover:bg-slate-700 transition flex items-center gap-2 mx-auto",children:[(0,eb.jsx)(lW,{size:16}),"Registrar Nuevo Cliente"]})]})]})]})})]})}):null},lq=({onScan:e,minLength:t=3,latency:r=50,targetInputRef:a})=>{let n=(0,ev.useRef)(""),i=(0,ev.useRef)(Date.now());(0,ev.useEffect)(()=>{let s=s=>{let o=s.target,l="INPUT"===o.tagName||"TEXTAREA"===o.tagName;if(a){if(o!==a.current)return}else if(l)return;let c=Date.now();c-i.current>r&&(n.current=""),"Enter"===s.key?n.current.length>=t&&(s.preventDefault(),e(n.current),n.current=""):1===s.key.length&&(n.current+=s.key),i.current=c};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,t,r,a])},lK=(0,oK.create)()((0,oY.persist)(e=>({enable_sii_integration:!1,toggleSiiIntegration:()=>e(e=>({enable_sii_integration:!e.enable_sii_integration})),setSiiIntegration:t=>e({enable_sii_integration:t}),hardware:{pos_printer_width:"80mm",label_printer_size:"50x25",auto_print_pos:!1,auto_print_labels:!1,scanner_mode:"KEYBOARD_WEDGE"},updateHardwareConfig:t=>e(e=>({hardware:{...e.hardware,...t}}))}),{name:"settings-storage"})),lY=()=>{((e=!0)=>{(0,ev.useEffect)(()=>{if(!e)return;let t=()=>{window.history.pushState(null,"",window.location.href)};t(),window.addEventListener("popstate",t);let r=e=>(e.preventDefault(),e.returnValue="","");window.addEventListener("beforeunload",r);let a=async()=>{try{document.fullscreenElement||await document.documentElement.requestFullscreen()}catch(e){}},n=()=>{a(),window.removeEventListener("click",n)};return window.addEventListener("click",n),()=>{window.removeEventListener("popstate",t),window.removeEventListener("beforeunload",r),window.removeEventListener("click",n)}},[e])})(!0);let{inventory:e,cart:t,addToCart:r,addManualItem:a,removeFromCart:n,clearCart:i,processSale:s,currentCustomer:o,currentShift:l,getShiftMetrics:c,updateOpeningAmount:d,employees:u,printerConfig:f,setCustomer:h,promotions:p,redeemGiftCard:m}=o4(),{enable_sii_integration:x}=lK();c();let[g,b]=(0,ev.useState)(!1),[v,y]=(0,ev.useState)(""),[w,j]=(0,ev.useState)(""),[N,E]=(0,ev.useState)(""),{items:S,totalDiscount:k,finalTotal:T}=(0,ev.useMemo)(()=>{let e,r,a,n,i,s;return r=(e=new Date).getDay(),a=e.getTime(),n=0,s=(i=t.map(e=>{let t=null;for(let n of p.filter(e=>!!e.isActive&&!(a<e.startDate)&&!(a>e.endDate)&&(!e.days_of_week||!!e.days_of_week.includes(r))&&(!e.required_customer_tag||!!o&&!!o.health_tags.includes(e.required_customer_tag))&&!0)){let r=0;"PERCENTAGE"===n.type&&n.value?r=e.price*(n.value/100):"FIXED_AMOUNT"===n.type&&n.value&&(r=n.value),r>0&&(r=Math.min(r,e.price),(!t||r>t.discountAmount)&&(t={originalPrice:e.price,finalPrice:e.price-r,discountAmount:r,promotionApplied:n}))}return t?(n+=t.discountAmount*e.quantity,{...e,discount:t}):e})).reduce((e,t)=>e+("discount"in t?t.discount.finalPrice:t.price)*t.quantity,0),{items:i,totalDiscount:n,finalTotal:s}},[t,o,p]),[A,_]=(0,ev.useState)(""),[C,O]=(0,ev.useState)(!1),[P,R]=(0,ev.useState)(!1),[I,D]=(0,ev.useState)(!1),[M,L]=(0,ev.useState)(!1),[F,U]=(0,ev.useState)(!1),[z,B]=(0,ev.useState)(!1),[V,H]=(0,ev.useState)(!1),[W,G]=(0,ev.useState)(""),[q,K]=(0,ev.useState)(!1),[Y,X]=(0,ev.useState)(null),[Z,J]=(0,ev.useState)(null),[Q,ee]=(0,ev.useState)("CASH"),[et,er]=(0,ev.useState)(""),[ea,en]=(0,ev.useState)("CART");lq({onScan:t=>{let a=e.find(e=>e.sku===t||e.id===t);a?(r(a,1),o3.toast.success("Producto agregado",{duration:1e3,icon:(0,eb.jsx)(lh,{})}),new Audio("/beep.mp3").play().catch(()=>{})):o3.toast.error("Producto no encontrado")}});let ei=(0,ev.useMemo)(()=>A?e.filter(e=>e.name.toLowerCase().includes(A.toLowerCase())||e.dci.toLowerCase().includes(A.toLowerCase())||e.sku.toLowerCase().includes(A.toLowerCase())).sort((e,t)=>e.expiry_date-t.expiry_date):[],[e,A]),es=(0,ev.useMemo)(()=>lC.analyzeCart(t,o||void 0),[t,o]),eo=t.reduce((e,t)=>e+t.price*t.quantity,0);(0,ev.useEffect)(()=>{("WARNING"===es.status||"BLOCK"===es.status)&&en("AI")},[es.status]);let el=t.some(t=>{let r=e.find(e=>e.id===t.id);return r&&("R"===r.condition||"RR"===r.condition||"RCH"===r.condition)});return(0,eb.jsxs)("div",{className:"flex h-[calc(100vh-80px)] bg-slate-100 overflow-hidden",children:[(0,eb.jsx)("div",{className:"w-[25%] flex flex-col p-6 pr-3 gap-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 flex flex-col h-full overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100",children:[(0,eb.jsxs)("div",{className:"relative w-full",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:24}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-cyan-500 focus:outline-none transition-colors font-bold text-lg",value:A,onChange:e=>_(e.target.value),autoFocus:!0})]}),(0,eb.jsx)("p",{className:"text-xs text-slate-400 mt-2 text-center",children:"Escanee un producto para agregarlo rpido"})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:A?ei.map(e=>(0,eb.jsxs)("div",{onClick:()=>r(e,1),className:"bg-white p-3 rounded-xl shadow-sm border border-slate-100 hover:shadow-md hover:border-cyan-200 cursor-pointer transition-all group",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 text-sm leading-tight mb-1 group-hover:text-cyan-600",children:e.name}),(0,eb.jsx)("p",{className:"text-[10px] text-slate-500 font-mono mb-1",children:e.dci}),(0,eb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eb.jsxs)("span",{className:"font-bold text-slate-900",children:["$",e.price.toLocaleString()]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_fractionable&&(0,eb.jsx)("button",{onClick:t=>{t.stopPropagation(),X(e),H(!0)},className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Venta Fraccionada",children:(0,eb.jsx)(lE,{size:16})}),(0,eb.jsxs)("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${e.stock_actual>0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["Stock: ",e.stock_actual]})]})]})]},e.id)):(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50",children:[(0,eb.jsx)(lx.Search,{size:48,className:"mb-4"}),(0,eb.jsx)("p",{className:"text-sm font-bold",children:"Escriba para buscar"})]})})]})}),(0,eb.jsx)("div",{className:"flex-1 flex flex-col p-6 pl-0 gap-4",children:(0,eb.jsxs)("div",{className:"flex-1 bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsx)("div",{className:"bg-cyan-100 p-3 rounded-2xl text-cyan-700",children:(0,eb.jsx)(oI.ShoppingCart,{size:28})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-2xl font-extrabold text-slate-800",children:"Carrito de Compra"}),(0,eb.jsx)("div",{className:"flex items-center gap-2 mt-1",children:o?(0,eb.jsxs)("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-2 py-1 rounded-lg border border-emerald-100",children:[(0,eb.jsx)(lN.User,{size:14}),(0,eb.jsx)("span",{className:"text-xs font-bold",children:o.fullName}),(0,eb.jsx)("button",{onClick:()=>h(null),className:"p-0.5 hover:bg-emerald-200 rounded-full",children:(0,eb.jsx)(oz.X,{size:12})})]}):(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)("span",{className:"text-xs text-slate-400 font-bold",children:" Cliente: Annimo"}),(0,eb.jsx)("button",{onClick:()=>B(!0),className:"text-[10px] font-bold bg-slate-100 text-slate-600 px-2 py-1 rounded-md hover:bg-slate-200 transition",children:"ASIGNAR"})]})})]}),(0,eb.jsxs)("div",{className:`px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 ${l?.status==="OPEN"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[(0,eb.jsx)("div",{className:`w-2 h-2 rounded-full ${l?.status==="OPEN"?"bg-green-500 animate-pulse":"bg-red-500"}`}),l?.status==="OPEN"?`TURNO #${l.shiftNumber} - ABIERTO`:"CAJA CERRADA"]})]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-5 py-3 rounded-xl hover:bg-blue-700 font-bold transition-colors shadow-lg shadow-blue-200",children:[(0,eb.jsx)(lj.DollarSign,{size:20}),(0,eb.jsx)("span",{className:"hidden lg:inline",children:"Gestin Caja"})]}),(0,eb.jsxs)("button",{onClick:()=>D(!0),className:"flex items-center gap-2 bg-purple-100 text-purple-700 px-5 py-3 rounded-xl hover:bg-purple-200 font-bold transition-colors",children:[(0,eb.jsx)(lg.Plus,{size:20}),(0,eb.jsx)("span",{className:"hidden lg:inline",children:"Item Manual"})]}),(0,eb.jsxs)("button",{onClick:i,className:"flex items-center gap-2 bg-red-50 text-red-600 px-5 py-3 rounded-xl hover:bg-red-100 font-bold transition-colors",children:[(0,eb.jsx)(oz.X,{size:20}),(0,eb.jsx)("span",{className:"hidden lg:inline",children:"Limpiar"})]})]})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===t.length?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-300",children:[(0,eb.jsx)(oI.ShoppingCart,{size:80,className:"mb-6 opacity-20"}),(0,eb.jsx)("h3",{className:"text-2xl font-bold text-slate-400",children:"El carrito est vaco"}),(0,eb.jsx)("p",{className:"text-slate-400",children:"Escanee un producto o use el buscador"})]}):(0,eb.jsx)("div",{className:"space-y-3",children:S.map(t=>{let r,a,i,s,o,l,c=e.find(e=>e.id===t.id);return(0,eb.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white rounded-xl border border-slate-100 shadow-sm group hover:border-purple-200 transition-all",children:[(0,eb.jsxs)("div",{className:"flex-1",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800",children:c?(r=c.name,a=c.dci,i=c.concentration,s=c.format,o=c.unit_count,l=c.laboratory,`${r} - ${a} ${i} - ${s} x${o} (${l})`):t.name}),t.discount&&(0,eb.jsxs)("span",{className:"bg-purple-100 text-purple-700 text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,eb.jsx)(lb,{size:10})," OFERTA"]})]}),(0,eb.jsxs)("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[(0,eb.jsxs)("span",{className:"bg-slate-100 px-2 py-1 rounded text-slate-600 font-mono",children:[t.quantity," un."]}),(0,eb.jsx)("span",{children:"x"}),(0,eb.jsxs)("span",{children:["$",t.price.toLocaleString()]}),t.discount&&(0,eb.jsxs)("span",{className:"text-green-600 font-bold ml-1",children:["(-$",t.discount.discountAmount.toLocaleString(),")"]})]})]}),(0,eb.jsx)("div",{className:"text-right mr-4",children:t.discount?(0,eb.jsxs)("div",{className:"flex flex-col items-end",children:[(0,eb.jsxs)("p",{className:"font-bold text-slate-800 text-lg",children:["$",(t.discount.finalPrice*t.quantity).toLocaleString()]}),(0,eb.jsxs)("p",{className:"text-xs text-slate-400 line-through",children:["$",(t.price*t.quantity).toLocaleString()]})]}):(0,eb.jsxs)("p",{className:"font-bold text-slate-800 text-lg",children:["$",(t.price*t.quantity).toLocaleString()]})}),(0,eb.jsx)("button",{onClick:()=>n(t.sku),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,eb.jsx)(ln.Trash2,{size:20})})]},t.id)})})}),(0,eb.jsxs)("div",{className:"bg-slate-900 text-white p-8 flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"flex gap-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"tems"}),(0,eb.jsx)("p",{className:"text-2xl font-bold",children:t.reduce((e,t)=>e+t.quantity,0)})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Subtotal"}),(0,eb.jsxs)("p",{className:"text-2xl font-bold",children:["$",eo.toLocaleString()]})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-8",children:[(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total a Pagar"}),(0,eb.jsxs)("p",{className:"text-5xl font-extrabold text-emerald-400",children:["$",eo.toLocaleString()]})]}),(0,eb.jsx)("button",{onClick:()=>{0!==t.length&&(el?R(!0):O(!0))},disabled:0===t.length||!l||"CLOSED"===l.status,className:"bg-emerald-500 hover:bg-emerald-400 text-emerald-950 px-12 py-6 rounded-2xl font-extrabold text-2xl shadow-lg shadow-emerald-900/50 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"PAGAR (F9)"})]})]})]})}),(0,eb.jsx)(lI,{isOpen:P,onCancel:()=>R(!1),onConfirm:e=>{R(!1),O(!0)},itemName:Z?.name||""}),(0,eb.jsx)(lM,{isOpen:I,onClose:()=>D(!1),onConfirm:e=>{a(e),D(!1)}}),(0,eb.jsx)(lz,{isOpen:M,onClose:()=>L(!1)}),(0,eb.jsx)(lV,{isOpen:F,onClose:()=>U(!1)}),(0,eb.jsx)(lH,{isOpen:V,onClose:()=>H(!1),product:Y,onConfirm:(e,t)=>{if(Y){let t={...Y,id:`${Y.id}-F`,name:` ${Y.name} (FRACCIONADO: ${e} un)`,price:Y.fractional_price||Math.ceil(Y.price/(Y.units_per_box||1)),quantity:e,is_fractional:!0,original_name:Y.name};a({sku:Y.sku,description:t.name,price:t.price,quantity:e,active_ingredients:Y.active_ingredients,is_fractional:!0,original_name:Y.name}),o3.toast.success("Fraccionamiento agregado",{icon:(0,eb.jsx)(lE,{size:16})})}}}),g&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm p-6 animate-in fade-in zoom-in duration-200",children:[(0,eb.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Ajustar Base Inicial"}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"Nuevo Monto Base"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border-2 border-slate-200 rounded-xl font-bold text-lg",value:w,onChange:e=>j(e.target.value),placeholder:"$0"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"PIN Supervisor (Manager)"}),(0,eb.jsx)("input",{type:"password",maxLength:4,className:"w-full p-3 border-2 border-slate-200 rounded-xl font-bold text-lg tracking-widest text-center",value:v,onChange:e=>{y(e.target.value),E("")},placeholder:""})]}),N&&(0,eb.jsx)("p",{className:"text-red-500 text-sm font-bold text-center",children:N}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[(0,eb.jsx)("button",{onClick:()=>b(!1),className:"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:()=>{u.find(e=>("MANAGER"===e.role||"ADMIN"===e.role)&&e.access_pin===v)?(d(Number(w)),b(!1),y(""),j(""),E(""),alert("Base actualizada correctamente")):E("PIN no autorizado")},className:"py-3 rounded-xl font-bold bg-cyan-600 text-white hover:bg-cyan-700",children:"Confirmar"})]})]})]})}),C&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,eb.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Finalizar Venta"}),(0,eb.jsx)("button",{onClick:()=>O(!1),children:(0,eb.jsx)(oz.X,{className:"text-slate-400"})})]}),(0,eb.jsxs)("div",{className:"p-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,eb.jsxs)("button",{onClick:()=>ee("CASH"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${"CASH"===Q?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-100 text-slate-400"}`,children:[(0,eb.jsx)(ly.Banknote,{size:24}),(0,eb.jsx)("span",{className:"text-xs font-bold",children:"EFECTIVO"})]}),(0,eb.jsxs)("button",{onClick:()=>ee("DEBIT"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${"DEBIT"===Q?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-100 text-slate-400"}`,children:[(0,eb.jsx)(lv.CreditCard,{size:24}),(0,eb.jsx)("span",{className:"text-xs font-bold",children:"TARJETA"})]}),(0,eb.jsxs)("button",{onClick:()=>ee("TRANSFER"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${"TRANSFER"===Q?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-100 text-slate-400"}`,children:[(0,eb.jsx)(lw,{size:24}),(0,eb.jsx)("span",{className:"text-xs font-bold",children:"TRANSF."})]})]}),"TRANSFER"===Q&&(0,eb.jsxs)("div",{className:"mb-6 animate-in fade-in slide-in-from-top-2",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"ID de Transaccin"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-purple-500 focus:outline-none",placeholder:"Ej: 12345678 (Opcional)",value:et,onChange:e=>er(e.target.value)}),(0,eb.jsxs)("p",{className:"text-xs text-slate-400 mt-2 flex items-center",children:[(0,eb.jsx)(li.AlertTriangle,{size:12,className:"mr-1"}),"Puede ingresar el ID despus en el historial si es necesario."]})]}),(0,eb.jsxs)("button",{onClick:()=>{let e;if(0===t.length)return;if(!l||"CLOSED"===l.status)return void o3.toast.error("Debe abrir caja antes de vender.");let r={shouldGenerate:!1,status:"FISCALIZED_BY_VOUCHER"};if(x){let t="CASH"===Q||"TRANSFER"===Q?{shouldGenerate:!0,status:"CONFIRMED_DTE",message:"Generando Boleta Electrnica (SII)"}:{shouldGenerate:!1,status:"FISCALIZED_BY_VOUCHER",message:"Venta fiscalizada mediante Voucher (Transbank/Getnet)"};e=(r={shouldGenerate:t.shouldGenerate,status:t.status}).shouldGenerate?Math.floor(1e5*Math.random()).toString():void 0}let a={id:`V-${Date.now()}`,timestamp:Date.now(),items:[...t],total:t.reduce((e,t)=>e+t.price*t.quantity,0),payment_method:Q,customer:o||void 0,transfer_id:"TRANSFER"===Q?et||"SIN_ID_PENDIENTE":void 0,dte_status:r.status,dte_folio:e,is_internal_ticket:!x};s(Q,o||void 0),lB.printTicket(a,f),O(!1),er(""),ee("CASH"),x&&r.shouldGenerate?o3.toast.success(`\xa1Venta Exitosa! Boleta N\xba ${e} generada.`,{duration:3e3}):x?o3.toast.success("Venta Exitosa! Fiscalizada por Voucher.",{duration:3e3}):o3.toast.success("Venta Exitosa! Comprobante Interno Generado.",{duration:3e3})},className:"w-full py-4 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center justify-center gap-2",children:[(0,eb.jsx)(lj.DollarSign,{size:20})," CONFIRMAR PAGO"]})]})]})}),(0,eb.jsx)(lG,{isOpen:z,onClose:()=>B(!1)})]})},lX={calculateVelocity(e,t){let r=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%10/2+.5;switch(t){case"LAST_7_DAYS":return 1.2*r;case"LAST_30_DAYS":default:return r;case"LAST_TRIMESTER":return .9*r;case"LAST_SEMESTER":return .8*r;case"LAST_YEAR":return .7*r}},calculateCoverage:(e,t)=>t<=0?999:Math.round(e/t),generateSuggestions(e,t,r="LAST_30_DAYS"){let a=[],n={};return e.forEach(e=>{let t=this.calculateVelocity(e.sku,r),a=this.calculateCoverage(e.stock_actual,t),i=Math.ceil(30*t-e.stock_actual),s="OK";a<7?s="CRITICAL":a<15?s="LOW":a>90&&(s="EXCESS");let o=Math.max(0,i);if(o>0||"CRITICAL"===s||"LOW"===s||"EXCESS"===s){let r=e.supplier_id||"SUP-001";n[r]||(n[r]=[]),n[r].push({sku:e.sku,name:e.name,quantity:o,cost_price:.6*e.price,current_stock:e.stock_actual,velocity:t.toFixed(2),coverage:a,status:s})}}),Object.keys(n).forEach(e=>{a.push({id:`PO-SUG-${Date.now()}-${e.substring(0,3)}`,supplier_id:e,created_at:Date.now(),status:"SUGGESTED",items:n[e],total_estimated:0})}),a}},lZ=(0,oM.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var lJ=e.i(16715),lQ=e.i(56909);let l0=({isOpen:e,order:t,onReceive:r,onClose:a})=>{if(!e)return null;let[n,i]=(0,ev.useState)({}),s=t.items.reduce((e,t)=>e+(n[t.sku]||0),0),o=t.items.every(e=>void 0!==n[e.sku]&&n[e.sku]>=0);return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white p-8 rounded-xl w-full max-w-2xl shadow-2xl",children:[(0,eb.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,eb.jsx)(o$,{className:"mr-3"})," Recepcin Ciega de Orden #",t.id]}),(0,eb.jsxs)("p",{className:"text-red-600 font-semibold mb-4 flex items-center",children:[(0,eb.jsx)(le.Lock,{size:18,className:"mr-2"})," La cantidad esperada (Expected Qty) NO es visible. Debe contar manualmente."]}),(0,eb.jsx)("div",{className:"max-h-80 overflow-y-auto space-y-4 pr-2",children:t.items.map(e=>(0,eb.jsxs)("div",{className:"flex items-center justify-between border-b pb-3",children:[(0,eb.jsx)("p",{className:"font-semibold text-slate-700 w-1/2",children:e.name}),(0,eb.jsx)("div",{className:"w-1/3 ml-4",children:(0,eb.jsx)("input",{type:"number",placeholder:"Cantidad Real Recibida",className:"w-full py-2 border-2 border-slate-400 rounded-lg text-center font-semibold text-lg text-slate-900",value:n[e.sku]||"",onChange:t=>{var r,a;return r=e.sku,a=t.target.value,void i(e=>({...e,[r]:parseInt(a)||0}))}})})]},e.sku))}),(0,eb.jsxs)("div",{className:"mt-8 pt-4 border-t border-slate-200",children:[(0,eb.jsxs)("p",{className:"text-xl font-bold text-slate-900 mb-4",children:["Total de Unidades Contadas: ",s]}),(0,eb.jsxs)("button",{className:"w-full py-3 bg-cyan-700 text-white font-bold rounded-xl hover:bg-cyan-800 transition disabled:opacity-50 flex items-center justify-center",onClick:()=>o&&r(t,Object.entries(n).map(([e,t])=>({sku:e,receivedQty:t}))),disabled:!o,children:[(0,eb.jsx)(lQ.Save,{size:20,className:"mr-2"})," Confirmar Recepcin Ciega"]}),(0,eb.jsx)("button",{className:"mt-2 w-full py-2 text-slate-600 hover:text-slate-900 transition",onClick:a,children:"Cancelar"})]})]})})},l1=(0,oM.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),l2=({isOpen:e,onClose:t})=>{let{inventory:r,suppliers:a,addPurchaseOrder:n}=o4(),{pushNotification:i}=lc(),[s,o]=(0,ev.useState)(""),[l,c]=(0,ev.useState)(""),[d,u]=(0,ev.useState)(""),[f,h]=(0,ev.useState)([]),p=(0,ev.useMemo)(()=>a.find(e=>e.id===s),[s,a]),m=(0,ev.useMemo)(()=>d?r.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.sku.includes(d)).slice(0,5):[],[d,r]),x=(e,t,r)=>{h(a=>a.map(a=>a.sku===e?{...a,[t]:r}:a))},g=(0,ev.useMemo)(()=>{let e=f.reduce((e,t)=>e+t.quantity*t.cost_price,0),t=.19*e;return{net:e,tax:t,total:e+t}},[f]),b=e=>{if(!s)return void o3.toast.error("Seleccione un proveedor");if(0===f.length)return void o3.toast.error("Agregue productos a la orden");let r={id:`ORD-${Date.now()}`,supplier_id:s,created_at:Date.now(),status:e,items:f.map(e=>({sku:e.sku,name:e.name,quantity:e.quantity,cost_price:e.cost_price})),total_estimated:g.total};n(r),"SENT"===e?(i({title:"Orden de Compra Enviada",message:`Orden ${r.id} enviada a ${p?.fantasy_name}`,type:"INFO",roleTarget:"MANAGER"}),o3.toast.success("Orden enviada exitosamente")):o3.toast.success("Borrador guardado"),t(),h([]),o(""),c("")};return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-gray-50 rounded-t-2xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(lg.Plus,{className:"text-cyan-600"}),"Nueva Orden Manual"]}),(0,eb.jsx)("p",{className:"text-sm text-gray-500",children:"Creacin de pedido discrecional"})]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:24,className:"text-gray-500"})})]}),(0,eb.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,eb.jsxs)("div",{className:"w-1/3 border-r border-gray-100 p-6 flex flex-col gap-6 bg-white overflow-y-auto",children:[(0,eb.jsxs)("div",{className:"space-y-2",children:[(0,eb.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Proveedor"}),(0,eb.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none bg-gray-50",children:[(0,eb.jsx)("option",{value:"",children:"Seleccione un proveedor..."}),a.map(e=>(0,eb.jsx)("option",{value:e.id,children:e.fantasy_name},e.id))]}),p&&(0,eb.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 text-sm",children:[(0,eb.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,eb.jsx)("span",{className:"text-blue-600 font-bold",children:"Condicin:"}),(0,eb.jsxs)("span",{className:"text-blue-800",children:[p.payment_terms," das"]})]}),(0,eb.jsxs)("div",{className:"flex justify-between",children:[(0,eb.jsx)("span",{className:"text-blue-600 font-bold",children:"Crdito:"}),(0,eb.jsx)("span",{className:"text-blue-800",children:"$5.000.000 (Disp)"})]})]})]}),(0,eb.jsxs)("div",{className:"space-y-2",children:[(0,eb.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Fecha Esperada"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,eb.jsx)("input",{type:"date",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none"})]})]}),(0,eb.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,eb.jsx)("label",{className:"text-sm font-bold text-gray-700",children:"Agregar Productos"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar por SKU o Nombre...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none"})]}),d&&(0,eb.jsxs)("div",{className:"mt-2 border border-gray-200 rounded-xl overflow-hidden shadow-lg",children:[m.map(e=>(0,eb.jsxs)("button",{onClick:()=>{f.find(t=>t.sku===e.sku)?o3.toast.error("El producto ya est en la orden"):(h([...f,{sku:e.sku,name:e.name,quantity:1,cost_price:e.cost_price||0,stock_actual:e.stock_actual,stock_max:e.stock_max||100}]),u(""))},className:"w-full p-3 text-left hover:bg-cyan-50 border-b border-gray-100 last:border-0 transition flex justify-between items-center group",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"font-bold text-gray-800",children:e.name}),(0,eb.jsxs)("div",{className:"text-xs text-gray-500",children:[e.sku,"  Stock: ",e.stock_actual]})]}),(0,eb.jsx)(lg.Plus,{size:18,className:"text-gray-300 group-hover:text-cyan-600"})]},e.id)),0===m.length&&(0,eb.jsx)("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No se encontraron productos"})]})]})]}),(0,eb.jsxs)("div",{className:"flex-1 flex flex-col bg-gray-50",children:[(0,eb.jsx)("div",{className:"flex-1 overflow-auto p-6",children:0===f.length?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[(0,eb.jsx)(oB,{size:64,className:"mb-4 opacity-50"}),(0,eb.jsx)("p",{className:"text-lg font-medium",children:"El carrito de compra est vaco"}),(0,eb.jsx)("p",{className:"text-sm",children:"Seleccione un proveedor y agregue productos"})]}):(0,eb.jsxs)("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"text-xs font-bold text-gray-500 uppercase",children:[(0,eb.jsx)("th",{className:"px-4",children:"Producto"}),(0,eb.jsx)("th",{className:"px-4 text-center",children:"Cantidad"}),(0,eb.jsx)("th",{className:"px-4 text-right",children:"Costo Unit."}),(0,eb.jsx)("th",{className:"px-4 text-right",children:"Subtotal"}),(0,eb.jsx)("th",{className:"px-4"})]})}),(0,eb.jsx)("tbody",{children:f.map(e=>(0,eb.jsxs)("tr",{className:"bg-white shadow-sm rounded-xl",children:[(0,eb.jsxs)("td",{className:"p-4 rounded-l-xl",children:[(0,eb.jsx)("div",{className:"font-bold text-gray-800",children:e.name}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,eb.jsx)("span",{className:"text-xs font-mono text-gray-400",children:e.sku}),e.stock_actual>e.stock_max&&(0,eb.jsxs)("span",{className:"flex items-center gap-1 text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100",children:[(0,eb.jsx)(li.AlertTriangle,{size:10})," SOBRESTOCK"]})]})]}),(0,eb.jsx)("td",{className:"p-4 text-center",children:(0,eb.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>x(e.sku,"quantity",parseInt(t.target.value)||0),className:"w-20 p-2 text-center border border-gray-200 rounded-lg font-bold focus:border-cyan-500 focus:outline-none"})}),(0,eb.jsx)("td",{className:"p-4 text-right",children:(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:"$"}),(0,eb.jsx)("input",{type:"number",min:"0",value:e.cost_price,onChange:t=>x(e.sku,"cost_price",parseInt(t.target.value)||0),className:"w-24 p-2 pl-6 text-right border border-gray-200 rounded-lg font-mono text-sm focus:border-cyan-500 focus:outline-none"})]})}),(0,eb.jsxs)("td",{className:"p-4 text-right font-bold text-gray-800",children:["$",(e.quantity*e.cost_price).toLocaleString()]}),(0,eb.jsx)("td",{className:"p-4 rounded-r-xl text-center",children:(0,eb.jsx)("button",{onClick:()=>{var t;return t=e.sku,void h(e=>e.filter(e=>e.sku!==t))},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:(0,eb.jsx)(ln.Trash2,{size:18})})})]},e.sku))})]})}),(0,eb.jsxs)("div",{className:"p-6 bg-white border-t border-gray-200",children:[(0,eb.jsxs)("div",{className:"flex justify-end gap-12 mb-6",children:[(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Neto"}),(0,eb.jsxs)("p",{className:"text-xl font-bold text-gray-800",children:["$",g.net.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"IVA (19%)"}),(0,eb.jsxs)("p",{className:"text-xl font-bold text-gray-800",children:["$",g.tax.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Total a Pagar"}),(0,eb.jsxs)("p",{className:"text-3xl font-extrabold text-cyan-600",children:["$",g.total.toLocaleString()]})]})]}),(0,eb.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,eb.jsxs)("button",{onClick:()=>b("DRAFT"),className:"px-6 py-3 text-gray-600 font-bold hover:bg-gray-100 rounded-xl transition flex items-center gap-2",children:[(0,eb.jsx)(lQ.Save,{size:20}),"Guardar Borrador"]}),(0,eb.jsxs)("button",{onClick:()=>b("SENT"),className:"px-8 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center gap-2",children:[(0,eb.jsx)(l1,{size:20}),"Confirmar y Enviar"]})]})]})]})]})]})}):null},l4=()=>{let{inventory:e,suppliers:t,purchaseOrders:r,addPurchaseOrder:a,receivePurchaseOrder:n}=o4(),{pushNotification:i}=lc(),[s,o]=(0,ev.useState)(!1),[l,c]=(0,ev.useState)(!1),[d,u]=(0,ev.useState)(null),[f,h]=(0,ev.useState)("LAST_30_DAYS"),[p,m]=(0,ev.useState)([]),[x,g]=(0,ev.useState)(!1);(0,ev.useEffect)(()=>{b()},[f]);let b=()=>{g(!0),setTimeout(()=>{let r=lX.generateSuggestions(e,t,f).flatMap(e=>e.items.map(r=>({...r,supplier_id:e.supplier_id,supplier_name:t.find(t=>t.id===e.supplier_id)?.fantasy_name||"Desconocido"})));m(r),g(!1);let a=r.filter(e=>"CRITICAL"===e.status).length;a>0&&i({title:"Stock Crtico Detectado",message:`La IA ha detectado ${a} productos en nivel cr\xedtico. Revise el abastecimiento.`,type:"CRITICAL",roleTarget:"MANAGER"})},600)},v=({title:e,status:a,color:n,icon:i})=>{let s=r.filter(e=>e.status===a);return(0,eb.jsxs)("div",{className:"flex-1 min-w-[300px] bg-slate-100 rounded-3xl p-4 flex flex-col h-full",children:[(0,eb.jsxs)("div",{className:`flex items-center gap-2 mb-4 px-2 ${n}`,children:[(0,eb.jsx)(i,{size:20}),(0,eb.jsx)("h3",{className:"font-bold text-slate-700",children:e}),(0,eb.jsx)("span",{className:"ml-auto bg-white/50 px-2 py-1 rounded-full text-xs font-bold",children:s.length})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3",children:s.map(e=>(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-all cursor-pointer",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,eb.jsx)("span",{className:"text-xs font-mono text-slate-400",children:e.id}),(0,eb.jsx)("span",{className:"text-xs font-bold text-slate-600",children:new Date(e.created_at).toLocaleDateString()})]}),(0,eb.jsx)("h4",{className:"font-bold text-slate-800 mb-1",children:t.find(t=>t.id===e.supplier_id)?.fantasy_name||"Proveedor Desconocido"}),(0,eb.jsxs)("p",{className:"text-sm text-slate-500 mb-3",children:[e.items.length," Items"]}),"SENT"===a&&(0,eb.jsx)("button",{onClick:()=>{u(e),o(!0)},className:"w-full py-2 bg-blue-600 text-white rounded-lg text-xs font-bold hover:bg-blue-700 transition",children:"RECEPCIONAR"})]},e.id))})]})};return(0,eb.jsxs)("div",{className:"h-screen p-6 bg-slate-50 flex flex-col overflow-hidden",children:[(0,eb.jsxs)("header",{className:"mb-8 flex justify-between items-center flex-shrink-0",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h1",{className:"text-3xl font-extrabold text-slate-900 flex items-center gap-3",children:[(0,eb.jsx)(o$,{className:"text-cyan-600"})," Cadena de Suministro"]}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Gestin Inteligente de Abastecimiento"})]}),(0,eb.jsx)("div",{className:"flex gap-3",children:(0,eb.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-white text-slate-700 border border-slate-200 rounded-xl font-bold hover:bg-slate-50 transition",children:[(0,eb.jsx)(lg.Plus,{size:20})," Nueva Orden Manual"]})})]}),(0,eb.jsxs)("div",{className:"flex-1 flex gap-6 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"flex-[2] bg-white rounded-3xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:(0,eb.jsx)(lF,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Prediccin de Demanda"}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:"IA basada en historial de ventas"})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 p-1 rounded-xl border border-slate-200",children:[(0,eb.jsx)(lZ,{size:16,className:"text-slate-400 ml-2"}),(0,eb.jsxs)("select",{className:"bg-transparent text-sm font-bold text-slate-700 p-2 outline-none cursor-pointer",value:f,onChange:e=>h(e.target.value),children:[(0,eb.jsx)("option",{value:"LAST_7_DAYS",children:"Tendencia Corta (7 das)"}),(0,eb.jsx)("option",{value:"LAST_30_DAYS",children:"Tendencia Media (30 das)"}),(0,eb.jsx)("option",{value:"LAST_TRIMESTER",children:"Tendencia Larga (Trimestre)"})]})]})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-0",children:x?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[(0,eb.jsx)(lJ.RefreshCw,{className:"animate-spin mb-4",size:48}),(0,eb.jsx)("p",{children:"Analizando patrones de consumo..."})]}):0===p.length?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[(0,eb.jsx)(lo.CheckCircle,{className:"mb-4 text-emerald-200",size:64}),(0,eb.jsx)("p",{children:"Todo en orden. No se requieren compras urgentes."})]}):(0,eb.jsxs)("table",{className:"w-full text-left",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold text-xs uppercase sticky top-0 z-10",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-4",children:"Producto"}),(0,eb.jsx)("th",{className:"p-4",children:"Stock"}),(0,eb.jsx)("th",{className:"p-4",children:"Venta (30d)"}),(0,eb.jsx)("th",{className:"p-4",children:"Cobertura"}),(0,eb.jsx)("th",{className:"p-4",children:"Sugerencia"}),(0,eb.jsx)("th",{className:"p-4 text-center",children:"Accin"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-100 text-sm",children:p.map((e,t)=>(0,eb.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,eb.jsxs)("td",{className:"p-4",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800",children:e.name}),(0,eb.jsx)("div",{className:"text-xs text-slate-400 font-mono",children:e.sku})]}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"font-bold text-slate-800",children:[e.current_stock," un."]})}),(0,eb.jsxs)("td",{className:"p-4 text-slate-500",children:[(30*parseFloat(e.velocity)).toFixed(0)," un/mes"]}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)("span",{className:`w-2 h-2 rounded-full ${"CRITICAL"===e.status?"bg-red-500":"LOW"===e.status?"bg-amber-500":"EXCESS"===e.status?"bg-emerald-500":"bg-slate-300"}`}),(0,eb.jsxs)("span",{className:`font-bold ${"CRITICAL"===e.status?"text-red-600":"LOW"===e.status?"text-amber-600":"EXCESS"===e.status?"text-emerald-600":"text-slate-600"}`,children:[e.coverage>900?"":e.coverage," das"]})]})}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)("input",{type:"number",className:`w-20 p-2 border rounded-lg font-bold text-center focus:outline-none ${e.quantity>0?"border-purple-300 bg-purple-50 text-purple-700":"border-slate-200 text-slate-400"}`,value:e.quantity,onChange:t=>{var r,a;return r=e.sku,a=parseInt(t.target.value),void m(e=>e.map(e=>e.sku===r?{...e,quantity:a}:e))}}),(0,eb.jsx)("span",{className:"text-xs text-slate-400",children:"cajas"})]})}),(0,eb.jsx)("td",{className:"p-4 text-center",children:(0,eb.jsx)("button",{onClick:()=>m(t=>t.filter(t=>t.sku!==e.sku)),className:"text-slate-400 hover:text-red-500 transition",children:(0,eb.jsx)(li.AlertTriangle,{size:16})})})]},`${e.sku}-${t}`))})]})}),p.length>0&&(0,eb.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-between items-center",children:[(0,eb.jsxs)("p",{className:"text-sm text-slate-500",children:["Se generarn ",(0,eb.jsx)("strong",{children:new Set(p.map(e=>e.supplier_id)).size})," rdenes de compra."]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsxs)("button",{onClick:()=>{if(0===p.length)return;let e={};p.forEach(t=>{e[t.supplier_id]||(e[t.supplier_id]=[]),e[t.supplier_id].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];a({id:`PO-${Date.now()}-${t.substring(0,3)}`,supplier_id:t,created_at:Date.now(),status:"DRAFT",items:r.map(e=>({sku:e.sku,name:e.name,quantity:e.quantity,cost_price:e.cost_price})),total_estimated:r.reduce((e,t)=>e+t.cost_price*t.quantity,0)})}),o3.toast.success(`${Object.keys(e).length} \xd3rdenes Generadas`),m([])},disabled:0===p.length,className:"px-4 py-2 bg-cyan-600 text-white rounded-xl font-bold hover:bg-cyan-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg shadow-cyan-200",children:[(0,eb.jsx)(lJ.RefreshCw,{size:18})," Generar rdenes (IA)"]}),(0,eb.jsxs)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 transition flex items-center gap-2",children:[(0,eb.jsx)(lg.Plus,{size:18})," Nueva Orden Manual"]})]})]})]}),(0,eb.jsxs)("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[(0,eb.jsx)(v,{title:"Borrador",status:"DRAFT",color:"text-slate-600",icon:oB}),(0,eb.jsx)(v,{title:"Enviado",status:"SENT",color:"text-blue-600",icon:o$})]})]}),s&&(0,eb.jsx)(l0,{isOpen:s,onClose:()=>o(!1),order:d,onReceive:(e,t)=>{n(e.id,t.map(e=>({sku:e.sku,received_qty:e.receivedQty}))),o(!1)}}),(0,eb.jsx)(l2,{isOpen:l,onClose:()=>c(!1)})]})};var l3=e.i(3281);let l5=()=>{let{generateTicket:e,customers:t,addCustomer:r,printerConfig:a}=o4(),[n,i]=(0,ev.useState)(""),[s,o]=(0,ev.useState)(""),[l,c]=(0,ev.useState)("RUT"),[d,u]=(0,ev.useState)(null),[f,h]=(0,ev.useState)(""),[p,m]=(0,ev.useState)("");(0,ev.useEffect)(()=>{let e=localStorage.getItem("kiosk_branch_id");e?(m(e),c("RUT")):c("SETUP")},[]);let x=e=>{localStorage.setItem("kiosk_branch_id",e),m(e),c("RUT")},g=t=>{let r=e(t,p);u(r),c("TICKET"),lB.printQueueTicket(r,a)};return(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[(0,eb.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[(0,eb.jsx)("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-cyan-500/20 rounded-full blur-3xl"}),(0,eb.jsx)("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-3xl"})]}),(0,eb.jsxs)("div",{className:"z-10 w-full max-w-2xl",children:[(0,eb.jsxs)("header",{className:"text-center mb-12",children:[(0,eb.jsx)("h1",{className:"text-5xl font-extrabold text-white mb-4 tracking-tight",children:"Bienvenido"}),(0,eb.jsx)("p",{className:"text-slate-400 text-xl",children:"Farmacias Vallenar Suit"}),p&&(0,eb.jsxs)("p",{className:"text-cyan-500 text-sm mt-2 font-mono",children:["Terminal: ",p]})]}),(0,eb.jsxs)(tJ,{mode:"wait",children:["SETUP"===l&&(0,eb.jsxs)(oR.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg rounded-[3rem] p-8 border border-white/10 shadow-2xl text-center",children:[(0,eb.jsxs)("div",{className:"mb-8",children:[(0,eb.jsx)("div",{className:"w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400",children:(0,eb.jsx)(oL,{size:40})}),(0,eb.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Configuracin Inicial"}),(0,eb.jsx)("p",{className:"text-slate-400",children:"Selecciona la sucursal para este Totem"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,eb.jsx)("button",{onClick:()=>x("SUC-CENTRO"),className:"p-6 bg-slate-800 hover:bg-cyan-600 rounded-2xl text-white font-bold text-xl transition-colors border border-slate-700 hover:border-cyan-400",children:" Sucursal Centro"}),(0,eb.jsx)("button",{onClick:()=>x("SUC-NORTE"),className:"p-6 bg-slate-800 hover:bg-purple-600 rounded-2xl text-white font-bold text-xl transition-colors border border-slate-700 hover:border-purple-400",children:" Sucursal Norte"})]})]},"setup"),"RUT"===l&&(0,eb.jsxs)(oR.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white/10 backdrop-blur-lg rounded-[3rem] p-8 border border-white/10 shadow-2xl",children:[(0,eb.jsxs)("div",{className:"bg-slate-800/50 rounded-2xl p-6 mb-8 text-center border border-slate-700",children:[(0,eb.jsx)("p",{className:"text-slate-400 mb-2 text-sm uppercase font-bold tracking-widest",children:"Ingrese su RUT"}),(0,eb.jsx)("div",{className:"text-5xl font-mono font-bold text-white tracking-wider h-16 flex items-center justify-center",children:n||(0,eb.jsx)("span",{className:"text-slate-600 animate-pulse",children:"_"})})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[[1,2,3,4,5,6,7,8,9,"K",0].map(e=>(0,eb.jsx)("button",{onClick:()=>{var t;return t=e.toString(),void(n.length<12&&i((e=>{let t=e.replace(/[^0-9kK]/g,"");if(t.length<=1)return t;let r=t.slice(0,-1),a=t.slice(-1).toUpperCase(),n="";for(let e=r.length-1,t=0;e>=0;e--,t++)n=r.charAt(e)+(t>0&&t%3==0?".":"")+n;return`${n}-${a}`})(n.replace(/[^0-9kK]/g,"")+t)))},className:"h-20 rounded-2xl bg-slate-800 text-white text-3xl font-bold hover:bg-cyan-600 transition-all shadow-lg active:scale-95 flex items-center justify-center",children:e},e)),(0,eb.jsx)("button",{onClick:()=>i(e=>e.slice(0,-1)),className:"h-20 rounded-2xl bg-red-500/20 text-red-400 text-xl font-bold hover:bg-red-500 hover:text-white transition-all flex items-center justify-center",children:""})]}),(0,eb.jsxs)("button",{onClick:()=>{if(n.length<8)return;let e=t.find(e=>e.rut===n);e?(h(e.fullName),g(n)):c("NAME")},disabled:n.length<8,className:"w-full py-6 bg-cyan-500 text-white text-2xl font-bold rounded-2xl hover:bg-cyan-400 transition-all shadow-xl shadow-cyan-900/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:["Continuar ",(0,eb.jsx)(lu,{})]})]},"rut"),"NAME"===l&&(0,eb.jsxs)(oR.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white/10 backdrop-blur-lg rounded-[3rem] p-8 border border-white/10 shadow-2xl text-center",children:[(0,eb.jsxs)("div",{className:"mb-8",children:[(0,eb.jsx)("div",{className:"w-20 h-20 bg-cyan-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-cyan-400",children:(0,eb.jsx)(lW,{size:40})}),(0,eb.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Hola! No te conocemos."}),(0,eb.jsx)("p",{className:"text-slate-400",children:"Ingresa tu nombre para registrarte rpidamente."})]}),(0,eb.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Tu Nombre",className:"w-full bg-slate-800/50 border-2 border-slate-700 rounded-2xl p-6 text-center text-2xl text-white focus:border-cyan-500 focus:outline-none mb-8",value:s,onChange:e=>o(e.target.value)}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsx)("button",{onClick:()=>{s&&(r({rut:n,fullName:s,registrationSource:"KIOSK"}),h(s),g(n))},disabled:!s,className:"w-full py-6 bg-cyan-500 text-white text-xl font-bold rounded-2xl hover:bg-cyan-400 transition-all shadow-xl",children:"Registrarme y Sacar Nmero"}),(0,eb.jsx)("button",{onClick:()=>{g("ANON")},className:"w-full py-4 bg-transparent text-slate-400 font-bold hover:text-white transition-colors",children:"Omitir y Sacar Nmero Annimo"})]})]},"name"),"TICKET"===l&&d&&(0,eb.jsxs)(oR.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-[3rem] p-12 text-center shadow-2xl max-w-md mx-auto relative overflow-hidden",children:[(0,eb.jsx)("div",{className:"absolute top-0 left-0 w-full h-4 bg-gradient-to-r from-cyan-400 to-blue-500"}),(0,eb.jsxs)("div",{className:"mb-8",children:[(0,eb.jsx)("p",{className:"text-slate-400 text-sm uppercase font-bold tracking-widest mb-2",children:"Tu Nmero de Atencin"}),(0,eb.jsx)("h2",{className:"text-8xl font-black text-slate-900 tracking-tighter",children:d.number})]}),f&&(0,eb.jsxs)("div",{className:"mb-8 p-4 bg-cyan-50 rounded-2xl border border-cyan-100",children:[(0,eb.jsxs)("p",{className:"text-cyan-800 font-bold",children:["Hola, ",f,"!"]}),(0,eb.jsx)("p",{className:"text-cyan-600 text-sm",children:"Gracias por registrarte."})]}),(0,eb.jsxs)("div",{className:"flex items-center justify-center gap-2 text-slate-400 mb-8",children:[(0,eb.jsx)(l3.Printer,{size:20,className:"animate-pulse text-cyan-500"}),(0,eb.jsx)("span",{className:"font-mono",children:"Imprimiendo Ticket..."})]}),(0,eb.jsx)("button",{onClick:()=>{i(""),o(""),c("RUT"),u(null),h("")},className:"w-full py-4 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition",children:"Finalizar"})]},"ticket")]})]})]})},l6=(0,oM.default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),l8=(0,oM.default)("ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),l7=(0,oM.default)("circle-arrow-left",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]]),l9=(0,oM.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);class ce{static async isAvailable(){return!!window.PublicKeyCredential&&!!await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}static async registerCredential(e,t){if(!await this.isAvailable())throw Error("Biometra no disponible en este dispositivo");let r=new Uint8Array(32);window.crypto.getRandomValues(r);let a={challenge:r,rp:{name:"Farmacias Vallenar",id:window.location.hostname},user:{id:Uint8Array.from(e,e=>e.charCodeAt(0)),name:t,displayName:t},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"none"};try{return await navigator.credentials.create({publicKey:a})}catch(e){throw console.error("WebAuthn Registration Error:",e),e}}static async authenticateCredential(e=[]){if(!await this.isAvailable())throw Error("Biometra no disponible");let t=new Uint8Array(32);window.crypto.getRandomValues(t);let r={challenge:t,rpId:window.location.hostname,userVerification:"required",timeout:6e4};e.length>0&&(r.allowCredentials=e.map(e=>{let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t.length%4,a=r?t+"=".repeat(4-r):t;return{id:Uint8Array.from(atob(a),e=>e.charCodeAt(0)),type:"public-key",transports:["internal"]}}));try{return await navigator.credentials.get({publicKey:r})}catch(e){throw console.error("WebAuthn Authentication Error:",e),e}}}let ct=()=>{let e,{employees:t,registerAttendance:r}=o4(),[a,n]=(0,ev.useState)(!1),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(null),[c,d]=(0,ev.useState)(""),[u,f]=(0,ev.useState)("IDLE"),[h,p]=(0,ev.useState)(""),[m,x]=(0,ev.useState)(!1),[g,b]=(0,ev.useState)(""),v=(0,ev.useMemo)(()=>t.filter(e=>"ACTIVE"===e.status),[t]),y=(0,ev.useRef)(null),w=(0,ev.useRef)(null);(0,ev.useEffect)(()=>{a&&navigator.mediaDevices.getUserMedia({video:{width:320,height:240}}).then(e=>{y.current&&(y.current.srcObject=e)}).catch(e=>console.error("Error accessing camera:",e))},[a]);let j=()=>{if(y.current&&w.current){let e=w.current.getContext("2d");if(e)return e.drawImage(y.current,0,0,320,240),w.current.toDataURL("image/jpeg",.5)}},N=async()=>{if(o&&h)try{o3.toast.info("Coloque su huella o rostro...");let e=o.biometric_credentials||[];if(await ce.authenticateCredential(e)){let e=j();r(o.id,h,g,e),f("SUCCESS"),o3.toast.success(`Marca Biom\xe9trica Exitosa: ${h}`),setTimeout(()=>{f("IDLE"),l(null),d(""),p(""),b(""),x(!1)},3e3)}}catch(e){console.error(e),o3.toast.error("Error de autenticacin biomtrica")}},E=e=>{p(e)};return a?(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-8",children:[(0,eb.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,eb.jsxs)("header",{className:"text-center mb-12",children:[(0,eb.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"Control de Asistencia"}),(0,eb.jsx)("p",{className:"text-slate-400 text-xl capitalize",children:new Date().toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long"})}),(0,eb.jsx)("p",{className:"text-cyan-400 text-3xl font-mono font-bold mt-2",children:new Date().toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),(0,eb.jsx)(tJ,{mode:"wait",children:o?(0,eb.jsx)(oR.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-[3rem] p-12 max-w-3xl mx-auto shadow-2xl relative overflow-hidden",children:"SUCCESS"===u?(0,eb.jsxs)("div",{className:"text-center py-12",children:[(0,eb.jsx)(oR.div,{initial:{scale:0},animate:{scale:1},className:"inline-block mb-6",children:(0,eb.jsx)(lo.CheckCircle,{size:100,className:"text-emerald-500"})}),(0,eb.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Marca Registrada!"}),(0,eb.jsxs)("p",{className:"text-2xl text-slate-500",children:[(e=new Date().getHours())<12?"Buenos das":e<19?"Buenas tardes":"Buenas noches",", ",o.name.split(" ")[0],"."]})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("div",{className:"flex items-center gap-8 mb-10 pb-8 border-b border-slate-100",children:[(0,eb.jsx)("div",{className:"w-24 h-24 rounded-full bg-cyan-600 flex items-center justify-center text-4xl font-bold text-white shadow-lg shadow-cyan-200",children:o.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-1",children:o.name}),(0,eb.jsx)("p",{className:"text-slate-500 font-medium mb-2",children:o.job_title?.replace(/_/g," ")}),(0,eb.jsxs)("button",{onClick:()=>{l(null),p(""),x(!1)},className:"text-slate-400 hover:text-slate-600 font-bold text-sm flex items-center gap-1 transition-colors",children:[(0,eb.jsx)(l7,{size:16})," Cambiar Usuario"]})]}),(0,eb.jsxs)("div",{className:"ml-auto text-right",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Estado Actual"}),(0,eb.jsx)("span",{className:`px-4 py-2 rounded-full font-bold text-sm ${"IN"===o.current_status?"bg-emerald-100 text-emerald-700":"LUNCH"===o.current_status?"bg-orange-100 text-orange-700":"ON_PERMISSION"===o.current_status?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:"IN"===o.current_status?" TRABAJANDO":"LUNCH"===o.current_status?" EN COLACIN":"ON_PERMISSION"===o.current_status?" SALIDA ESPECIAL":" FUERA"})]})]}),h?(0,eb.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o&&h)if(c===o.access_pin){let e=j();r(o.id,h,g,e),f("SUCCESS"),o3.toast.success(`Marca registrada: ${h}`),setTimeout(()=>{f("IDLE"),l(null),d(""),p(""),b(""),x(!1)},3e3)}else f("ERROR"),o3.toast.error("PIN Incorrecto"),d("")},className:"animate-in fade-in zoom-in-95",children:[(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Confirmar Accin"}),(0,eb.jsx)("span",{className:"inline-block px-4 py-1 bg-slate-100 rounded-full text-slate-600 font-mono font-bold",children:h})]}),["MEDICAL_LEAVE","PERMISSION_START","WORK_ACCIDENT"].includes(h)&&(0,eb.jsxs)("div",{className:"mb-6",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-500 mb-2",children:"Observacin (Opcional)"}),(0,eb.jsx)("textarea",{className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none resize-none",rows:2,placeholder:"Ej: Cita dentista, Trmite banco...",value:g,onChange:e=>b(e.target.value)})]}),(0,eb.jsxs)("div",{className:"mb-8",children:[(0,eb.jsx)("label",{className:"block text-center text-sm font-bold text-slate-400 mb-4",children:"INGRESE SU PIN DE 4 DGITOS"}),(0,eb.jsx)("input",{type:"password",maxLength:4,autoFocus:!0,className:"w-full text-center text-6xl tracking-[1em] font-bold py-4 border-b-4 border-slate-200 focus:border-cyan-600 focus:outline-none text-slate-800",value:c,onChange:e=>d(e.target.value)}),(0,eb.jsxs)("button",{type:"button",onClick:N,className:"w-full mt-6 py-4 bg-slate-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-700 transition shadow-lg",children:[(0,eb.jsx)("span",{className:"text-2xl",children:""}),"Ingresar con Huella / Rostro"]})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsx)("button",{type:"button",onClick:()=>{p(""),d("")},className:"py-4 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200 transition",children:"Cancelar"}),(0,eb.jsx)("button",{type:"submit",className:"py-4 rounded-xl font-bold text-white bg-cyan-600 hover:bg-cyan-700 shadow-lg shadow-cyan-200 transition transform active:scale-95",children:"CONFIRMAR"})]})]}):(0,eb.jsxs)("div",{className:"space-y-6",children:["OUT"===o.current_status&&(0,eb.jsxs)("button",{onClick:()=>E("CHECK_IN"),className:"w-full p-8 bg-emerald-50 rounded-3xl border-2 border-emerald-100 hover:border-emerald-500 flex flex-col items-center gap-4 transition group",children:[(0,eb.jsx)(oW.Clock,{size:64,className:"text-emerald-600 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-2xl text-emerald-800",children:"MARCAR INICIO JORNADA"})]}),"IN"===o.current_status&&(m?(0,eb.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[(0,eb.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-700",children:"Seleccione Tipo de Salida"}),(0,eb.jsx)("button",{onClick:()=>x(!1),className:"text-sm text-slate-400 hover:text-slate-600",children:"Cancelar"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,eb.jsxs)("button",{onClick:()=>E("MEDICAL_LEAVE"),className:"p-6 bg-blue-50 rounded-2xl border-2 border-blue-100 hover:border-blue-500 flex flex-col items-center gap-3 transition text-center",children:[(0,eb.jsx)(lP,{size:32,className:"text-blue-600"}),(0,eb.jsxs)("span",{className:"font-bold text-blue-800 leading-tight",children:["Cita",(0,eb.jsx)("br",{}),"Mdica"]})]}),(0,eb.jsxs)("button",{onClick:()=>E("PERMISSION_START"),className:"p-6 bg-purple-50 rounded-2xl border-2 border-purple-100 hover:border-purple-500 flex flex-col items-center gap-3 transition text-center",children:[(0,eb.jsx)(lO.FileText,{size:32,className:"text-purple-600"}),(0,eb.jsxs)("span",{className:"font-bold text-purple-800 leading-tight",children:["Permiso",(0,eb.jsx)("br",{}),"Personal"]})]}),(0,eb.jsxs)("button",{onClick:()=>E("WORK_ACCIDENT"),className:"p-6 bg-red-50 rounded-2xl border-2 border-red-100 hover:border-red-600 flex flex-col items-center gap-3 transition text-center",children:[(0,eb.jsx)(l8,{size:32,className:"text-red-600"}),(0,eb.jsxs)("span",{className:"font-bold text-red-800 leading-tight",children:["Accidente",(0,eb.jsx)("br",{}),"Laboral"]})]})]})]}):(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("button",{onClick:()=>E("BREAK_START"),className:"p-8 bg-orange-50 rounded-3xl border-2 border-orange-100 hover:border-orange-500 flex flex-col items-center gap-4 transition group",children:[(0,eb.jsx)(l6,{size:48,className:"text-orange-500 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-xl text-orange-800",children:"Inicio Colacin"})]}),(0,eb.jsxs)("button",{onClick:()=>E("CHECK_OUT"),className:"p-8 bg-red-50 rounded-3xl border-2 border-red-100 hover:border-red-500 flex flex-col items-center gap-4 transition group",children:[(0,eb.jsx)(oF,{size:48,className:"text-red-500 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-xl text-red-800",children:"Fin de Jornada"})]}),(0,eb.jsxs)("button",{onClick:()=>x(!0),className:"col-span-2 p-6 bg-amber-50 rounded-3xl border-2 border-amber-100 hover:border-amber-500 flex items-center justify-center gap-3 transition group",children:[(0,eb.jsx)(li.AlertTriangle,{size:24,className:"text-amber-600"}),(0,eb.jsx)("span",{className:"font-bold text-lg text-amber-800",children:"Registrar Salida Especial / Permiso"})]})]})),"LUNCH"===o.current_status&&(0,eb.jsxs)("button",{onClick:()=>E("BREAK_END"),className:"w-full p-8 bg-emerald-50 rounded-3xl border-2 border-emerald-100 hover:border-emerald-500 flex flex-col items-center gap-4 transition group",children:[(0,eb.jsx)(l6,{size:64,className:"text-emerald-600 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-2xl text-emerald-800",children:"REGRESO DE COLACIN"})]}),"ON_PERMISSION"===o.current_status&&(0,eb.jsxs)("button",{onClick:()=>E("PERMISSION_END"),className:"w-full p-8 bg-blue-50 rounded-3xl border-2 border-blue-100 hover:border-blue-500 flex flex-col items-center gap-4 transition group",children:[(0,eb.jsx)(l7,{size:64,className:"text-blue-600 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-2xl text-blue-800",children:"RETORNO DE SALIDA ESPECIAL"})]})]})]})}):(0,eb.jsx)(oR.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:v.map(e=>(0,eb.jsxs)(oR.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(e),className:`rounded-3xl p-6 flex flex-col items-center gap-4 transition border group relative overflow-hidden ${"IN"===e.current_status?"bg-slate-800 border-slate-700 hover:border-emerald-500":"LUNCH"===e.current_status?"bg-slate-800/50 border-orange-900/30 hover:border-orange-500":"bg-slate-800/50 border-slate-800 hover:border-cyan-500"}`,children:[(0,eb.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold text-white transition-colors ${"IN"===e.current_status?"bg-emerald-600":"LUNCH"===e.current_status?"bg-orange-600":"ON_PERMISSION"===e.current_status?"bg-amber-600":"bg-slate-600 group-hover:bg-cyan-600"}`,children:e.name.charAt(0)}),(0,eb.jsxs)("div",{className:"text-center z-10",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-white leading-tight mb-1",children:e.name.split(" ")[0]}),(0,eb.jsx)("p",{className:"text-slate-400 text-xs",children:e.job_title?.replace(/_/g," ")})]}),"IN"===e.current_status&&(0,eb.jsx)("div",{className:"absolute top-4 right-4 w-3 h-3 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),"LUNCH"===e.current_status&&(0,eb.jsx)("div",{className:"absolute top-4 right-4",children:(0,eb.jsx)(l6,{size:16,className:"text-orange-500"})})]},e.id))})})]}),(0,eb.jsxs)("div",{className:"fixed bottom-4 right-4 w-32 h-24 bg-black rounded-lg overflow-hidden border-2 border-slate-700 opacity-50 hover:opacity-100 transition-opacity pointer-events-none",children:[(0,eb.jsx)("video",{ref:y,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,eb.jsx)("canvas",{ref:w,width:"320",height:"240",className:"hidden"})]})]}):(0,eb.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-8",children:(0,eb.jsxs)("div",{className:"w-full max-w-md text-center",children:[(0,eb.jsx)("div",{className:"mb-8 flex justify-center",children:(0,eb.jsx)("div",{className:"w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center border-4 border-slate-800",children:(0,eb.jsx)(le.Lock,{size:40,className:"text-slate-600"})})}),(0,eb.jsx)("h1",{className:"text-3xl font-bold text-slate-200 mb-2",children:"Terminal Desactivado"}),(0,eb.jsx)("p",{className:"text-slate-500 mb-8",children:"Ingrese PIN de Supervisor para activar"}),(0,eb.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=t.find(e=>e.access_pin===i&&("MANAGER"===e.role||"ADMIN"===e.role));r?(n(!0),o3.toast.success(`Terminal Activado por ${r.name}`)):o3.toast.error("PIN no autorizado"),s("")},children:[(0,eb.jsx)("input",{type:"password",maxLength:4,autoFocus:!0,className:"w-full text-center text-5xl tracking-[1em] font-bold py-6 bg-slate-900 border-2 border-slate-800 rounded-2xl focus:border-cyan-600 focus:outline-none text-white mb-8 transition-colors",value:i,onChange:e=>s(e.target.value),placeholder:""}),(0,eb.jsxs)("button",{type:"submit",className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[(0,eb.jsx)(l9,{size:20}),"ACTIVAR TERMINAL"]})]})]})})};var cr=e.i(98919),ca=e.i(88511);let cn=(0,oM.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ci={MANAGER:"Gerente General",ADMIN:"Administrador",CASHIER:"Cajero",WAREHOUSE:"Bodeguero",QF:"Qumico Farmacutico"},cs={MANAGER:["MANAGE_USERS","VIEW_HR","MANAGE_INVENTORY","VIEW_INVENTORY","ADJUST_STOCK","PROCESS_SALE","VOID_SALE","MANAGE_SHIFTS","VIEW_REPORTS","MANAGE_SUPPLIERS"],ADMIN:["MANAGE_INVENTORY","VIEW_INVENTORY","ADJUST_STOCK","PROCESS_SALE","VOID_SALE","MANAGE_SHIFTS","VIEW_REPORTS","MANAGE_SUPPLIERS"],QF:["MANAGE_INVENTORY","VIEW_INVENTORY","ADJUST_STOCK","PROCESS_SALE","VOID_SALE","MANAGE_SHIFTS","VIEW_REPORTS","MANAGE_SUPPLIERS"],CASHIER:["PROCESS_SALE","VIEW_INVENTORY"],WAREHOUSE:["VIEW_INVENTORY","ADJUST_STOCK","MANAGE_SUPPLIERS"]};var co=e.i(40160);let cl=(0,oM.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);class cc{static styleId="printer-dynamic-styles";static injectStyles(e){let t=document.getElementById(this.styleId);t&&t.remove();let r=document.createElement("style");r.id=this.styleId,r.innerHTML=this.generateCss(e),document.head.appendChild(r)}static generateCss(e){let t="58mm"===e.pos_printer_width?"58mm":"80mm";return`
            @media print {
                @page {
                    margin: 0;
                    size: auto;
                }
                
                body {
                    margin: 0;
                    padding: 0;
                    background: white;
                }

                /* Hide everything by default */
                body * {
                    visibility: hidden;
                }

                /* Show only the print area */
                #print-area, #print-area * {
                    visibility: visible;
                }

                #print-area {
                    position: absolute;
                    left: 0;
                    top: 0;
                    width: ${t};
                    padding: 2mm;
                    font-family: 'Courier New', Courier, monospace;
                    font-size: 12px;
                    color: black;
                    background: white;
                }

                /* Utility Classes for Thermal Printing */
                .print-center { text-align: center; }
                .print-bold { font-weight: bold; }
                .print-large { font-size: 16px; }
                .print-small { font-size: 10px; }
                .print-divider { border-top: 1px dashed black; margin: 5px 0; }
                .print-row { display: flex; justify-content: space-between; }
            }
        `}static printTicket(e,t){this.injectStyles(t);let r=document.getElementById("print-area");r||((r=document.createElement("div")).id="print-area",document.body.appendChild(r)),r.innerHTML=e,window.print()}static printTestTicket(e){let t=`
            <div class="print-center">
                <h2 class="print-large print-bold">FARMACIA VALLENAR</h2>
                <p class="print-small">RUT: 76.123.456-7</p>
                <p class="print-small">Av. Matta 123, Vallenar</p>
                <div class="print-divider"></div>
                <h3 class="print-bold">TICKET DE PRUEBA</h3>
                <p>${new Date().toLocaleString()}</p>
                <div class="print-divider"></div>
            </div>
            <div class="print-row">
                <span>Ancho Configurado:</span>
                <span class="print-bold">${e.pos_printer_width}</span>
            </div>
            <div class="print-row">
                <span>Modo:</span>
                <span>${e.auto_print_pos?"AUTO":"MANUAL"}</span>
            </div>
            <div class="print-divider"></div>
            <div class="print-center">
                <p class="print-small">Si puedes leer esto, la impresora est\xe1 configurada correctamente.</p>
                <br/>
                <p class="print-bold">*** FIN DE PRUEBA ***</p>
                <br/>
                .
            </div>
        `;this.printTicket(t,e)}static printLabel(e,t){let r=`
            @media print {
                @page {
                    size: ${"50x25"===t.label_printer_size?"50mm 25mm":"100mm 50mm"};
                    margin: 0;
                }
                body * { visibility: hidden; }
                #print-area, #print-area * { visibility: visible; }
                #print-area {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    flex-col;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                }
            }
        `,a=document.createElement("style");a.innerHTML=r,document.head.appendChild(a);let n=document.getElementById("print-area");n||((n=document.createElement("div")).id="print-area",document.body.appendChild(n)),n.innerHTML=`
            <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%;">
                <div style="font-size: 10px; font-weight: bold; overflow: hidden; white-space: nowrap; max-width: 95%;">${e.name.substring(0,25)}</div>
                <div style="font-size: 14px; font-weight: bold;">$${e.price.toLocaleString()}</div>
                <div style="font-family: monospace; font-size: 8px;">${e.sku}</div>
                <!-- Barcode Placeholder (In real app, use JsBarcode to generate SVG/IMG) -->
                <div style="border: 1px solid black; height: 20px; width: 80%; margin-top: 2px; background: repeating-linear-gradient(90deg, black, black 1px, white 1px, white 3px);"></div>
            </div>
        `,window.print()}static printAttendanceReport(e,t){let r=`
            @media print {
                @page {
                    size: letter;
                    margin: 20mm;
                }
                body {
                    font-family: Arial, sans-serif;
                    font-size: 12px;
                    color: #333;
                }
                h1 {
                    text-align: center;
                    font-size: 18px;
                    margin-bottom: 5px;
                    text-transform: uppercase;
                }
                .subtitle {
                    text-align: center;
                    font-size: 12px;
                    color: #666;
                    margin-bottom: 20px;
                }
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-bottom: 20px;
                }
                th, td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }
                th {
                    background-color: #f5f5f5;
                    font-weight: bold;
                }
                .footer {
                    margin-top: 50px;
                    display: flex;
                    justify-content: space-between;
                }
                .signature-box {
                    width: 200px;
                    border-top: 1px solid #000;
                    text-align: center;
                    padding-top: 10px;
                }
            }
        `,a=document.createElement("style");a.innerHTML=r,document.head.appendChild(a);let n=document.getElementById("print-area");n||((n=document.createElement("div")).id="print-area",document.body.appendChild(n));let i=e.map(e=>`
            <tr>
                <td>${e.date}</td>
                <td>${e.time}</td>
                <td>${e.employeeName}</td>
                <td>${e.type}</td>
                <td>${e.observation}</td>
            </tr>
        `).join("");n.innerHTML=`
            <h1>Libro de Asistencia</h1>
            <div class="subtitle">Periodo: ${t} | Generado: ${new Date().toLocaleString()}</div>
            
            <table>
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Empleado</th>
                        <th>Evento</th>
                        <th>Observaci\xf3n</th>
                    </tr>
                </thead>
                <tbody>
                    ${i}
                </tbody>
            </table>

            <div class="footer">
                <div class="signature-box">Firma Empleador</div>
                <div class="signature-box">Firma Representante Trabajadores</div>
            </div>
        `,window.print()}}let cd=({viewMode:e="LIVE"})=>{let{employees:t,attendanceLogs:r}=o4(),[a,n]=(0,ev.useState)(e),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)("TODAY");ev.default.useEffect(()=>{n(e)},[e]);let c=(0,ev.useMemo)(()=>t.filter(e=>"ACTIVE"===e.status),[t]),d=(()=>{let e=new Date,t=0;if("TODAY"===o)t=new Date(e.setHours(0,0,0,0)).getTime();else if("WEEK"===o){let r=e.getDate()-e.getDay()+1;t=new Date(e.setDate(r)).setHours(0,0,0,0)}else"MONTH"===o&&(t=new Date(e.getFullYear(),e.getMonth(),1).getTime());return r.filter(e=>e.timestamp>=t).sort((e,t)=>t.timestamp-e.timestamp)})();return(0,eb.jsxs)("div",{className:"h-full flex flex-col bg-slate-50 overflow-hidden",children:["HISTORY"===a&&(0,eb.jsx)("div",{className:"flex justify-end p-6 pb-0 bg-white",children:(0,eb.jsxs)("button",{onClick:()=>{let e=d.map(e=>{let r=t.find(t=>t.id===e.employee_id);return{date:new Date(e.timestamp).toLocaleDateString(),time:new Date(e.timestamp).toLocaleTimeString(),employeeName:r?.name||"Desconocido",type:e.type,observation:e.observation||"-"}});cc.printAttendanceReport(e,o),o3.toast.success("Generando reporte PDF...")},className:"mb-4 px-4 py-2 bg-slate-800 text-white rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-slate-900 transition",children:[(0,eb.jsx)(co.Download,{size:16}),"Exportar PDF"]})}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:"LIVE"===a?(0,eb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(e=>{let t,a=(t=e.id,r.filter(e=>e.employee_id===t).sort((e,t)=>t.timestamp-e.timestamp)[0]);return(0,eb.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 flex flex-col gap-4",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold text-white ${"IN"===e.current_status?"bg-emerald-500":"LUNCH"===e.current_status?"bg-orange-500":"ON_PERMISSION"===e.current_status?"bg-amber-500":"bg-slate-400"}`,children:e.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:e.job_title?.replace(/_/g," ")})]})]}),(0,eb.jsxs)("div",{className:`p-3 rounded-xl border flex items-center justify-between ${(e=>{switch(e){case"IN":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"LUNCH":return"bg-orange-100 text-orange-700 border-orange-200";case"ON_PERMISSION":return"bg-amber-100 text-amber-700 border-amber-200";case"OUT":return"bg-slate-100 text-slate-500 border-slate-200";default:return"bg-slate-100 text-slate-500"}})(e.current_status)}`,children:[(0,eb.jsx)("span",{className:"font-bold text-sm",children:"IN"===e.current_status?" TRABAJANDO":"LUNCH"===e.current_status?" EN COLACIN":"ON_PERMISSION"===e.current_status?" PERMISO":" FUERA"}),a&&(0,eb.jsx)("span",{className:"text-xs font-mono",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"LUNCH"===e.current_status&&a&&(0,eb.jsxs)("div",{className:"text-xs text-center text-orange-600 font-bold bg-orange-50 p-2 rounded-lg",children:["Tiempo transcurrido: ",Math.floor((Date.now()-a.timestamp)/1e3/60)," min"]})]},e.id)})}):(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,eb.jsx)("div",{className:"p-4 border-b border-slate-100 flex items-center gap-4",children:(0,eb.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[(0,eb.jsx)("button",{onClick:()=>l("TODAY"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition ${"TODAY"===o?"bg-white shadow-sm text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"Hoy"}),(0,eb.jsx)("button",{onClick:()=>l("WEEK"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition ${"WEEK"===o?"bg-white shadow-sm text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"Esta Semana"}),(0,eb.jsx)("button",{onClick:()=>l("MONTH"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition ${"MONTH"===o?"bg-white shadow-sm text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"Este Mes"})]})}),(0,eb.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold border-b border-slate-200",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-4",children:"Fecha / Hora"}),(0,eb.jsx)("th",{className:"p-4",children:"Empleado"}),(0,eb.jsx)("th",{className:"p-4",children:"Evento"}),(0,eb.jsx)("th",{className:"p-4",children:"Evidencia"}),(0,eb.jsx)("th",{className:"p-4",children:"Observacin"}),(0,eb.jsx)("th",{className:"p-4 text-right",children:"Acciones"})]})}),(0,eb.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[d.map(e=>{let r=t.find(t=>t.id===e.employee_id);return(0,eb.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,eb.jsxs)("td",{className:"p-4",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-700",children:new Date(e.timestamp).toLocaleDateString()}),(0,eb.jsx)("div",{className:"text-xs text-slate-400",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,eb.jsxs)("td",{className:"p-4",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-700",children:r?.name||"Desconocido"}),(0,eb.jsx)("div",{className:"text-xs text-slate-400",children:r?.rut})]}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"CHECK_IN"===e.type?"bg-emerald-100 text-emerald-700":"CHECK_OUT"===e.type?"bg-red-100 text-red-700":e.type.includes("BREAK")?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:e.type})}),(0,eb.jsx)("td",{className:"p-4",children:e.evidence_photo_url?(0,eb.jsxs)("div",{className:"group relative flex items-center justify-center w-8 h-8 bg-slate-100 rounded-full cursor-help",children:[(0,eb.jsx)(cl,{size:16,className:"text-slate-500"}),(0,eb.jsxs)("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-48 bg-white p-2 rounded-lg shadow-xl border border-slate-200 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:[(0,eb.jsx)("img",{src:e.evidence_photo_url,alt:"Evidencia",className:"w-full h-auto rounded"}),(0,eb.jsx)("div",{className:"text-[10px] text-center mt-1 text-slate-400",children:"Foto Capturada"})]})]}):(0,eb.jsx)("span",{className:"text-xs text-slate-300",children:"-"})}),(0,eb.jsx)("td",{className:"p-4 text-slate-500 italic",children:e.observation||"-"}),(0,eb.jsx)("td",{className:"p-4 text-right",children:(0,eb.jsx)("button",{className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 transition",children:(0,eb.jsx)(ca.Edit,{size:16})})})]},e.id)}),0===d.length&&(0,eb.jsx)("tr",{children:(0,eb.jsx)("td",{colSpan:5,className:"p-12 text-center text-slate-400",children:"No hay registros para este periodo."})})]})]})]})})]})};var cu=e.i(63727);let cf=(0,oM.default)("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]),ch=[{id:"POS",label:"Punto de Venta (Caja)",category:"OPERATIVO"},{id:"INVENTORY",label:"Inventario & Productos",category:"OPERATIVO"},{id:"WMS",label:"Bodega & Logstica",category:"LOGISTICA"},{id:"SUPPLY",label:"Abastecimiento (Compras)",category:"LOGISTICA"},{id:"FINANCE",label:"Finanzas & Caja",category:"ADMIN"},{id:"HR",label:"Recursos Humanos",category:"ADMIN"},{id:"REPORTS",label:"Reportes & BI",category:"GERENCIA"},{id:"SETTINGS",label:"Configuracin Global",category:"GERENCIA"},{id:"SECURITY",label:"Seguridad & Usuarios",category:"GERENCIA"}],cp={MANAGER:ch.map(e=>e.id),ADMIN:["POS","INVENTORY","WMS","SUPPLY","REPORTS"],QF:["POS","INVENTORY","WMS","REPORTS"],CASHIER:["POS"],WAREHOUSE:["INVENTORY","WMS"],DRIVER:["WMS"]},cm=({isOpen:e,onClose:t,employee:r,onSave:a})=>{let[n,i]=(0,ev.useState)(null);return((0,ev.useEffect)(()=>{r&&i({...r})},[r]),e&&n)?(0,eb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,eb.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[n.id.startsWith("EMP-")&&!n.rut?(0,eb.jsx)(lW,{className:"text-blue-600"}):(0,eb.jsx)(cu.Briefcase,{className:"text-blue-600"}),n.id.startsWith("EMP-")&&!n.rut?"Nuevo Empleado":"Editar Empleado"]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:24,className:"text-slate-500"})})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-8",children:(0,eb.jsxs)("form",{id:"employee-form",onSubmit:e=>{e.preventDefault(),a(n),t()},className:"space-y-8",children:[(0,eb.jsxs)("div",{className:"bg-red-50 border-2 border-red-100 rounded-2xl p-6 relative overflow-hidden",children:[(0,eb.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,eb.jsx)(le.Lock,{size:120,className:"text-red-500"})}),(0,eb.jsxs)("h3",{className:"text-lg font-bold text-red-700 mb-4 flex items-center gap-2 relative z-10",children:[(0,eb.jsx)(cr.Shield,{className:"fill-red-100"})," Llaves de Acceso (Kiosco)"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-red-800 mb-2",children:"PIN de Acceso (4 dgitos)"}),(0,eb.jsx)("input",{type:"password",maxLength:4,value:n.access_pin,onChange:e=>i({...n,access_pin:e.target.value}),className:"w-full p-4 bg-white border-2 border-red-200 rounded-xl focus:ring-4 focus:ring-red-200 focus:border-red-500 outline-none font-mono text-center text-2xl tracking-[0.5em] text-red-900 placeholder-red-200",placeholder:""}),(0,eb.jsx)("p",{className:"text-xs text-red-600 mt-2 font-medium",children:"* Este PIN es el que el empleado usar en el Totem de entrada."})]}),(0,eb.jsxs)("div",{className:"bg-white/50 rounded-xl p-4 border border-red-100",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-red-800 mb-2",children:"Biometra"}),(0,eb.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)(cf,{className:"text-red-400"}),(0,eb.jsx)("span",{className:"text-sm font-medium text-slate-600",children:n.biometric_credentials?.length?" Huella Vinculada":" No configurada"})]})}),(0,eb.jsxs)("button",{type:"button",onClick:async()=>{try{o3.toast.info("Iniciando registro biomtrico...");let e=await ce.registerCredential(n.id,n.name);if(e){let t=n.biometric_credentials||[];i({...n,biometric_credentials:[...t,e.id]}),o3.toast.success("Biometra registrada exitosamente")}}catch(e){o3.toast.error("Error al registrar biometra")}},className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-200",children:[(0,eb.jsx)("span",{className:"text-xl",children:""}),"Enrolar Huella Digital"]})]})]})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[(0,eb.jsx)(lO.FileText,{size:16}),"Informacin Personal"]}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Nombre Completo"}),(0,eb.jsx)("input",{type:"text",value:n.name,onChange:e=>i({...n,name:e.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"RUT"}),(0,eb.jsx)("input",{type:"text",value:n.rut,onChange:e=>i({...n,rut:e.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Telfono"}),(0,eb.jsx)("input",{type:"text",value:n.contact_phone||"",onChange:e=>i({...n,contact_phone:e.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Estado"}),(0,eb.jsxs)("select",{value:n.status,onChange:e=>i({...n,status:e.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,eb.jsx)("option",{value:"ACTIVE",children:"Activo"}),(0,eb.jsx)("option",{value:"ON_LEAVE",children:"Licencia/Vacaciones"}),(0,eb.jsx)("option",{value:"TERMINATED",children:"Desvinculado"})]})]})]})]}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[(0,eb.jsx)(cu.Briefcase,{size:16}),"Contrato y Rol"]}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Cargo"}),(0,eb.jsxs)("select",{value:n.job_title,onChange:e=>i({...n,job_title:e.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,eb.jsx)("option",{value:"QUIMICO_FARMACEUTICO",children:"Qumico Farmacutico"}),(0,eb.jsx)("option",{value:"AUXILIAR_FARMACIA",children:"Auxiliar de Farmacia"}),(0,eb.jsx)("option",{value:"CAJERO_VENDEDOR",children:"Cajero Vendedor"}),(0,eb.jsx)("option",{value:"BODEGUERO",children:"Bodeguero"}),(0,eb.jsx)("option",{value:"ADMINISTRATIVO",children:"Administrativo"}),(0,eb.jsx)("option",{value:"GERENTE_GENERAL",children:"Gerente General"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol Sistema"}),(0,eb.jsx)("select",{value:n.role,onChange:e=>{let t=e.target.value,r=cp[t]||[];i({...n,role:t,allowed_modules:[...r]})},className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:Object.entries(ci).map(([e,t])=>(0,eb.jsx)("option",{value:e,children:t},e))})]})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"AFP"}),(0,eb.jsxs)("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:n.pension_fund||"",onChange:e=>i({...n,pension_fund:e.target.value}),children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),(0,eb.jsx)("option",{value:"HABITAT",children:"Habitat"}),(0,eb.jsx)("option",{value:"MODELO",children:"Modelo"}),(0,eb.jsx)("option",{value:"PLANVITAL",children:"Planvital"}),(0,eb.jsx)("option",{value:"PROVIDA",children:"Provida"}),(0,eb.jsx)("option",{value:"CAPITAL",children:"Capital"}),(0,eb.jsx)("option",{value:"CUPRUM",children:"Cuprum"}),(0,eb.jsx)("option",{value:"UNO",children:"Uno"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Salud"}),(0,eb.jsxs)("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:n.health_system||"",onChange:e=>i({...n,health_system:e.target.value}),children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),(0,eb.jsx)("option",{value:"FONASA",children:"Fonasa"}),(0,eb.jsx)("option",{value:"ISAPRE_CONSALUD",children:"Consalud"}),(0,eb.jsx)("option",{value:"ISAPRE_CRUZBLANCA",children:"Cruz Blanca"}),(0,eb.jsx)("option",{value:"ISAPRE_COLMENA",children:"Colmena"}),(0,eb.jsx)("option",{value:"ISAPRE_BANMEDICA",children:"Banmdica"}),(0,eb.jsx)("option",{value:"ISAPRE_VIDATRES",children:"Vida Tres"}),(0,eb.jsx)("option",{value:"ISAPRE_NUEVAMASVIDA",children:"Nueva Masvida"})]})]})]})]})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Permisos Adicionales (Mdulos)"}),(0,eb.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["OPERATIVO","LOGISTICA","ADMIN","GERENCIA"].map(e=>(0,eb.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[(0,eb.jsx)("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:e}),(0,eb.jsx)("div",{className:"space-y-2",children:ch.filter(t=>t.category===e).map(e=>(0,eb.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group",children:[(0,eb.jsx)("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${n.allowed_modules?.includes(e.id)?"bg-blue-500 border-blue-500":"bg-white border-slate-300 group-hover:border-blue-400"}`,children:n.allowed_modules?.includes(e.id)&&(0,eb.jsx)(cx,{size:12,className:"text-white"})}),(0,eb.jsx)("input",{type:"checkbox",className:"hidden",checked:n.allowed_modules?.includes(e.id),onChange:t=>{let r=n.allowed_modules||[];t.target.checked?i({...n,allowed_modules:[...r,e.id]}):i({...n,allowed_modules:r.filter(t=>t!==e.id)})}}),(0,eb.jsx)("span",{className:`text-sm ${n.allowed_modules?.includes(e.id)?"text-slate-700 font-medium":"text-slate-500"}`,children:e.label})]},e.id))})]},e))})]})]})}),(0,eb.jsxs)("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-end gap-4",children:[(0,eb.jsx)("button",{onClick:t,className:"px-6 py-3 font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-colors",children:"Cancelar"}),(0,eb.jsxs)("button",{type:"submit",form:"employee-form",className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-colors flex items-center gap-2",children:[(0,eb.jsx)(lQ.Save,{size:20}),"Guardar Cambios"]})]})]})}):null};function cx({size:e,className:t}){return(0,eb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:(0,eb.jsx)("polyline",{points:"20 6 9 17 4 12"})})}let cg=()=>{let{user:e,employees:t}=o4(),[r,a]=(0,ev.useState)("DIRECTORY"),[n,i]=(0,ev.useState)(""),[s,o]=(0,ev.useState)(null),[l,c]=(0,ev.useState)(!1);if(!e||"MANAGER"!==e.role)return(0,eb.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[(0,eb.jsx)(cr.Shield,{size:64,className:"text-red-500 mb-4"}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Acceso Denegado"}),(0,eb.jsx)("p",{children:"No tienes permisos para acceder al mdulo de Recursos Humanos."}),(0,eb.jsx)("p",{className:"text-sm mt-2",children:"Rol requerido: MANAGER"})]});let d=t.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.rut.includes(n));return(0,eb.jsxs)("div",{className:"h-full flex flex-col bg-slate-50 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"bg-white border-b border-slate-200 px-8 pt-8 pb-0 shadow-sm z-10",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[(0,eb.jsx)(oD.Users,{className:"text-blue-600",size:32}),"Recursos Humanos"]}),(0,eb.jsx)("p",{className:"text-slate-500 mt-1 text-lg",children:"Gestin integral de personal y asistencia"})]}),"DIRECTORY"===r&&(0,eb.jsxs)("button",{onClick:()=>{o({id:`EMP-${Date.now()}`,rut:"",name:"",role:"CASHIER",access_pin:"",status:"ACTIVE",current_status:"OUT",job_title:"CAJERO_VENDEDOR",allowed_modules:[]}),c(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg shadow-blue-200 transform hover:scale-105 active:scale-95",children:[(0,eb.jsx)(lW,{size:20}),"Nuevo Empleado"]})]}),(0,eb.jsxs)("div",{className:"flex gap-12",children:[(0,eb.jsxs)("button",{onClick:()=>a("DIRECTORY"),className:`pb-6 px-4 font-bold text-base transition-all relative flex items-center gap-3 ${"DIRECTORY"===r?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[(0,eb.jsx)(oD.Users,{size:24}),"DIRECTORIO & CREDENCIALES","DIRECTORY"===r&&(0,eb.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-blue-600 rounded-t-full"})]}),(0,eb.jsxs)("button",{onClick:()=>a("MONITOR"),className:`pb-6 px-4 font-bold text-base transition-all relative flex items-center gap-3 ${"MONITOR"===r?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[(0,eb.jsx)(cn,{size:24}),"MONITOR EN VIVO","MONITOR"===r&&(0,eb.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-blue-600 rounded-t-full"})]}),(0,eb.jsxs)("button",{onClick:()=>a("HISTORY"),className:`pb-6 px-4 font-bold text-base transition-all relative flex items-center gap-3 ${"HISTORY"===r?"text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[(0,eb.jsx)(lO.FileText,{size:24}),"HISTORIAL Y REPORTES","HISTORY"===r&&(0,eb.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-blue-600 rounded-t-full"})]})]})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-hidden bg-slate-50 p-6",children:["DIRECTORY"===r&&(0,eb.jsxs)("div",{className:"h-full flex flex-col max-w-7xl mx-auto",children:[(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 mb-6 flex items-center gap-4",children:[(0,eb.jsx)(lx.Search,{className:"text-slate-400",size:20}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar empleado por nombre o RUT...",value:n,onChange:e=>i(e.target.value),className:"flex-1 bg-transparent outline-none text-slate-700 placeholder-slate-400"})]}),(0,eb.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex-1 flex flex-col",children:(0,eb.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,eb.jsxs)("table",{className:"w-full text-left",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 border-b border-slate-100 sticky top-0 z-10",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-6 font-bold text-slate-500 text-sm uppercase tracking-wider",children:"Empleado"}),(0,eb.jsx)("th",{className:"p-6 font-bold text-slate-500 text-sm uppercase tracking-wider",children:"Cargo / Rol"}),(0,eb.jsx)("th",{className:"p-6 font-bold text-slate-500 text-sm uppercase tracking-wider",children:"Estado"}),(0,eb.jsx)("th",{className:"p-6 font-bold text-slate-500 text-sm uppercase tracking-wider text-right",children:"Acciones"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-100",children:d.map(e=>(0,eb.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group",children:[(0,eb.jsx)("td",{className:"p-6",children:(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold text-white ${"ACTIVE"===e.status?"bg-blue-500":"bg-slate-400"}`,children:e.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800 text-lg",children:e.name}),(0,eb.jsx)("div",{className:"text-sm text-slate-400 font-mono",children:e.rut})]})]})}),(0,eb.jsxs)("td",{className:"p-6",children:[(0,eb.jsx)("div",{className:"font-medium text-slate-700",children:e.job_title?.replace(/_/g," ")}),(0,eb.jsx)("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full inline-block mt-1",children:ci[e.role]})]}),(0,eb.jsx)("td",{className:"p-6",children:(0,eb.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"ACTIVE"===e.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:"ACTIVE"===e.status?"ACTIVO":"INACTIVO"})}),(0,eb.jsx)("td",{className:"p-6 text-right",children:(0,eb.jsxs)("button",{onClick:()=>{o(e),c(!0)},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 font-bold rounded-lg hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all shadow-sm flex items-center gap-2 ml-auto",children:[(0,eb.jsx)(ca.Edit,{size:16}),"Editar"]})})]},e.id))})]})})})]}),"MONITOR"===r&&(0,eb.jsx)("div",{className:"h-full max-w-7xl mx-auto",children:(0,eb.jsx)(cd,{viewMode:"LIVE"})}),"HISTORY"===r&&(0,eb.jsx)("div",{className:"h-full max-w-7xl mx-auto",children:(0,eb.jsx)(cd,{viewMode:"HISTORY"})})]}),(0,eb.jsx)(cm,{isOpen:l,onClose:()=>c(!1),employee:s,onSave:e=>{o3.toast.success("Empleado guardado exitosamente"),c(!1),o(null)}})]})};var cb=e.i(50627);let cv=(0,oM.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),cy=(0,oM.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);async function cw(e,t){try{return console.warn("  Using STUB certificate validation."),{valid:!0,commonName:"DEMO CERTIFICATE",expiryDate:new Date(Date.now()+31536e6)}}catch(e){return{valid:!1,error:e instanceof Error?e.message:"Invalid certificate or password"}}}let cj=()=>{let{siiConfiguration:e,siiCafs:t,updateSiiConfiguration:r,addCaf:a,getAvailableFolios:n}=o4(),[i,s]=(0,ev.useState)(null),[o,l]=(0,ev.useState)(""),[c,d]=(0,ev.useState)(!1),[u,f]=(0,ev.useState)(null),[h,p]=(0,ev.useState)({rut:e?.rut_emisor||"",razonSocial:e?.razon_social||"",giro:e?.giro||"",acteco:e?.acteco||477310}),m=async()=>{if(!i||!o)return void alert("Por favor seleccione un certificado e ingrese la contrasea");d(!0);try{let t=new FileReader;t.onload=async t=>{let a=(t.target?.result).split(",")[1],n=await cw(a,o);if(f(n),n.valid){let t={id:e?.id||`SII-${Date.now()}`,rut_emisor:h.rut,razon_social:h.razonSocial,giro:h.giro,acteco:h.acteco,certificado_pfx_base64:a,certificado_password:o,fecha_vencimiento_firma:n.expiryDate?.getTime()||Date.now(),ambiente:e?.ambiente||"CERTIFICACION"};r(t)}},t.readAsDataURL(i)}catch(e){f({valid:!1,error:"Error al procesar el certificado"})}finally{d(!1)}},x=async(e,t)=>{let r=e.target.files?.[0];if(!r)return;let n=new FileReader;n.onload=e=>{let r=e.target?.result,n=39===t?1e3:500;a({tipo_dte:t,xml_content:r,rango_desde:1,rango_hasta:n,folios_usados:0,fecha_carga:Date.now(),active:!0}),alert(` CAF cargado exitosamente. Folios disponibles: ${n-1}`)},n.readAsText(r)},g=()=>{e&&r({...e,ambiente:"CERTIFICACION"===e.ambiente?"PRODUCCION":"CERTIFICACION"})};return(0,eb.jsxs)("div",{className:"p-6 bg-slate-50 min-h-screen",children:[(0,eb.jsxs)("header",{className:"mb-8",children:[(0,eb.jsxs)("h1",{className:"text-3xl font-extrabold text-slate-900 flex items-center gap-3",children:[(0,eb.jsx)(cr.Shield,{className:"text-green-600"}),"Conexin SII (Servicio de Impuestos Internos)"]}),(0,eb.jsx)("p",{className:"text-slate-500 mt-1",children:"Configure la facturacin electrnica nativa. Sus datos estn protegidos."})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oG,{className:"text-blue-500",size:20}),"Informacin de la Empresa"]}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"RUT Emisor"}),(0,eb.jsx)("input",{type:"text",value:h.rut,onChange:e=>p({...h,rut:e.target.value}),placeholder:"76.123.456-7",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Razn Social"}),(0,eb.jsx)("input",{type:"text",value:h.razonSocial,onChange:e=>p({...h,razonSocial:e.target.value}),placeholder:"FARMACIAS VALLENAR LTDA",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Giro Comercial"}),(0,eb.jsx)("input",{type:"text",value:h.giro,onChange:e=>p({...h,giro:e.target.value}),placeholder:"VENTA AL POR MENOR DE PRODUCTOS FARMACEUTICOS",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ACTECO (Cdigo Actividad)"}),(0,eb.jsx)("input",{type:"number",value:h.acteco,onChange:e=>p({...h,acteco:Number(e.target.value)}),placeholder:"477310",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(cv,{className:"text-purple-500",size:20}),"Certificado Digital"]}),u?.valid?(0,eb.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-4",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-green-700 font-bold mb-2",children:[(0,eb.jsx)(lo.CheckCircle,{size:20}),"Certificado Cargado"]}),(0,eb.jsxs)("div",{className:"text-sm text-green-600",children:[(0,eb.jsxs)("p",{children:[(0,eb.jsx)("strong",{children:"Titular:"})," ",u.commonName]}),(0,eb.jsxs)("p",{children:[(0,eb.jsx)("strong",{children:"Vencimiento:"})," ",u.expiryDate?.toLocaleDateString()]})]})]}):(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Archivo PFX / P12"}),(0,eb.jsx)("input",{type:"file",accept:".pfx,.p12",onChange:e=>s(e.target.files?.[0]||null),className:"w-full p-3 border border-slate-300 rounded-xl"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Contrasea del Certificado"}),(0,eb.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),placeholder:"",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,eb.jsx)("button",{onClick:m,disabled:!i||!o||c,className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-200",children:c?"Validando...":"Cargar y Validar"})]}),u&&!u.valid&&(0,eb.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mt-4",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-red-700 font-bold mb-1",children:[(0,eb.jsx)(li.AlertTriangle,{size:20}),"Error"]}),(0,eb.jsx)("p",{className:"text-sm text-red-600",children:u.error})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 col-span-2",children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lO.FileText,{className:"text-orange-500",size:20}),"Folios (CAF - Cdigo de Autorizacin de Folios)"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{className:"border border-blue-200 rounded-xl p-4 bg-blue-50",children:[(0,eb.jsxs)("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[(0,eb.jsx)(cy,{size:18}),"Boletas Electrnicas (Tipo 39)"]}),(0,eb.jsxs)("div",{className:"mb-4",children:[(0,eb.jsxs)("div",{className:"text-sm text-blue-600 mb-2",children:[(0,eb.jsx)("strong",{children:"Folios Disponibles:"})," ",n(39)]}),t.filter(e=>39===e.tipo_dte).map(e=>(0,eb.jsxs)("div",{className:"text-xs text-blue-500 bg-white p-2 rounded mb-1",children:["Rango: ",e.rango_desde," - ",e.rango_hasta," | Usados: ",e.folios_usados]},e.id))]}),(0,eb.jsx)("input",{type:"file",accept:".xml",onChange:e=>x(e,39),className:"w-full p-2 border border-blue-300 rounded-lg text-sm"})]}),(0,eb.jsxs)("div",{className:"border border-green-200 rounded-xl p-4 bg-green-50",children:[(0,eb.jsxs)("h3",{className:"font-bold text-green-800 mb-3 flex items-center gap-2",children:[(0,eb.jsx)(cy,{size:18}),"Facturas Electrnicas (Tipo 33)"]}),(0,eb.jsxs)("div",{className:"mb-4",children:[(0,eb.jsxs)("div",{className:"text-sm text-green-600 mb-2",children:[(0,eb.jsx)("strong",{children:"Folios Disponibles:"})," ",n(33)]}),t.filter(e=>33===e.tipo_dte).map(e=>(0,eb.jsxs)("div",{className:"text-xs text-green-500 bg-white p-2 rounded mb-1",children:["Rango: ",e.rango_desde," - ",e.rango_hasta," | Usados: ",e.folios_usados]},e.id))]}),(0,eb.jsx)("input",{type:"file",accept:".xml",onChange:e=>x(e,33),className:"w-full p-2 border border-green-300 rounded-lg text-sm"})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 col-span-2",children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(cu.Briefcase,{className:"text-indigo-500",size:20}),"Ambiente"]}),(0,eb.jsxs)("div",{className:"flex items-center gap-6",children:[(0,eb.jsx)("button",{onClick:g,disabled:!e,className:`px-8 py-4 rounded-xl font-bold text-lg transition-all ${e?.ambiente==="CERTIFICACION"?"bg-yellow-500 text-white shadow-lg shadow-yellow-200":"bg-slate-200 text-slate-500"}`,children:" Certificacin (Pruebas - Maullin)"}),(0,eb.jsx)("button",{onClick:g,disabled:!e,className:`px-8 py-4 rounded-xl font-bold text-lg transition-all ${e?.ambiente==="PRODUCCION"?"bg-green-600 text-white shadow-lg shadow-green-200":"bg-slate-200 text-slate-500"}`,children:" Produccin (Real - Palena)"})]}),(0,eb.jsxs)("p",{className:"text-sm text-slate-500 mt-4",children:[(0,eb.jsx)("strong",{children:"Nota:"})," Cambie a Produccin solo cuando est listo para emitir documentos reales ante el SII."]})]})]})]})},cN=(0,oM.default)("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),cE=(0,oM.default)("barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]),cS=(0,oM.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ck=()=>{let{hardware:e,updateHardwareConfig:t}=lK(),[r,a]=(0,ev.useState)(""),[n,i]=(0,ev.useState)(null),s=(0,ev.useRef)(0);return(0,eb.jsxs)("div",{className:"p-8 max-w-6xl mx-auto space-y-8",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,eb.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl text-blue-600",children:(0,eb.jsx)(oL,{size:32})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Hardware & Perifricos"}),(0,eb.jsx)("p",{className:"text-gray-500",children:"Configuracin de impresoras, etiquetas y lectores de cdigo"})]})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(l3.Printer,{className:"text-blue-500"}),"Impresora de Tickets (POS)"]}),(0,eb.jsx)("span",{className:"text-xs font-bold px-2 py-1 bg-blue-100 text-blue-600 rounded",children:"Caja / Mesn"})]}),(0,eb.jsxs)("div",{className:"p-6 space-y-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ancho del Papel"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("button",{onClick:()=>t({pos_printer_width:"80mm"}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${"80mm"===e.pos_printer_width?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-500"}`,children:[(0,eb.jsx)("span",{className:"text-2xl font-bold",children:"80mm"}),(0,eb.jsx)("span",{className:"text-xs",children:"Estndar"})]}),(0,eb.jsxs)("button",{onClick:()=>t({pos_printer_width:"58mm"}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${"58mm"===e.pos_printer_width?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-500"}`,children:[(0,eb.jsx)("span",{className:"text-xl font-bold",children:"58mm"}),(0,eb.jsx)("span",{className:"text-xs",children:"Compacto"})]})]})]}),(0,eb.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("span",{className:"block font-bold text-gray-700",children:"Impresin Automtica"}),(0,eb.jsx)("span",{className:"text-xs text-gray-500",children:"Imprimir al finalizar venta sin preguntar"})]}),(0,eb.jsx)("button",{onClick:()=>t({auto_print_pos:!e.auto_print_pos}),className:`w-12 h-6 rounded-full transition-colors relative ${e.auto_print_pos?"bg-green-500":"bg-gray-300"}`,children:(0,eb.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.auto_print_pos?"left-7":"left-1"}`})})]}),(0,eb.jsxs)("button",{onClick:()=>{cc.printTestTicket(e),o3.toast.success("Enviando ticket de prueba...")},className:"w-full py-3 bg-gray-800 text-white font-bold rounded-xl hover:bg-gray-900 transition-colors flex items-center justify-center gap-2",children:[(0,eb.jsx)(l3.Printer,{size:18}),"Probar Ticket de Prueba"]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(cE,{className:"text-purple-500"}),"Impresora de Etiquetas"]}),(0,eb.jsx)("span",{className:"text-xs font-bold px-2 py-1 bg-purple-100 text-purple-600 rounded",children:"Bodega"})]}),(0,eb.jsxs)("div",{className:"p-6 space-y-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tamao de Etiqueta"}),(0,eb.jsxs)("select",{value:e.label_printer_size,onChange:e=>t({label_printer_size:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 outline-none",children:[(0,eb.jsx)("option",{value:"50x25",children:"50mm x 25mm (Estndar Farmacia)"}),(0,eb.jsx)("option",{value:"100x50",children:"100mm x 50mm (Caja/Bulto)"})]})]}),(0,eb.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("span",{className:"block font-bold text-gray-700",children:"Impresin Automtica"}),(0,eb.jsx)("span",{className:"text-xs text-gray-500",children:"Imprimir al recepcionar stock"})]}),(0,eb.jsx)("button",{onClick:()=>t({auto_print_labels:!e.auto_print_labels}),className:`w-12 h-6 rounded-full transition-colors relative ${e.auto_print_labels?"bg-green-500":"bg-gray-300"}`,children:(0,eb.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.auto_print_labels?"left-7":"left-1"}`})})]}),(0,eb.jsxs)("button",{onClick:()=>{cc.printLabel({name:"PARACETAMOL 500MG",sku:"780000123456",price:1990,barcode:"780000123456"},e),o3.toast.success("Enviando etiqueta de prueba...")},className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[(0,eb.jsx)(cE,{size:18}),"Probar Etiqueta"]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)("span",{className:"text-2xl",children:""}),"Impresora Totem / Kiosco"]}),(0,eb.jsx)("span",{className:"text-xs font-bold px-2 py-1 bg-green-100 text-green-600 rounded",children:"Atencin"})]}),(0,eb.jsxs)("div",{className:"p-6 space-y-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ancho del Papel"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("button",{onClick:()=>t({kiosk_printer_width:"80mm"}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${"80mm"===e.kiosk_printer_width?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-500"}`,children:[(0,eb.jsx)("span",{className:"text-2xl font-bold",children:"80mm"}),(0,eb.jsx)("span",{className:"text-xs",children:"Estndar"})]}),(0,eb.jsxs)("button",{onClick:()=>t({kiosk_printer_width:"58mm"}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${"58mm"===e.kiosk_printer_width?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-500"}`,children:[(0,eb.jsx)("span",{className:"text-xl font-bold",children:"58mm"}),(0,eb.jsx)("span",{className:"text-xs",children:"Compacto"})]})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mensaje de Bienvenida"}),(0,eb.jsx)("input",{type:"text",value:e.kiosk_welcome_message||"",onChange:e=>t({kiosk_welcome_message:e.target.value}),placeholder:"Ej: Bienvenido a Farmacias Vallenar",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-green-500 outline-none"})]}),(0,eb.jsxs)("button",{onClick:()=>{o3.toast.success("Enviando ticket de fila de prueba...")},className:"w-full py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[(0,eb.jsx)(l3.Printer,{size:18}),"Probar Ticket de Fila"]})]})]}),(0,eb.jsxs)("div",{className:"md:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(cN,{className:"text-orange-500"}),"Prueba de Escner"]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded ${"KEYBOARD_WEDGE"===e.scanner_mode?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:"Teclado (Wedge)"}),(0,eb.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded ${"HID"===e.scanner_mode?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:"HID Nativo"})]})]}),(0,eb.jsxs)("div",{className:"p-6",children:[(0,eb.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,eb.jsxs)("div",{className:"flex-1",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"rea de Prueba"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)("input",{type:"text",value:r,onChange:e=>{let t=performance.now(),r=t-s.current;s.current=t,a(e.target.value),r<50&&e.target.value.length>2?i(Math.round(r)):i(null)},placeholder:"Haga clic aqu y escanee un cdigo...",className:"w-full px-4 py-4 pl-12 rounded-xl border-2 border-dashed border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 outline-none text-lg font-mono transition-all"}),(0,eb.jsx)(cN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),(0,eb.jsxs)("div",{className:"w-48 p-4 bg-gray-50 rounded-xl border border-gray-100 text-center",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Velocidad"}),(0,eb.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,eb.jsx)(cS,{size:18,className:null!==n?"text-yellow-500":"text-gray-300"}),(0,eb.jsx)("span",{className:"text-2xl font-bold text-gray-800",children:n?`${n}ms`:"--"})]}),(0,eb.jsx)("p",{className:"text-[10px] text-gray-400 mt-1",children:"Latencia entre caracteres"})]})]}),r&&(0,eb.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-100 rounded-lg flex items-center gap-2 text-green-700",children:[(0,eb.jsx)(lo.CheckCircle,{size:18}),(0,eb.jsx)("span",{className:"font-bold",children:"Cdigo detectado:"}),(0,eb.jsx)("span",{className:"font-mono",children:r})]})]})]})]})]})},cT=()=>{let[e,t]=(0,ev.useState)("users"),{enable_sii_integration:r,toggleSiiIntegration:a}=lK();return(0,eb.jsxs)("div",{className:"p-6 bg-slate-50 min-h-screen",children:[(0,eb.jsxs)("header",{className:"mb-8 flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-3xl font-extrabold text-slate-900",children:"Configuracin"}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Administracin del Sistema"})]}),(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 flex items-center gap-4",children:[(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-800",children:"Integracin SII"}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:r?"Modo Fiscal (Boleta)":"Modo Control Interno"})]}),(0,eb.jsx)("button",{onClick:a,className:`relative w-14 h-8 rounded-full transition-colors duration-300 ${r?"bg-green-500":"bg-slate-300"}`,children:(0,eb.jsx)("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${r?"translate-x-6":"translate-x-0"}`})})]})]}),(0,eb.jsx)("div",{className:"bg-white rounded-t-3xl shadow-sm border border-slate-200 overflow-hidden max-w-7xl",children:(0,eb.jsxs)("div",{className:"flex border-b border-slate-200",children:[(0,eb.jsxs)("button",{onClick:()=>t("users"),className:`flex-1 py-4 px-6 font-bold transition-colors flex items-center justify-center gap-2 ${"users"===e?"bg-cyan-50 text-cyan-700 border-b-2 border-cyan-600":"text-slate-500 hover:bg-slate-50"}`,children:[(0,eb.jsx)(lN.User,{size:20}),"Gestin de Usuarios"]}),(0,eb.jsxs)("button",{onClick:()=>t("sii"),className:`flex-1 py-4 px-6 font-bold transition-colors flex items-center justify-center gap-2 ${"sii"===e?"bg-green-50 text-green-700 border-b-2 border-green-600":"text-slate-500 hover:bg-slate-50"}`,children:[(0,eb.jsx)(cb.Receipt,{size:20}),"Conexin SII"]}),(0,eb.jsxs)("button",{onClick:()=>t("hardware"),className:`flex-1 py-4 px-6 font-bold transition-colors flex items-center justify-center gap-2 ${"hardware"===e?"bg-purple-50 text-purple-700 border-b-2 border-purple-600":"text-slate-500 hover:bg-slate-50"}`,children:[(0,eb.jsx)(l3.Printer,{size:20}),"Hardware & Impresin"]})]})}),"users"===e&&(0,eb.jsx)("div",{className:"bg-white rounded-b-3xl shadow-sm border border-t-0 border-slate-200 overflow-hidden max-w-7xl p-8",children:(0,eb.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nombre Completo"}),(0,eb.jsx)("input",{type:"text",autoComplete:"name",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium",placeholder:"Ej: Juan Prez"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"RUT"}),(0,eb.jsx)("input",{type:"text",autoComplete:"off",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium",placeholder:"11.111.111-1"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Rol"}),(0,eb.jsxs)("select",{autoComplete:"off",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium bg-white",children:[(0,eb.jsx)("option",{children:"Cajero/a"}),(0,eb.jsx)("option",{children:"Qumico Farmacutico (QF)"}),(0,eb.jsx)("option",{children:"Administrador"}),(0,eb.jsx)("option",{children:"Bodega"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"PIN de Acceso (4 dgitos)"}),(0,eb.jsx)("input",{type:"password",maxLength:4,autoComplete:"new-password",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium tracking-widest",placeholder:""})]})]}),(0,eb.jsx)("div",{className:"flex justify-end",children:(0,eb.jsxs)("button",{type:"submit",className:"px-8 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg flex items-center gap-2",children:[(0,eb.jsx)(lQ.Save,{size:20})," Guardar Usuario"]})})]})}),"sii"===e&&(r?(0,eb.jsx)(cj,{}):(0,eb.jsxs)("div",{className:"bg-white rounded-b-3xl shadow-sm border border-t-0 border-slate-200 p-12 flex flex-col items-center text-center",children:[(0,eb.jsx)("div",{className:"bg-slate-100 p-6 rounded-full mb-6",children:(0,eb.jsx)(cb.Receipt,{size:48,className:"text-slate-400"})}),(0,eb.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Integracin SII Desactivada"}),(0,eb.jsx)("p",{className:"text-slate-500 max-w-md mb-8",children:'El sistema est operando en modo "Control Interno". Las ventas generarn comprobantes no vlidos como boleta. Active la integracin en la parte superior para configurar certificados y folios.'}),(0,eb.jsx)("button",{onClick:a,className:"px-8 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition shadow-lg",children:"Activar Integracin SII"})]})),"hardware"===e&&(0,eb.jsx)(ck,{})]})},cA=(0,oM.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),c_=(0,oM.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),cC=()=>{let{customers:e}=o4(),[t,r]=(0,ev.useState)(""),a=e.filter(e=>e.fullName.toLowerCase().includes(t.toLowerCase())||e.rut.includes(t)||e.phone&&e.phone.includes(t));return(0,eb.jsxs)("div",{className:"p-6 bg-slate-50 min-h-screen",children:[(0,eb.jsxs)("header",{className:"mb-8 flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-3xl font-extrabold text-slate-900",children:"Directorio de Clientes"}),(0,eb.jsx)("p",{className:"text-slate-500",children:"CRM & Fidelizacin"})]}),(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 flex gap-4",children:[(0,eb.jsxs)("div",{className:"text-center",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Total Clientes"}),(0,eb.jsx)("p",{className:"text-2xl font-extrabold text-slate-900",children:e.length})]}),(0,eb.jsx)("div",{className:"w-px bg-slate-200"}),(0,eb.jsxs)("div",{className:"text-center",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Nuevos (Mes)"}),(0,eb.jsx)("p",{className:"text-2xl font-extrabold text-emerald-600",children:e.filter(e=>new Date(e.lastVisit).getMonth()===new Date().getMonth()).length})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,eb.jsx)("div",{className:"p-6 border-b border-slate-100",children:(0,eb.jsxs)("div",{className:"relative max-w-md",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar por RUT, Nombre o Telfono...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none transition-colors font-medium",value:t,onChange:e=>r(e.target.value)})]})}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full text-left",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold text-sm",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-6",children:"Cliente"}),(0,eb.jsx)("th",{className:"p-6",children:"Contacto"}),(0,eb.jsx)("th",{className:"p-6",children:"Puntos"}),(0,eb.jsx)("th",{className:"p-6",children:"Origen"}),(0,eb.jsx)("th",{className:"p-6",children:"ltima Visita"}),(0,eb.jsx)("th",{className:"p-6",children:"Acciones"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(e=>(0,eb.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,eb.jsx)("td",{className:"p-6",children:(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold",children:e.fullName.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-slate-800",children:e.fullName}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 font-mono",children:e.rut})]})]})}),(0,eb.jsx)("td",{className:"p-6 text-slate-600",children:e.phone||"-"}),(0,eb.jsx)("td",{className:"p-6",children:(0,eb.jsxs)("div",{className:"flex items-center gap-1 text-amber-600 font-bold",children:[(0,eb.jsx)(c_,{size:16,fill:"currentColor"}),e.totalPoints]})}),(0,eb.jsx)("td",{className:"p-6",children:(0,eb.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${"KIOSK"===e.registrationSource?"bg-purple-50 text-purple-600 border-purple-200":"POS"===e.registrationSource?"bg-blue-50 text-blue-600 border-blue-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:e.registrationSource})}),(0,eb.jsx)("td",{className:"p-6 text-slate-500 text-sm",children:(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)(lZ,{size:14}),new Date(e.lastVisit).toLocaleDateString()]})}),(0,eb.jsx)("td",{className:"p-6",children:e.phone&&(0,eb.jsx)("button",{onClick:()=>(e=>{if(!e)return;let t=e.replace(/[^0-9]/g,"");window.open(`https://wa.me/${t}`,"_blank")})(e.phone),className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition",title:"Abrir WhatsApp",children:(0,eb.jsx)(cA,{size:20})})})]},e.id))})]})})]})]})};var cO=e.i(87130);let cP=(0,oM.default)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),cR=(0,oM.default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),cI=({isOpen:e,onClose:t})=>{let{inventory:r,updateStock:a,addNewProduct:n}=o4(),[i,s]=(0,ev.useState)("SCAN"),[o,l]=(0,ev.useState)("SCAN"),[c,d]=(0,ev.useState)(""),[u,f]=(0,ev.useState)(null),[h,p]=(0,ev.useState)(""),[m,x]=(0,ev.useState)(""),[g,b]=(0,ev.useState)(""),[v,y]=(0,ev.useState)({}),w=(0,ev.useRef)(null),j=(0,ev.useRef)(null);(0,ev.useRef)(null);let N=(0,ev.useRef)(null);(0,ev.useEffect)(()=>{e&&E()},[e]);let E=()=>{l("SCAN"),d(""),f(null),p(""),x(""),b(""),y({}),"SCAN"===i&&setTimeout(()=>w.current?.focus(),100)};return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden",children:[(0,eb.jsxs)("div",{className:"bg-slate-900 p-6 flex justify-between items-center text-white",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)(oB,{className:"text-cyan-400",size:28}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-xl font-bold",children:"Ingreso Rpido de Stock"}),(0,eb.jsx)("p",{className:"text-slate-400 text-sm",children:"WMS gil - Bodega Central"})]})]}),(0,eb.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-white",children:(0,eb.jsx)(oz.X,{})})]}),(0,eb.jsxs)("div",{className:"flex border-b border-slate-100",children:[(0,eb.jsx)("button",{onClick:()=>{s("SCAN"),E()},className:`flex-1 py-4 font-bold text-sm transition-colors ${"SCAN"===i?"text-cyan-600 border-b-2 border-cyan-600 bg-cyan-50":"text-slate-500 hover:bg-slate-50"}`,children:"Escaneo Rpido (Stock)"}),(0,eb.jsx)("button",{onClick:()=>{s("CREATE"),l("NEW_PRODUCT")},className:`flex-1 py-4 font-bold text-sm transition-colors ${"CREATE"===i?"text-amber-600 border-b-2 border-amber-600 bg-amber-50":"text-slate-500 hover:bg-slate-50"}`,children:"Crear Producto Maestro"})]}),(0,eb.jsxs)("div",{className:"p-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:["SCAN"===o&&(0,eb.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,eb.jsx)("div",{className:"w-24 h-24 bg-cyan-50 rounded-full flex items-center justify-center mb-6 animate-pulse",children:(0,eb.jsx)(lh,{className:"text-cyan-500",size:48})}),(0,eb.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Escanea un Producto"}),(0,eb.jsx)("p",{className:"text-slate-500 mb-8 text-center max-w-xs",children:"Escanea el cdigo de barras o escribe el SKU para identificar o crear un producto."}),(0,eb.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c)return;let t=r.find(e=>e.sku===c);t?(f(t),l("DETAILS"),setTimeout(()=>j.current?.focus(),100),o3.toast.success("Producto Identificado")):(y({sku:c}),l("NEW_PRODUCT"),o3.toast.info("Producto Nuevo Detectado"))},className:"w-full max-w-md relative",children:[(0,eb.jsx)("input",{ref:w,type:"text",className:"w-full pl-6 pr-12 py-4 text-xl font-mono bg-slate-50 border-2 border-slate-200 rounded-2xl focus:border-cyan-500 focus:outline-none transition-all text-center uppercase",placeholder:"EAN / SKU...",value:c,onChange:e=>d(e.target.value.toUpperCase())}),(0,eb.jsx)("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition",children:(0,eb.jsx)(lh,{size:20})})]})]}),"DETAILS"===o&&u&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-cyan-50 p-4 rounded-2xl border border-cyan-100 flex gap-4 items-center",children:[(0,eb.jsx)("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-sm",children:(0,eb.jsx)(oB,{className:"text-cyan-600"})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:u.name}),(0,eb.jsx)("p",{className:"text-slate-500 text-sm font-mono",children:u.sku})]})]}),(0,eb.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),u&&g){if(Date.now(),6===m.length){let e=parseInt(m.substring(0,2)),t=parseInt(m.substring(2,4))-1;new Date(2e3+parseInt(m.substring(4,6)),t,e).getTime()}a(u.id,parseInt(g)),o3.toast.success(`Ingresadas ${g} un. de ${u.name}`),E()}},className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"col-span-2",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Cantidad a Ingresar"}),(0,eb.jsx)("input",{ref:N,type:"number",className:"w-full p-4 text-2xl font-bold text-center border-2 border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:g,onChange:e=>b(e.target.value),placeholder:"0",autoFocus:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"N Lote (Opcional)"}),(0,eb.jsx)("input",{ref:j,type:"text",className:"w-full p-3 border border-slate-200 rounded-xl",value:h,onChange:e=>p(e.target.value),placeholder:"LOTE-001"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Vencimiento (DDMMAA)"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl font-mono",value:m,onChange:e=>x(e.target.value),placeholder:"311225",maxLength:6})]}),(0,eb.jsxs)("button",{type:"submit",className:"col-span-2 py-4 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition flex items-center justify-center gap-2 mt-4",children:[(0,eb.jsx)(lQ.Save,{size:20})," Confirmar Ingreso"]})]})]}),"NEW_PRODUCT"===o&&(0,eb.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),v.name&&v.dci&&v.isp_register)?(n({id:`BATCH-${Date.now()}`,sku:c,name:v.name,dci:v.dci,laboratory:v.laboratory||"GENERICO",isp_register:v.isp_register,format:v.format||"Comprimido",units_per_box:Number(v.units_per_package)||1,is_bioequivalent:v.bioequivalent||!1,active_ingredient:v.dci,unit_format_string:v.unit_format_string||"Unidad",units_per_package:Number(v.units_per_package)||1,bioequivalent:v.bioequivalent||!1,bioequivalent_status:v.bioequivalent?"BIOEQUIVALENTE":"NO_BIOEQUIVALENTE",price:Number(v.price)||0,cost_price:Number(v.cost_price)||0,cost_net:Number(v.cost_price)||0,tax_percent:19,price_sell_box:Number(v.price)||0,price_sell_unit:Number(v.price_sell_unit)||0,stock_actual:Number(g)||0,stock_min:10,stock_max:100,expiry_date:Date.now(),location_id:"BODEGA_CENTRAL",condition:"VD",category:v.category||"MEDICAMENTO",allows_commission:!1,active_ingredients:[v.dci],is_generic:!1,concentration:v.concentration||"",unit_count:Number(v.units_per_package)||1,aisle:v.aisle||""}),o3.toast.success("Producto Creado e Ingresado"),E()):o3.toast.error("Faltan campos obligatorios")},className:"space-y-8",children:[(0,eb.jsxs)("section",{children:[(0,eb.jsx)("h4",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-4 border-b border-cyan-100 pb-2",children:"1. Identificacin y Ubicacin"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"col-span-2",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Nombre Comercial *"}),(0,eb.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl font-bold text-lg focus:border-cyan-500 outline-none",value:v.name||"",onChange:e=>y({...v,name:e.target.value}),placeholder:"Ej: PARACETAMOL 500MG"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Categora"}),(0,eb.jsx)("input",{list:"categories",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:v.category||"",onChange:e=>y({...v,category:e.target.value}),placeholder:"Seleccionar o Escribir..."}),(0,eb.jsxs)("datalist",{id:"categories",children:[(0,eb.jsx)("option",{value:"MEDICAMENTO"}),(0,eb.jsx)("option",{value:"INSUMO_MEDICO"}),(0,eb.jsx)("option",{value:"RETAIL_BELLEZA"}),(0,eb.jsx)("option",{value:"SUPLEMENTO"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Ubicacin Fsica *"}),(0,eb.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:v.aisle||"",onChange:e=>y({...v,aisle:e.target.value}),placeholder:"Ej: Estante A1 / Pasillo 3"})]})]})]}),(0,eb.jsxs)("section",{children:[(0,eb.jsx)("h4",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-4 border-b border-cyan-100 pb-2",children:"2. Datos Sanitarios (Seremi)"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"col-span-2",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Principio Activo (DCI) *"}),(0,eb.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:v.dci||"",onChange:e=>y({...v,dci:e.target.value}),placeholder:"Ej: PARACETAMOL"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Laboratorio"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl",value:v.laboratory||"",onChange:e=>y({...v,laboratory:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Registro ISP *"}),(0,eb.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl font-mono",value:v.isp_register||"",onChange:e=>y({...v,isp_register:e.target.value})})]})]})]}),(0,eb.jsxs)("section",{children:[(0,eb.jsx)("h4",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-4 border-b border-cyan-100 pb-2",children:"3. Estructura de Precios"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Precio Venta (Caja)"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-6 p-3 border border-slate-200 rounded-xl font-bold text-lg",value:v.price||"",onChange:e=>{let t=parseInt(e.target.value)||0,r=v.units_per_package||1;y({...v,price:t,price_sell_box:t,price_sell_unit:Math.round(t/r)})}})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Unidades por Caja"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl",value:v.units_per_package||"",onChange:e=>{let t=parseInt(e.target.value)||1,r=v.price||0;y({...v,units_per_package:t,price_sell_unit:Math.round(r/t)})},placeholder:"1"})]}),(0,eb.jsx)("div",{className:"col-span-2",children:(0,eb.jsxs)("div",{className:"p-3 bg-slate-100 rounded-xl flex justify-between items-center",children:[(0,eb.jsx)("span",{className:"text-xs font-bold text-slate-500",children:"Costo Unitario Calculado:"}),(0,eb.jsxs)("span",{className:"font-mono font-bold text-slate-700",children:["$",(v.price_sell_unit||0).toLocaleString()," c/u"]})]})})]})]}),(0,eb.jsxs)("section",{children:[(0,eb.jsx)("h4",{className:"text-sm font-bold text-cyan-600 uppercase tracking-wider mb-4 border-b border-cyan-100 pb-2",children:"4. Lote Inicial (Opcional)"}),(0,eb.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"N Lote"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl",value:h,onChange:e=>p(e.target.value),placeholder:"LOTE-001"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Vencimiento"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl",value:m,onChange:e=>x(e.target.value),placeholder:"DDMMAA",maxLength:6})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Stock Inicial"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl font-bold",value:g,onChange:e=>b(e.target.value),placeholder:"0"})]})]})]}),(0,eb.jsxs)("button",{type:"submit",className:"w-full py-4 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center justify-center gap-2",children:[(0,eb.jsx)(lQ.Save,{size:20})," Crear Producto Maestro"]})]})]})]})}):null},cD=(0,oM.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),cM=({isOpen:e,onClose:t})=>{let{inventory:r,transferStock:a}=o4(),[n,i]=(0,ev.useState)(""),[s,o]=(0,ev.useState)(null),[l,c]=(0,ev.useState)(""),[d,u]=(0,ev.useState)("SUCURSAL_CENTRO");if(!e)return null;let f=r.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.sku.includes(n));return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,eb.jsx)("div",{className:"bg-slate-900 p-6 border-b border-slate-800 text-white",children:(0,eb.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,eb.jsx)(cP,{className:"text-purple-400"})," Transferencia de Stock"]})}),(0,eb.jsxs)("div",{className:"p-6 space-y-6",children:[s?(0,eb.jsxs)("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h4",{className:"font-bold text-purple-900",children:s.name}),(0,eb.jsxs)("p",{className:"text-xs text-purple-700",children:["Origen: ",s.location_id]})]}),(0,eb.jsx)("button",{onClick:()=>o(null),className:"text-xs font-bold text-purple-500 hover:text-purple-700",children:"CAMBIAR"})]}):(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase",children:"1. Buscar Producto (Origen)"}),(0,eb.jsxs)("div",{className:"relative mb-4",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,eb.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Nombre o SKU...",className:"w-full pl-10 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-purple-500 focus:outline-none",value:n,onChange:e=>i(e.target.value)})]}),(0,eb.jsx)("div",{className:"h-48 overflow-y-auto border border-slate-100 rounded-xl bg-slate-50 p-2 space-y-2",children:f.map(e=>(0,eb.jsxs)("div",{onClick:()=>o(e),className:"p-3 bg-white rounded-lg border border-slate-200 hover:border-purple-400 cursor-pointer transition flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-sm text-slate-800",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:e.location_id})]}),(0,eb.jsxs)("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-bold",children:["Stock: ",e.stock_actual]})]},e.id))})]}),s&&(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-2",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Destino"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(oq.MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),(0,eb.jsxs)("select",{className:"w-full pl-9 pr-3 py-3 border-2 border-slate-200 rounded-xl focus:border-purple-500 focus:outline-none appearance-none bg-white",value:d,onChange:e=>u(e.target.value),children:[(0,eb.jsx)("option",{value:"SUCURSAL_CENTRO",children:"Sucursal Centro"}),(0,eb.jsx)("option",{value:"SUCURSAL_NORTE",children:"Sucursal Norte"}),(0,eb.jsx)("option",{value:"BODEGA_CENTRAL",children:"Bodega Central"}),(0,eb.jsx)("option",{value:"KIOSCO",children:"Kiosco"})]})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Cantidad"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(cD,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),(0,eb.jsx)("input",{type:"number",className:"w-full pl-9 pr-3 py-3 border-2 border-slate-200 rounded-xl focus:border-purple-500 focus:outline-none",max:s.stock_actual,value:l,onChange:e=>c(e.target.value)})]}),(0,eb.jsxs)("p",{className:"text-[10px] text-right text-slate-400 mt-1",children:["Mx: ",s.stock_actual]})]})]}),(0,eb.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,eb.jsx)("button",{onClick:t,className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-100 rounded-xl transition",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:()=>{s&&l&&(a(s.id,d,parseInt(l)),t(),i(""),o(null),c(""))},disabled:!s||!l||parseInt(l)>(s?.stock_actual||0),className:"flex-1 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-700 transition shadow-lg shadow-purple-200 disabled:opacity-50",children:"Transferir"})]})]})]})})},cL=(0,oM.default)("syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),cF=({isOpen:e,onClose:t,product:r})=>{let{updateProduct:a,inventory:n,updateBatchDetails:i,addNewProduct:s}=o4(),[o,l]=(0,ev.useState)({}),[c,d]=(0,ev.useState)([]),[u,f]=(0,ev.useState)("");if((0,ev.useEffect)(()=>{r&&(l({...r,contraindications:r.contraindications||[],therapeutic_tags:r.therapeutic_tags||[]}),d(n.filter(e=>e.sku===r.sku&&e.stock_actual>0)))},[r,n]),!e||!r)return null;let h=(e,t,a)=>{i(r.id,e,{[t]:a}),o3.toast.success("Lote actualizado")},p=o.price&&o.units_per_package?Math.round(o.price/o.units_per_package):0;return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 rounded-t-3xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[(0,eb.jsx)(oB,{className:"text-cyan-600"}),"Gestor Maestro de Producto"]}),(0,eb.jsxs)("p",{className:"text-slate-500 text-sm",children:[r.name," (",r.sku,")"]})]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsxs)("button",{onClick:()=>{r.id&&(a(r.id,o),o3.toast.success("Producto actualizado correctamente"),t())},className:"px-6 py-2 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition flex items-center gap-2 shadow-lg shadow-cyan-200",children:[(0,eb.jsx)(lQ.Save,{size:18})," Guardar Cambios"]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:24,className:"text-slate-400"})})]})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50/30",children:(0,eb.jsxs)("div",{className:"grid grid-cols-12 gap-8",children:[(0,eb.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-6",children:[(0,eb.jsxs)("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lb,{size:16})," Identificacin Rpida"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Cdigo de Barras (EAN)"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(cE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,eb.jsx)("input",{type:"text",className:"w-full pl-10 p-3 border border-slate-200 rounded-xl font-mono text-slate-700 focus:border-cyan-500 focus:outline-none bg-slate-50",value:o.barcode||"",onChange:e=>l({...o,barcode:e.target.value}),placeholder:"Escanea aqu..."})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Va de Administracin"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(cL,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,eb.jsxs)("select",{className:"w-full pl-10 p-3 border border-slate-200 rounded-xl font-bold text-slate-700 focus:border-cyan-500 focus:outline-none appearance-none bg-white",value:o.administration_route||"",onChange:e=>l({...o,administration_route:e.target.value}),children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),(0,eb.jsx)("option",{value:"ORAL",children:"Oral"}),(0,eb.jsx)("option",{value:"TOPICA",children:"Tpica"}),(0,eb.jsx)("option",{value:"OFTALMICA",children:"Oftlmica"}),(0,eb.jsx)("option",{value:"NASAL",children:"Nasal"}),(0,eb.jsx)("option",{value:"RECTAL",children:"Rectal"}),(0,eb.jsx)("option",{value:"VAGINAL",children:"Vaginal"}),(0,eb.jsx)("option",{value:"PARENTERAL",children:"Parenteral (Inyectable)"})]})]})]})]})]}),(0,eb.jsxs)("section",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-100 shadow-sm",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-amber-700 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,eb.jsx)(li.AlertTriangle,{size:16})," Datos Sanitarios (Norma Seremi)"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"col-span-2",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-amber-800/60 mb-1",children:"Principio Activo (DCI)"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-amber-200 rounded-xl font-bold text-slate-700 focus:border-amber-500 focus:outline-none bg-white",value:o.dci||"",onChange:e=>l({...o,dci:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-amber-800/60 mb-1",children:"Laboratorio"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-amber-200 rounded-xl font-bold bg-white",value:o.laboratory||"",onChange:e=>l({...o,laboratory:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-amber-800/60 mb-1",children:"Registro ISP"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-amber-200 rounded-xl font-mono text-sm bg-white",value:o.isp_register||"",onChange:e=>l({...o,isp_register:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-amber-800/60 mb-1",children:"Unidades por Caja"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border border-amber-200 rounded-xl font-mono bg-white",value:o.units_per_package||1,onChange:e=>l({...o,units_per_package:parseInt(e.target.value)})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-amber-800/60 mb-1",children:"Precio Unitario Calc."}),(0,eb.jsxs)("div",{className:"w-full p-3 bg-amber-100/50 border border-amber-200 rounded-xl font-mono font-bold text-amber-800",children:["$",p]})]})]})]}),(0,eb.jsxs)("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lj.DollarSign,{size:16})," Datos Comerciales"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"col-span-2",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Nombre Comercial"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl font-bold text-slate-700 focus:border-cyan-500 focus:outline-none",value:o.name||"",onChange:e=>l({...o,name:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Precio Venta"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl font-mono",value:o.price||0,onChange:e=>l({...o,price:Number(e.target.value)})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Costo Neto"}),(0,eb.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl font-mono",value:o.cost_price||0,onChange:e=>l({...o,cost_price:Number(e.target.value)})})]})]})]})]}),(0,eb.jsxs)("div",{className:"col-span-12 lg:col-span-5 space-y-6",children:[(0,eb.jsxs)("section",{className:"bg-blue-50 p-6 rounded-2xl shadow-sm border border-blue-100",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-blue-800 uppercase tracking-wider flex items-center gap-2",children:[(0,eb.jsx)(oB,{size:16,className:"text-blue-600"})," Existencias Fsicas (Lotes)"]}),(0,eb.jsxs)("button",{onClick:()=>{s({...r,id:`NEW-${Date.now()}`,stock_actual:0,expiry_date:Date.now()+31536e6,location_id:"BODEGA_CENTRAL",aisle:"",cost_net:0,tax_percent:19,price_sell_box:0,price_sell_unit:0,price:0,cost_price:0}),o3.toast.success("Nuevo lote creado")},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded-lg transition flex items-center gap-1 shadow-sm",children:[(0,eb.jsx)(lg.Plus,{size:14})," Nuevo Lote"]})]}),(0,eb.jsxs)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[c.map(e=>(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-blue-200 shadow-sm hover:border-blue-300 transition-colors",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,eb.jsxs)("div",{className:"flex-1",children:[(0,eb.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"N Lote"}),(0,eb.jsx)("input",{type:"text",value:e.id,readOnly:!0,className:"block w-full text-sm font-bold text-slate-700 bg-transparent outline-none"})]}),(0,eb.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Ests seguro de dar de baja este lote? El stock quedar en 0.")&&(i(r.id,t,{stock_actual:0}),o3.toast.success("Lote dado de baja")))},className:"text-slate-300 hover:text-red-500 transition-colors",title:"Dar de baja",children:(0,eb.jsx)(ln.Trash2,{size:16})})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase mb-1",children:[(0,eb.jsx)(lZ,{size:10})," Vencimiento"]}),(0,eb.jsx)("input",{type:"date",value:new Date(e.expiry_date).toISOString().split("T")[0],onChange:t=>h(e.id,"expiry_date",new Date(t.target.value).getTime()),className:"w-full p-2 bg-slate-50 border border-slate-100 rounded-lg text-xs font-bold text-slate-600"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase mb-1",children:[(0,eb.jsx)(oB,{size:10})," Stock"]}),(0,eb.jsx)("input",{type:"number",value:e.stock_actual,onChange:t=>h(e.id,"stock_actual",parseInt(t.target.value)),className:"w-full p-2 bg-slate-50 border border-slate-100 rounded-lg text-xs font-bold text-slate-600"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ubicacin"}),(0,eb.jsx)("input",{type:"text",value:e.aisle||"",onChange:t=>h(e.id,"aisle",t.target.value),placeholder:"Ej: Estante A1",className:"w-full p-2 bg-slate-50 border border-slate-100 rounded-lg text-xs text-slate-600"})]})]},e.id)),0===c.length&&(0,eb.jsx)("div",{className:"text-center py-8 text-slate-400 text-sm italic",children:"No hay lotes activos para este producto."})]})]}),(0,eb.jsxs)("section",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,eb.jsx)(cn,{size:16})," Etiquetas Teraputicas"]}),(0,eb.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:o.therapeutic_tags?.map(e=>(0,eb.jsxs)("span",{className:"px-3 py-1 bg-cyan-50 text-cyan-700 rounded-full text-xs font-bold flex items-center gap-1",children:[e,(0,eb.jsx)("button",{onClick:()=>{l({...o,therapeutic_tags:(o.therapeutic_tags||[]).filter(t=>t!==e)})},className:"hover:text-cyan-900",children:(0,eb.jsx)(oz.X,{size:12})})]},e))}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl text-sm",placeholder:"Escribe y presiona Enter...",value:u,onChange:e=>f(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&u.trim()){e.preventDefault();let t=o.therapeutic_tags||[];t.includes(u.trim().toUpperCase())||l({...o,therapeutic_tags:[...t,u.trim().toUpperCase()]}),f("")}}})]}),(0,eb.jsxs)("section",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[(0,eb.jsxs)("h3",{className:"text-sm font-bold text-red-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,eb.jsx)(li.AlertTriangle,{size:16})," Contraindicaciones"]}),(0,eb.jsx)("div",{className:"space-y-2",children:["EMBARAZO","LACTANCIA","HIPERTENSION","DIABETES","ULCERA"].map(e=>(0,eb.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-red-100/50 p-2 rounded-lg transition",children:[(0,eb.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-red-500 rounded focus:ring-red-400",checked:o.contraindications?.includes(e)||!1,onChange:()=>{let t;(t=o.contraindications||[]).includes(e)?l({...o,contraindications:t.filter(t=>t!==e)}):l({...o,contraindications:[...t,e]})}}),(0,eb.jsx)("span",{className:"text-sm font-bold text-red-800",children:e})]},e))})]})]})]})})]})})};var cU=e.i(69074),cz=e.i(31278),cB=e.i(45009);function cV(e,t,r,a){return new(r||(r=Promise))(function(n,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function o(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((a=a.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let c$=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function cH(e,t,r){let a=function(e){let{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){let r=t.split(".").pop().toLowerCase(),a=c$.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:n}=e,i="string"==typeof t?t:"string"==typeof n&&n.length>0?n:`./${e.name}`;return"string"!=typeof a.path&&cW(a,"path",i),void 0!==r&&Object.defineProperty(a,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),cW(a,"relativePath",i),a}function cW(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}let cG=[".DS_Store","Thumbs.db"];function cq(e){return"object"==typeof e&&null!==e}function cK(e){return e.filter(e=>-1===cG.indexOf(e.name))}function cY(e){if(null===e)return[];let t=[];for(let r=0;r<e.length;r++){let a=e[r];t.push(a)}return t}function cX(e){if("function"!=typeof e.webkitGetAsEntry)return cZ(e);let t=e.webkitGetAsEntry();return t&&t.isDirectory?cQ(t):cZ(e,t)}function cZ(e,t){return cV(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&"function"==typeof e.getAsFileSystemHandle){let t=yield e.getAsFileSystemHandle();if(null===t)throw Error(`${e} is not a File`);if(void 0!==t){let e=yield t.getFile();return e.handle=t,cH(e)}}let a=e.getAsFile();if(!a)throw Error(`${e} is not a File`);return cH(a,null!=(r=null==t?void 0:t.fullPath)?r:void 0)})}function cJ(e){return cV(this,void 0,void 0,function*(){return e.isDirectory?cQ(e):function(e){return cV(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(r=>{t(cH(r,e.fullPath))},e=>{r(e)})})})}(e)})}function cQ(e){let t=e.createReader();return new Promise((e,r)=>{let a=[];!function n(){t.readEntries(t=>cV(this,void 0,void 0,function*(){if(t.length){let e=Promise.all(t.map(cJ));a.push(e),n()}else try{let t=yield Promise.all(a);e(t)}catch(e){r(e)}}),e=>{r(e)})}()})}var c0=e.i(16474);function c1(e){return function(e){if(Array.isArray(e))return c8(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c6(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(t){c3(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||c6(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c6(e,t){if(e){if("string"==typeof e)return c8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c8(e,t)}}function c8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var c7="function"==typeof c0.default?c0.default:c0.default.default,c9=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:"file-invalid-type",message:"File type must be ".concat(r)}},de=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},dt=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},dr={code:"too-many-files",message:"Too many files"};function da(e,t){var r="application/x-moz-file"===e.type||c7(e,t);return[r,r?null:c9(t)]}function dn(e,t,r){if(di(e.size)){if(di(t)&&di(r)){if(e.size>r)return[!1,de(r)];if(e.size<t)return[!1,dt(t)]}else if(di(t)&&e.size<t)return[!1,dt(t)];else if(di(r)&&e.size>r)return[!1,de(r)]}return[!0,null]}function di(e){return null!=e}function ds(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function dl(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function dc(e){e.preventDefault()}function dd(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return t.some(function(t){return!ds(e)&&t&&t.apply(void 0,[e].concat(a)),ds(e)})}}function du(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function df(e){return/^.*\.[\w]+$/.test(e)}var dh=["children"],dp=["open"],dm=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],dx=["refKey","onChange","onClick"];function dg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||db(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function db(e,t){if(e){if("string"==typeof e)return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(e,t)}}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(r),!0).forEach(function(t){dj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var dE=(0,ev.forwardRef)(function(e,t){var r=e.children,a=dT(dN(e,dh)),n=a.open,i=dN(a,dp);return(0,ev.useImperativeHandle)(t,function(){return{open:n}},[n]),ev.default.createElement(ev.Fragment,null,r(dw(dw({},i),{},{open:n})))});dE.displayName="Dropzone";var dS={disabled:!1,getFilesFromEvent:function(e){return cV(this,void 0,void 0,function*(){var t;if(cq(e)&&cq(e.dataTransfer))return function(e,t){return cV(this,void 0,void 0,function*(){if(e.items){let r=cY(e.items).filter(e=>"file"===e.kind);return"drop"!==t?r:cK(function e(t){return t.reduce((t,r)=>[...t,...Array.isArray(r)?e(r):[r]],[])}((yield Promise.all(r.map(cX)))))}return cK(cY(e.files).map(e=>cH(e)))})}(e.dataTransfer,e.type);if(cq(t=e)&&cq(t.target))return cY(e.target.files).map(e=>cH(e));return Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"==typeof e.getFile)?function(e){return cV(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>cH(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};dE.defaultProps=dS,dE.propTypes={children:cB.default.func,accept:cB.default.objectOf(cB.default.arrayOf(cB.default.string)),multiple:cB.default.bool,preventDropOnDocument:cB.default.bool,noClick:cB.default.bool,noKeyboard:cB.default.bool,noDrag:cB.default.bool,noDragEventsBubbling:cB.default.bool,minSize:cB.default.number,maxSize:cB.default.number,maxFiles:cB.default.number,disabled:cB.default.bool,getFilesFromEvent:cB.default.func,onFileDialogCancel:cB.default.func,onFileDialogOpen:cB.default.func,useFsAccessApi:cB.default.bool,autoFocus:cB.default.bool,onDragEnter:cB.default.func,onDragLeave:cB.default.func,onDragOver:cB.default.func,onDrop:cB.default.func,onDropAccepted:cB.default.func,onDropRejected:cB.default.func,onError:cB.default.func,validator:cB.default.func};var dk={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function dT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=dw(dw({},dS),e),r=t.accept,a=t.disabled,n=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,o=t.multiple,l=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,u=t.onDragOver,f=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,m=t.onFileDialogCancel,x=t.onFileDialogOpen,g=t.useFsAccessApi,b=t.autoFocus,v=t.preventDropOnDocument,y=t.noClick,w=t.noKeyboard,j=t.noDrag,N=t.noDragEventsBubbling,E=t.onError,S=t.validator,k=(0,ev.useMemo)(function(){return di(r)?Object.entries(r).reduce(function(e,t){var r=c5(t,2),a=r[0],n=r[1];return[].concat(c1(e),[a],c1(n))},[]).filter(function(e){return du(e)||df(e)}).join(","):void 0},[r]),T=(0,ev.useMemo)(function(){return di(r)?[{description:"Files",accept:Object.entries(r).filter(function(e){var t=c5(e,2),r=t[0],a=t[1],n=!0;return du(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),n=!1),Array.isArray(a)&&a.every(df)||(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),n=!1),n}).reduce(function(e,t){var r=c5(t,2),a=r[0],n=r[1];return c4(c4({},e),{},c3({},a,n))},{})}]:r},[r]),A=(0,ev.useMemo)(function(){return"function"==typeof x?x:d_},[x]),_=(0,ev.useMemo)(function(){return"function"==typeof m?m:d_},[m]),C=(0,ev.useRef)(null),O=(0,ev.useRef)(null),P=dg((0,ev.useReducer)(dA,dk),2),R=P[0],I=P[1],D=R.isFocused,M=R.isFileDialogActive,L=(0,ev.useRef)("undefined"!=typeof window&&window.isSecureContext&&g&&"showOpenFilePicker"in window),F=function(){!L.current&&M&&setTimeout(function(){O.current&&(O.current.files.length||(I({type:"closeDialog"}),_()))},300)};(0,ev.useEffect)(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[O,M,_,L]);var U=(0,ev.useRef)([]),z=function(e){C.current&&C.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,ev.useEffect)(function(){return v&&(document.addEventListener("dragover",dc,!1),document.addEventListener("drop",z,!1)),function(){v&&(document.removeEventListener("dragover",dc),document.removeEventListener("drop",z))}},[C,v]),(0,ev.useEffect)(function(){return!a&&b&&C.current&&C.current.focus(),function(){}},[C,b,a]);var B=(0,ev.useCallback)(function(e){E?E(e):console.error(e)},[E]),V=(0,ev.useCallback)(function(e){var t;e.preventDefault(),e.persist(),er(e),U.current=[].concat(function(e){if(Array.isArray(e))return dv(e)}(t=U.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||db(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),dl(e)&&Promise.resolve(n(e)).then(function(t){if(!ds(e)||N){var r,a,n,d,u,f,h,p,m=t.length,x=m>0&&(a=(r={files:t,accept:k,minSize:s,maxSize:i,multiple:o,maxFiles:l,validator:S}).files,n=r.accept,d=r.minSize,u=r.maxSize,f=r.multiple,h=r.maxFiles,p=r.validator,(!!f||!(a.length>1))&&(!f||!(h>=1)||!(a.length>h))&&a.every(function(e){var t=c5(da(e,n),1)[0],r=c5(dn(e,d,u),1)[0],a=p?p(e):null;return t&&r&&!a}));I({isDragAccept:x,isDragReject:m>0&&!x,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}}).catch(function(e){return B(e)})},[n,c,B,N,k,s,i,o,l,S]),H=(0,ev.useCallback)(function(e){e.preventDefault(),e.persist(),er(e);var t=dl(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&u&&u(e),!1},[u,N]),W=(0,ev.useCallback)(function(e){e.preventDefault(),e.persist(),er(e);var t=U.current.filter(function(e){return C.current&&C.current.contains(e)}),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),U.current=t,!(t.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dl(e)&&d&&d(e))},[C,d,N]),G=(0,ev.useCallback)(function(e,t){var r=[],a=[];e.forEach(function(e){var t=dg(da(e,k),2),n=t[0],o=t[1],l=dg(dn(e,s,i),2),c=l[0],d=l[1],u=S?S(e):null;if(n&&c&&!u)r.push(e);else{var f=[o,d];u&&(f=f.concat(u)),a.push({file:e,errors:f.filter(function(e){return e})})}}),(!o&&r.length>1||o&&l>=1&&r.length>l)&&(r.forEach(function(e){a.push({file:e,errors:[dr]})}),r.splice(0)),I({acceptedFiles:r,fileRejections:a,isDragReject:a.length>0,type:"setFiles"}),f&&f(r,a,t),a.length>0&&p&&p(a,t),r.length>0&&h&&h(r,t)},[I,o,k,s,i,l,f,h,p,S]),q=(0,ev.useCallback)(function(e){e.preventDefault(),e.persist(),er(e),U.current=[],dl(e)&&Promise.resolve(n(e)).then(function(t){(!ds(e)||N)&&G(t,e)}).catch(function(e){return B(e)}),I({type:"reset"})},[n,G,B,N]),K=(0,ev.useCallback)(function(){if(L.current){I({type:"openDialog"}),A(),window.showOpenFilePicker({multiple:o,types:T}).then(function(e){return n(e)}).then(function(e){G(e,null),I({type:"closeDialog"})}).catch(function(e){e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(_(e),I({type:"closeDialog"})):e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)?(L.current=!1,O.current?(O.current.value=null,O.current.click()):B(Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):B(e)});return}O.current&&(I({type:"openDialog"}),A(),O.current.value=null,O.current.click())},[I,A,_,g,G,B,T,o]),Y=(0,ev.useCallback)(function(e){C.current&&C.current.isEqualNode(e.target)&&(" "===e.key||"Enter"===e.key||32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),K())},[C,K]),X=(0,ev.useCallback)(function(){I({type:"focus"})},[]),Z=(0,ev.useCallback)(function(){I({type:"blur"})},[]),J=(0,ev.useCallback)(function(){y||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(K,0):K())},[y,K]),Q=function(e){return a?null:e},ee=function(e){return w?null:Q(e)},et=function(e){return j?null:Q(e)},er=function(e){N&&e.stopPropagation()},ea=(0,ev.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.role,n=e.onKeyDown,i=e.onFocus,s=e.onBlur,o=e.onClick,l=e.onDragEnter,c=e.onDragOver,d=e.onDragLeave,u=e.onDrop,f=dN(e,dm);return dw(dw(dj({onKeyDown:ee(dd(n,Y)),onFocus:ee(dd(i,X)),onBlur:ee(dd(s,Z)),onClick:Q(dd(o,J)),onDragEnter:et(dd(l,V)),onDragOver:et(dd(c,H)),onDragLeave:et(dd(d,W)),onDrop:et(dd(u,q)),role:"string"==typeof r&&""!==r?r:"presentation"},void 0===t?"ref":t,C),a||w?{}:{tabIndex:0}),f)}},[C,Y,X,Z,J,V,H,W,q,w,j,a]),en=(0,ev.useCallback)(function(e){e.stopPropagation()},[]),ei=(0,ev.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.onChange,a=e.onClick,n=dN(e,dx);return dw(dw({},dj({accept:k,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Q(dd(r,q)),onClick:Q(dd(a,en)),tabIndex:-1},void 0===t?"ref":t,O)),n)}},[O,r,o,q,a]);return dw(dw({},R),{},{isFocused:D&&!a,getRootProps:ea,getInputProps:ei,rootRef:C,inputRef:O,open:Q(K)})}function dA(e,t){switch(t.type){case"focus":return dw(dw({},e),{},{isFocused:!0});case"blur":return dw(dw({},e),{},{isFocused:!1});case"openDialog":return dw(dw({},dk),{},{isFileDialogActive:!0});case"closeDialog":return dw(dw({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return dw(dw({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return dw(dw({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return dw({},dk);default:return e}}function d_(){}var dC=e.i(67034),dO={};dO.version="0.18.5";var dP=1200,dR=1252,dI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dM=function(e){-1!=dI.indexOf(e)&&(dR=dD[0]=e)},dL=function(e){dP=e,dM(e)};function dF(){dL(1200),dM(1252)}function dU(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function dz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var dB=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);if(255==t&&254==r){for(var a=e.slice(2),n=[],i=0;i<a.length>>1;++i)n[i]=String.fromCharCode(a.charCodeAt(2*i)+(a.charCodeAt(2*i+1)<<8));return n.join("")}return 254==t&&255==r?dz(e.slice(2)):65279==t?e.slice(1):e},dV=function(e){return String.fromCharCode(e)},d$=function(e){return String.fromCharCode(e)},dH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function dW(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)i=(r=e.charCodeAt(c++))>>2,s=(3&r)<<4|(a=e.charCodeAt(c++))>>4,o=(15&a)<<2|(n=e.charCodeAt(c++))>>6,l=63&n,isNaN(a)?o=l=64:isNaN(n)&&(l=64),t+=dH.charAt(i)+dH.charAt(s)+dH.charAt(o)+dH.charAt(l);return t}function dG(e){var t="",r=0,a=0,n=0,i=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)t+=String.fromCharCode((n=dH.indexOf(e.charAt(l++)))<<2|(i=dH.indexOf(e.charAt(l++)))>>4),r=(15&i)<<4|(s=dH.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(r)),a=(3&s)<<6|(o=dH.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var dq=void 0!==dC.Buffer&&void 0!==tI.default&&void 0!==tI.default.versions&&!!tI.default.versions.node,dK=function(){if(void 0!==dC.Buffer){var e=!dC.Buffer.from;if(!e)try{dC.Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new dC.Buffer(e,t):new dC.Buffer(e)}:dC.Buffer.from.bind(dC.Buffer)}return function(){}}();function dY(e){return dq?dC.Buffer.alloc?dC.Buffer.alloc(e):new dC.Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):Array(e)}function dX(e){return dq?dC.Buffer.allocUnsafe?dC.Buffer.allocUnsafe(e):new dC.Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):Array(e)}var dZ=function(e){return dq?dK(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function dJ(e){if("undefined"==typeof ArrayBuffer)return dZ(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=255&e.charCodeAt(a);return t}function dQ(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function d0(e){if("undefined"==typeof ArrayBuffer)throw Error("Unsupported");if(e instanceof ArrayBuffer)return d0(new Uint8Array(e));for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var d1=dq?function(e){return dC.Buffer.concat(e.map(function(e){return dC.Buffer.isBuffer(e)?e:dK(e)}))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else if("string"==typeof e[t])throw"wtf";else a.set(new Uint8Array(e[t]),r);return a}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))},d2=/\u0000/g,d4=/[\u0001-\u0006]/g;function d3(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function d5(e,t){var r=""+e;return r.length>=t?r:uQ("0",t-r.length)+r}function d6(e,t){var r=""+e;return r.length>=t?r:uQ(" ",t-r.length)+r}function d8(e,t){var r=""+e;return r.length>=t?r:r+uQ(" ",t-r.length)}function d7(e,t){var r,a;return e>0x100000000||e<-0x100000000?(r=""+Math.round(e)).length>=t?r:uQ("0",t-r.length)+r:(a=""+Math.round(e)).length>=t?a:uQ("0",t-a.length)+a}function d9(e,t){return t=t||0,e.length>=7+t&&(32|e.charCodeAt(t))==103&&(32|e.charCodeAt(t+1))==101&&(32|e.charCodeAt(t+2))==110&&(32|e.charCodeAt(t+3))==101&&(32|e.charCodeAt(t+4))==114&&(32|e.charCodeAt(t+5))==97&&(32|e.charCodeAt(t+6))==108}var ue=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ut=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ua={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},un={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ui(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,s=1,o=0,l=1,c=0,d=0,u=Math.floor(n);c<t&&(o=(u=Math.floor(n))*s+i,d=u*c+l,!(n-u<5e-8));)n=1/(n-u),i=s,s=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=i):(d=c,o=s)),!r)return[0,a*o,d];var f=Math.floor(a*o/d);return[f,a*o-f*d,d]}function us(e,t,r){if(e>2958465||e<0)return null;var a=0|e,n=Math.floor(86400*(e-a)),i=0,s=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(1e-6>Math.abs(o.u)&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,86400==++n&&(o.T=n=0,++a,++o.D)),60===a)s=r?[1317,10,29]:[1900,2,29],i=3;else if(0===a)s=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var l,c,d,u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),r&&(l=u,c=s,c[0]-=581,d=l.getDay(),l<60&&(d=(d+6)%7),i=d)}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=n%60,o.M=(n=Math.floor(n/60))%60,o.H=n=Math.floor(n/60),o.q=i,o}var uo=new Date(1899,11,31,0,0,0),ul=uo.getTime(),uc=new Date(1900,2,1,0,0,0);function ud(e,t){var r=e.getTime();return t?r-=1262304e5:e>=uc&&(r+=864e5),(r-(ul+(e.getTimezoneOffset()-uo.getTimezoneOffset())*6e4))/864e5}function uu(e){return -1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uf(e){var t,r,a,n,i,s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return s>=-4&&s<=-1?i=e.toPrecision(10+s):9>=Math.abs(s)?(t=e<0?12:11,i=(r=uu(e.toFixed(12))).length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)):i=10===s?e.toFixed(10).substr(0,12):(a=uu(e.toFixed(11))).length>(e<0?12:11)||"0"===a||"-0"===a?e.toPrecision(6):a,uu(-1==(n=i.toUpperCase()).indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2"))}function uh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):uf(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return uA(14,ud(e,t&&t.date1904),t)}throw Error("unsupported value in General format: "+e)}function up(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var um=/%/g,ux=/# (\?+)( ?)\/( ?)(\d+)/,ug=/^#*0*\.([0#]+)/,ub=/\).*[0#]/,uv=/\(###\) ###\\?-####/;function uy(e){for(var t,r="",a=0;a!=e.length;++a)switch(t=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function uw(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function uj(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function uN(e,t,r){return(0|r)===r?function e(t,r,a){if(40===t.charCodeAt(0)&&!r.match(ub)){var n,i=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?e("n",i,a):"("+e("n",i,-a)+")"}if(44===r.charCodeAt(r.length-1)){for(var s=r,o=s.length-1;44===s.charCodeAt(o-1);)--o;return uN(t,s.substr(0,o),a/Math.pow(10,3*(s.length-o)))}if(-1!==r.indexOf("%"))return c=(l=r).replace(um,""),d=l.length-c.length,uN(t,c,a*Math.pow(10,2*d))+uQ("%",d);if(-1!==r.indexOf("E"))return function e(t,r){var a,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==r)return"0.0E+0";if(r<0)return"-"+e(t,-r);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(r)*Math.LOG10E)%i;if(s<0&&(s+=i),!(a=(r/Math.pow(10,s)).toPrecision(n+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(r)*Math.LOG10E);-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(o-a.length+s):a+="E+"+(o-s),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,a){return t+r+a.substr(0,(i+s)%i)+"."+a.substr(s)+"E"})}else a=r.toExponential(n);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}(r,a);if(36===r.charCodeAt(0))return"$"+e(t,r.substr(" "==r.charAt(1)?2:1),a);var l,c,d,u,f,h,p,m=Math.abs(a),x=a<0?"-":"";if(r.match(/^00+$/))return x+d5(m,r.length);if(r.match(/^[#?]+$/))return u=""+a,0===a&&(u=""),u.length>r.length?u:uy(r.substr(0,r.length-u.length))+u;if(f=r.match(ux))return x+(0===m?"":""+m)+uQ(" ",(n=f)[1].length+2+n[4].length);if(r.match(/^#+0+$/))return x+d5(m,r.length-r.indexOf("0"));if(f=r.match(ug))return u=(u=(""+a).replace(/^([^\.]+)$/,"$1."+uy(f[1])).replace(/\.$/,"."+uy(f[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+uQ("0",uy(f[1]).length-t.length)}),-1!==r.indexOf("0.")?u:u.replace(/^0\./,".");if(f=(r=r.replace(/^#+([0.])/,"$1")).match(/^(0*)\.(#*)$/))return x+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,f[1].length?"0.":".");if(f=r.match(/^#{1,3},##0(\.?)$/))return x+up(""+m);if(f=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+e(t,r,-a):up(""+a)+"."+uQ("0",f[1].length);if(f=r.match(/^#,#*,#0/))return e(t,r.replace(/^#,#*,/,""),a);if(f=r.match(/^([0#]+)(\\?-([0#]+))+$/))return u=d3(e(t,r.replace(/[\\-]/g,""),a)),h=0,d3(d3(r.replace(/\\/g,"")).replace(/[0#]/g,function(e){return h<u.length?u.charAt(h++):"0"===e?"0":""}));if(r.match(uv))return"("+(u=e(t,"##########",a)).substr(0,3)+") "+u.substr(3,3)+"-"+u.substr(6);var g="";if(f=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return p=ui(m,Math.pow(10,h=Math.min(f[4].length,7))-1,!1),u=""+x," "==(g=uN("n",f[1],p[1])).charAt(g.length-1)&&(g=g.substr(0,g.length-1)+"0"),u+=g+f[2]+"/"+f[3],(g=d8(p[2],h)).length<f[4].length&&(g=uy(f[4].substr(f[4].length-g.length))+g),u+=g;if(f=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return x+((p=ui(m,Math.pow(10,h=Math.min(Math.max(f[1].length,f[4].length),7))-1,!0))[0]||(p[1]?"":"0"))+" "+(p[1]?d6(p[1],h)+f[2]+"/"+f[3]+d8(p[2],h):uQ(" ",2*h+1+f[2].length+f[3].length));if(f=r.match(/^[#0?]+$/))return(u=""+a,r.length<=u.length)?u:uy(r.substr(0,r.length-u.length))+u;if(f=r.match(/^([#0]+)\.([#0]+)$/)){h=(u=""+a.toFixed(Math.min(f[2].length,10)).replace(/([^0])0+$/,"$1")).indexOf(".");var b=r.indexOf(".")-h,v=r.length-u.length-b;return uy(r.substr(0,b)+u+r.substr(r.length-v))}if(f=r.match(/^00,000\.([#0]*0)$/))return a<0?"-"+e(t,r,-a):up(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?d5(0,3-e.length):"")+e})+"."+d5(0,f[1].length);switch(r){case"###,###":case"##,###":case"#,###":var y=up(""+m);return"0"!==y?x+y:"";default:if(r.match(/\.[0#?]*$/))return e(t,r.slice(0,r.lastIndexOf(".")),a)+uy(r.slice(r.lastIndexOf(".")))}throw Error("unsupported format |"+r+"|")}(e,t,r):function e(t,r,a){if(40===t.charCodeAt(0)&&!r.match(ub)){var n,i,s,o,l,c,d=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?e("n",d,a):"("+e("n",d,-a)+")"}if(44===r.charCodeAt(r.length-1)){for(var u=r,f=u.length-1;44===u.charCodeAt(f-1);)--f;return uN(t,u.substr(0,f),a/Math.pow(10,3*(u.length-f)))}if(-1!==r.indexOf("%"))return p=(h=r).replace(um,""),m=h.length-p.length,uN(t,p,a*Math.pow(10,2*m))+uQ("%",m);if(-1!==r.indexOf("E"))return function e(t,r){var a,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==r)return"0.0E+0";if(r<0)return"-"+e(t,-r);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(r)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(a=(r/Math.pow(10,s)).toPrecision(n+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(r)*Math.LOG10E);for(-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(o-a.length+s):a+="E+"+(o-s);"0."===a.substr(0,2);)a=(a=a.charAt(0)+a.substr(2,i)+"."+a.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,a){return t+r+a.substr(0,(i+s)%i)+"."+a.substr(s)+"E"})}else a=r.toExponential(n);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}(r,a);if(36===r.charCodeAt(0))return"$"+e(t,r.substr(" "==r.charAt(1)?2:1),a);var h,p,m,x,g,b,v,y=Math.abs(a),w=a<0?"-":"";if(r.match(/^00+$/))return w+d7(y,r.length);if(r.match(/^[#?]+$/))return"0"===(x=d7(a,0))&&(x=""),x.length>r.length?x:uy(r.substr(0,r.length-x.length))+x;if(g=r.match(ux))return o=Math.floor((s=Math.round(y*(i=parseInt((n=g)[4],10))))/i),l=s-o*i,w+(0===o?"":""+o)+" "+(0===l?uQ(" ",n[1].length+1+n[4].length):d6(l,n[1].length)+n[2]+"/"+n[3]+d5(i,n[4].length));if(r.match(/^#+0+$/))return w+d7(y,r.length-r.indexOf("0"));if(g=r.match(ug))return x=uw(a,g[1].length).replace(/^([^\.]+)$/,"$1."+uy(g[1])).replace(/\.$/,"."+uy(g[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+uQ("0",uy(g[1]).length-t.length)}),-1!==r.indexOf("0.")?x:x.replace(/^0\./,".");if(g=(r=r.replace(/^#+([0.])/,"$1")).match(/^(0*)\.(#*)$/))return w+uw(y,g[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,g[1].length?"0.":".");if(g=r.match(/^#{1,3},##0(\.?)$/))return w+up(d7(y,0));if(g=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+e(t,r,-a):up(""+(Math.floor(a)+ +((c=g[1].length)<(""+Math.round((a-Math.floor(a))*Math.pow(10,c))).length)))+"."+d5(uj(a,g[1].length),g[1].length);if(g=r.match(/^#,#*,#0/))return e(t,r.replace(/^#,#*,/,""),a);if(g=r.match(/^([0#]+)(\\?-([0#]+))+$/))return x=d3(e(t,r.replace(/[\\-]/g,""),a)),b=0,d3(d3(r.replace(/\\/g,"")).replace(/[0#]/g,function(e){return b<x.length?x.charAt(b++):"0"===e?"0":""}));if(r.match(uv))return"("+(x=e(t,"##########",a)).substr(0,3)+") "+x.substr(3,3)+"-"+x.substr(6);var j="";if(g=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return v=ui(y,Math.pow(10,b=Math.min(g[4].length,7))-1,!1),x=""+w," "==(j=uN("n",g[1],v[1])).charAt(j.length-1)&&(j=j.substr(0,j.length-1)+"0"),x+=j+g[2]+"/"+g[3],(j=d8(v[2],b)).length<g[4].length&&(j=uy(g[4].substr(g[4].length-j.length))+j),x+=j;if(g=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return w+((v=ui(y,Math.pow(10,b=Math.min(Math.max(g[1].length,g[4].length),7))-1,!0))[0]||(v[1]?"":"0"))+" "+(v[1]?d6(v[1],b)+g[2]+"/"+g[3]+d8(v[2],b):uQ(" ",2*b+1+g[2].length+g[3].length));if(g=r.match(/^[#0?]+$/))return(x=d7(a,0),r.length<=x.length)?x:uy(r.substr(0,r.length-x.length))+x;if(g=r.match(/^([#0?]+)\.([#0]+)$/)){b=(x=""+a.toFixed(Math.min(g[2].length,10)).replace(/([^0])0+$/,"$1")).indexOf(".");var N=r.indexOf(".")-b,E=r.length-x.length-N;return uy(r.substr(0,N)+x+r.substr(r.length-E))}if(g=r.match(/^00,000\.([#0]*0)$/))return b=uj(a,g[1].length),a<0?"-"+e(t,r,-a):up(a<0x7fffffff&&a>-0x80000000?""+(a>=0?0|a:a-1|0):""+Math.floor(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?d5(0,3-e.length):"")+e})+"."+d5(b,g[1].length);switch(r){case"###,##0.00":return e(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var S=up(d7(y,0));return"0"!==S?w+S:"";case"###,###.00":return e(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return e(t,"#,##0.00",a).replace(/^0\./,".")}throw Error("unsupported format |"+r+"|")}(e,t,r)}var uE=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uS(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":d9(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase()||"AM/PM"===e.substr(t,5).toUpperCase()||"/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(a=r;"]"!==e.charAt(t++)&&t<e.length;)a+=e.charAt(t);if(a.match(uE))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(" "==e.charAt(t)||"*"==e.charAt(t))&&++t;break;case"(":case")":case" ":default:++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);}return!1}var uk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uT(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function uA(e,t,r){null==r&&(r={});var a="";switch(typeof e){case"string":a="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(a=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:ur)[e])&&(a=r.table&&r.table[ua[e]]||ur[ua[e]]),null==a&&(a=un[e]||"General")}if(d9(a,0))return uh(t,r);t instanceof Date&&(t=ud(t,r.date1904));var n=function(e,t){var r=function(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),!0===r)throw Error("Format |"+e+"| unterminated string ");return t}(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw Error("cannot find right format for |"+r.join("|")+"|");if("number"!=typeof t)return[4,4===r.length||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var i=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[a,i];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var s=r[0].match(uk),o=r[1].match(uk);return uT(t,s)?[a,r[0]]:uT(t,o)?[a,r[1]]:[a,r[null!=s&&null!=o?2:1]]}return[a,i]}(a,t);if(d9(n[1]))return uh(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,a){for(var n,i,s,o=[],l="",c=0,d="",u="t",f="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!d9(e,c))throw Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var h=e.charAt(++c),p="("===h||")"===h?h:"t";o[o.length]={t:p,v:h},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==n&&null==(n=us(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==n&&null==(n=us(t,r)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=f),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"":var m={t:d,v:d};if(null==n&&(n=us(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=n&&(m.v=n.H>=12?"P":"A"),m.t="T",f="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=n&&(m.v=n.H>=12?"PM":"AM"),m.t="T",c+=5,f="h"):"/"===e.substr(c,5).toUpperCase()?(null!=n&&(m.v=n.H>=12?"":""),m.t="T",c+=5,f="h"):(m.t="t",++c),null==n&&"T"===m.t)return"";o[o.length]=m,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(uE)){if(null==n&&null==(n=us(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",uS(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=n){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c,(" "==e.charAt(c)||"*"==e.charAt(c))&&++c;break;case"(":case")":o[o.length]={t:1===a?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d))throw Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var x,g=0,b=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=f,u="h",g<1&&(g=1);break;case"s":(x=o[c].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&o[c].v.match(/[Hh]/)&&(g=1),g<2&&o[c].v.match(/[Mm]/)&&(g=2),g<3&&o[c].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:n.u>=.5&&(n.u=0,++n.S),n.S>=60&&(n.S=0,++n.M),n.M>=60&&(n.M=0,++n.H);break;case 2:n.u>=.5&&(n.u=0,++n.S),n.S>=60&&(n.S=0,++n.M)}var v,y="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=function(e,t,r,a){var n,i="",s=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:n=l%100,c=2;break;default:n=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:n=r.m,c=t.length;break;case 3:return ut[r.m-1][1];case 5:return ut[r.m-1][0];default:return ut[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:n=r.d,c=t.length;break;case 3:return ue[r.q][0];default:return ue[r.q][1]}break;case 104:switch(t.length){case 1:case 2:n=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:n=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:n=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;if(0===r.u&&("s"==t||"ss"==t))return d5(r.S,t.length);if((s=Math.round((o=a>=2?3===a?1e3:100:1===a?10:1)*(r.S+r.u)))>=60*o&&(s=0),"s"===t)return 0===s?"0":""+s/o;if(i=d5(s,2+a),"ss"===t)return i.substr(0,2);return"."+i.substr(2,t.length-1);case 90:switch(t){case"[h]":case"[hh]":n=24*r.D+r.H;break;case"[m]":case"[mm]":n=(24*r.D+r.H)*60+r.M;break;case"[s]":case"[ss]":n=((24*r.D+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:n=l,c=1}return c>0?d5(n,c):""}(o[c].t.charCodeAt(0),o[c].v,n,b),o[c].t="t";break;case"n":case"?":for(v=c+1;null!=o[v]&&("?"===(d=o[v].t)||"D"===d||(" "===d||"t"===d)&&null!=o[v+1]&&("?"===o[v+1].t||"t"===o[v+1].t&&"/"===o[v+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[v].v||" "===o[v].v&&null!=o[v+1]&&"?"==o[v+1].t));)o[c].v+=o[v].v,o[v]={v:"",t:";"},++v;y+=o[c].v,c=v-1;break;case"G":o[c].t="t",o[c].v=uh(t,r)}var w,j,N="";if(y.length>0){40==y.charCodeAt(0)?(w=t<0&&45===y.charCodeAt(0)?-t:t,j=uN("n",y,w)):(j=uN("n",y,w=t<0&&a>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(j=j.substr(1),o[0].v="-"+o[0].v)),v=j.length-1;var E=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){E=c;break}var S=o.length;if(E===o.length&&-1===j.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(v>=o[c].v.length-1?(v-=o[c].v.length,o[c].v=j.substr(v+1,o[c].v.length)):v<0?o[c].v="":(o[c].v=j.substr(0,v+1),v=-1),o[c].t="t",S=c);v>=0&&S<o.length&&(o[S].v=j.substr(0,v+1)+o[S].v)}else if(E!==o.length&&-1===j.indexOf("E")){for(v=j.indexOf(".")-1,c=E;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(i=o[c].v.indexOf(".")>-1&&c===E?o[c].v.indexOf(".")-1:o[c].v.length-1,N=o[c].v.substr(i+1);i>=0;--i)v>=0&&("0"===o[c].v.charAt(i)||"#"===o[c].v.charAt(i))&&(N=j.charAt(v--)+N);o[c].v=N,o[c].t="t",S=c}for(v>=0&&S<o.length&&(o[S].v=j.substr(0,v+1)+o[S].v),v=j.indexOf(".")+1,c=E;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===E)){for(i=o[c].v.indexOf(".")>-1&&c===E?o[c].v.indexOf(".")+1:0,N=o[c].v.substr(0,i);i<o[c].v.length;++i)v<j.length&&(N+=j.charAt(v++));o[c].v=N,o[c].t="t",S=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=a>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=uN(o[c].t,o[c].v,w),o[c].t="t");var k="";for(c=0;c!==o.length;++c)null!=o[c]&&(k+=o[c].v);return k}(n[1],t,r,n[0])}function u_(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r){if(void 0==ur[r]){t<0&&(t=r);continue}if(ur[r]==e){t=r;break}}t<0&&(t=391)}return ur[t]=e,t}function uC(e){for(var t=0;392!=t;++t)void 0!==e[t]&&u_(e[t],t)}function uO(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',ur=e}var uP={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},uR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,uI=((d={}).version="1.2.0",h=(f=function(e){var t=0,r=0,a=0,n="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(a=0;256!=a;++a)n[a]=e[a];for(a=0;256!=a;++a)for(r=e[a],t=256+a;t<4096;t+=256)r=n[t]=r>>>8^e[255&r];var i=[];for(a=1;16!=a;++a)i[a-1]="undefined"!=typeof Int32Array?n.subarray(256*a,256*a+256):n.slice(256*a,256*a+256);return i}(u=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1)?-0x12477ce0^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}()))[0],p=f[1],m=f[2],x=f[3],g=f[4],b=f[5],v=f[6],y=f[7],w=f[8],j=f[9],N=f[10],E=f[11],S=f[12],k=f[13],T=f[14],d.table=u,d.bstr=function(e,t){for(var r=-1^t,a=0,n=e.length;a<n;)r=r>>>8^u[(r^e.charCodeAt(a++))&255];return~r},d.buf=function(e,t){for(var r=-1^t,a=e.length-15,n=0;n<a;)r=T[e[n++]^255&r]^k[e[n++]^r>>8&255]^S[e[n++]^r>>16&255]^E[e[n++]^r>>>24]^N[e[n++]]^j[e[n++]]^w[e[n++]]^y[e[n++]]^v[e[n++]]^b[e[n++]]^g[e[n++]]^x[e[n++]]^m[e[n++]]^p[e[n++]]^h[e[n++]]^u[e[n++]];for(a+=15;n<a;)r=r>>>8^u[(r^e[n++])&255];return~r},d.str=function(e,t){for(var r=-1^t,a=0,n=e.length,i=0,s=0;a<n;)(i=e.charCodeAt(a++))<128?r=r>>>8^u[(r^i)&255]:i<2048?r=(r=r>>>8^u[(r^(192|i>>6&31))&255])>>>8^u[(r^(128|63&i))&255]:i>=55296&&i<57344?(i=(1023&i)+64,s=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^u[(r^(240|i>>8&7))&255])>>>8^u[(r^(128|i>>2&63))&255])>>>8^u[(r^(128|s>>6&15|(3&i)<<4))&255])>>>8^u[(r^(128|63&s))&255]):r=(r=(r=r>>>8^u[(r^(224|i>>12&15))&255])>>>8^u[(r^(128|i>>6&63))&255])>>>8^u[(r^(128|63&i))&255];return~r},d),uD=function(){var e,t,r={};function a(e){if("/"==e.charAt(e.length-1))return -1===e.slice(0,-1).indexOf("/")?e:a(e.slice(0,-1));var t=e.lastIndexOf("/");return -1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return -1===t?e:e.slice(t+1)}function i(e){hy(e,0);for(var t={},r=0;e.l<=e.length-4;){var a=e.read_shift(2),n=e.read_shift(2),i=e.l+n,s={};21589===a&&(1&(r=e.read_shift(1))&&(s.mtime=e.read_shift(4)),n>5&&(2&r&&(s.atime=e.read_shift(4)),4&r&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime))),e.l=i,t[a]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return Z(e,t);if((32|e[0])==109&&(32|e[1])==105)return function(e,t){if("mime-version:"!=b(e.slice(0,13)).toLowerCase())throw Error("Unsupported MAD header");var r=t&&t.root||"",a=(dq&&dC.Buffer.isBuffer(e)?e.toString("binary"):b(e)).split("\r\n"),n=0,i="";for(n=0;n<a.length;++n)if((i=a[n],/^Content-Location:/i.test(i))&&(i=i.slice(i.indexOf("file")),r||(r=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),i.slice(0,r.length)!=r););var s=(a[1]||"").match(/boundary="(.*?)"/);if(!s)throw Error("MAD cannot find boundary");var o="--"+(s[1]||""),l={FileIndex:[],FullPaths:[]};c(l);var d,u=0;for(n=0;n<a.length;++n){var f=a[n];(f===o||f===o+"--")&&(u++&&function(e,t,r){for(var a,n="",i="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":n=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++o,i.toLowerCase()){case"base64":a=dZ(dG(t.slice(o).join("")));break;case"quoted-printable":a=function(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r];r<=e.length&&"="==a.charAt(a.length-1);)a=a.slice(0,a.length-1)+e[++r];t.push(a)}for(var n=0;n<t.length;++n)t[n]=t[n].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return dZ(t.join("\r\n"))}(t.slice(o));break;default:throw Error("Unsupported Content-Transfer-Encoding "+i)}var d=Q(e,n.slice(r.length),a,{unsafe:!0});s&&(d.ctype=s)}(l,a.slice(d,n),r),d=n)}return l}(e,t);if(e.length<512)throw Error("CFB file size "+e.length+" < 512");var r=3,a=512,n=0,i=0,s=0,o=0,d=0,u=[],m=e.slice(0,512);hy(m,0);var x=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(p,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(r=x[0]){case 3:a=512;break;case 4:a=4096;break;case 0:if(0==x[1])return Z(e,t);default:throw Error("Major Version: Expected 3 or 4 saw "+r)}512!==a&&hy(m=e.slice(0,a),28);var g=e.slice(0,a),v=m,y=r,w=9;switch(v.l+=2,w=v.read_shift(2)){case 9:if(3!=y)throw Error("Sector Shift: Expected 9 saw "+w);break;case 12:if(4!=y)throw Error("Sector Shift: Expected 12 saw "+w);break;default:throw Error("Sector Shift: Expected 9 or 12 saw "+w)}v.chk("0600","Mini Sector Shift: "),v.chk("000000000000","Reserved: ");var j=m.read_shift(4,"i");if(3===r&&0!==j)throw Error("# Directory Sectors: Expected 0 saw "+j);m.l+=4,s=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),o=m.read_shift(4,"i"),n=m.read_shift(4,"i"),d=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var N=-1,E=0;E<109&&!((N=m.read_shift(4,"i"))<0);++E)u[E]=N;var S=function(e,t){for(var r=Math.ceil(e.length/t)-1,a=[],n=1;n<r;++n)a[n-1]=e.slice(n*t,(n+1)*t);return a[r-1]=e.slice(r*t),a}(e,a);!function e(t,r,a,n,i){var s=h;if(t===h){if(0!==r)throw Error("DIFAT chain shorter than expected")}else if(-1!==t){var o=a[t],l=(n>>>2)-1;if(!o)return;for(var c=0;c<l&&(s=hh(o,4*c))!==h;++c)i.push(s);e(hh(o,n-4),r-1,a,n,i)}}(d,i,S,a,u);var k=function(e,t,r,a){var n=e.length,i=[],s=[],o=[],l=[],c=a-1,d=0,u=0,f=0,h=0;for(d=0;d<n;++d)if(o=[],(f=d+t)>=n&&(f-=n),!s[f]){l=[];var p=[];for(u=f;u>=0;){p[u]=!0,s[u]=!0,o[o.length]=u,l.push(e[u]);var m=r[Math.floor(4*u/a)];if(a<4+(h=4*u&c))throw Error("FAT boundary crossed: "+u+" 4 "+a);if(!e[m]||p[u=hh(e[m],h)])break}i[f]={nodes:o,data:fQ([l])}}return i}(S,s,u,a);k[s].name="!Directory",n>0&&o!==h&&(k[o].name="!MiniFAT"),k[u[0]].name="!FAT",k.fat_addrs=u,k.ssz=a;var T=[],A=[],_=[];(function(e,t,r,a,n,i,s,o){for(var c,d=0,u=2*!!a.length,p=t[e].data,m=0,x=0;m<p.length;m+=128){var g=p.slice(m,m+128);hy(g,64),x=g.read_shift(2),c=f1(g,0,x-u),a.push(c);var b={name:c,type:g.read_shift(1),color:g.read_shift(1),L:g.read_shift(4,"i"),R:g.read_shift(4,"i"),C:g.read_shift(4,"i"),clsid:g.read_shift(16),state:g.read_shift(4,"i"),start:0,size:0};0!==g.read_shift(2)+g.read_shift(2)+g.read_shift(2)+g.read_shift(2)&&(b.ct=l(g,g.l-8)),0!==g.read_shift(2)+g.read_shift(2)+g.read_shift(2)+g.read_shift(2)&&(b.mt=l(g,g.l-8)),b.start=g.read_shift(4,"i"),b.size=g.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=h,b.name=""),5===b.type?(d=b.start,n>0&&d!==h&&(t[d].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=function(e,t,r,a,n){var i=[],s=[];n||(n=[]);var o=a-1,l=0,c=0;for(l=t;l>=0;){n[l]=!0,i[i.length]=l,s.push(e[l]);var d=r[Math.floor(4*l/a)];if(a<4+(c=4*l&o))throw Error("FAT boundary crossed: "+l+" 4 "+a);if(!e[d])break;l=hh(e[d],c)}return{nodes:i,data:fQ([s])}}(r,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:d!==h&&b.start!==h&&t[d]&&(b.content=function(e,t,r){for(var a=e.start,n=e.size,i=[],s=a;r&&n>0&&s>=0;)i.push(t.slice(s*f,s*f+f)),n-=f,s=hh(r,4*s);return 0===i.length?hj(0):d1(i).slice(0,e.size)}(b,t[d].data,(t[o]||{}).data))),b.content&&hy(b.content,0),i[c]=b,s.push(b)}})(s,k,S,T,n,{},A,o),function(e,t,r){for(var a=0,n=0,i=0,s=0,o=0,l=r.length,c=[],d=[];a<l;++a)c[a]=d[a]=a,t[a]=r[a];for(;o<d.length;++o)n=e[a=d[o]].L,i=e[a].R,s=e[a].C,c[a]===a&&(-1!==n&&c[n]!==n&&(c[a]=c[n]),-1!==i&&c[i]!==i&&(c[a]=c[i])),-1!==s&&(c[s]=a),-1!==n&&a!=c[a]&&(c[n]=c[a],d.lastIndexOf(n)<o&&d.push(n)),-1!==i&&a!=c[a]&&(c[i]=c[a],d.lastIndexOf(i)<o&&d.push(i));for(a=1;a<l;++a)c[a]===a&&(-1!==i&&c[i]!==i?c[a]=c[i]:-1!==n&&c[n]!==n&&(c[a]=c[n]));for(a=1;a<l;++a)if(0!==e[a].type){if((o=a)!=c[o])do o=c[o],t[a]=t[o]+"/"+t[a];while(0!==o&&-1!==c[o]&&o!=c[o])c[a]=-1}for(t[0]+="/",a=1;a<l;++a)2!==e[a].type&&(t[a]+="/")}(A,_,T),T.shift();var C={FileIndex:A,FullPaths:_};return t&&t.raw&&(C.raw={header:g,sectors:S}),C}function l(e,t){return new Date((hf(e,t+4)/1e7*0x100000000+hf(e,t)/1e7-0x2b6109100)*1e3)}function c(e,t){var r=t||{},a=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=a+"/",e.FileIndex[0]={name:a,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if(!uD.find(e,"/"+t)){var r=hj(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),d(e)}}(e)}function d(e,t){c(e);for(var r=!1,i=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:i?r=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(o.R*o.L*o.C)&&(r=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(r=!0);break;default:r=!0}}if(r||t){var l=new Date(1987,1,19),d=0,u=Object.create?Object.create(null):{},f=[];for(s=0;s<e.FullPaths.length;++s)u[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&f.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<f.length;++s){var h=a(f[s][0]);(i=u[h])||(f.push([h,{name:n(h).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),u[h]=!0)}for(f.sort(function(e,t){return function(e,t){for(var r=e.split("/"),a=t.split("/"),n=0,i=0,s=Math.min(r.length,a.length);n<s;++n){if(i=r[n].length-a[n].length)return i;if(r[n]!=a[n])return r[n]<a[n]?-1:1}return r.length-a.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],s=0;s<f.length;++s)e.FullPaths[s]=f[s][0],e.FileIndex[s]=f[s][1];for(s=0;s<f.length;++s){var p=e.FileIndex[s],m=e.FullPaths[s];if(p.name=n(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||x,0===s)p.C=f.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(d=s+1;d<f.length&&a(e.FullPaths[d])!=m;++d);for(p.C=d>=f.length?-1:d,d=s+1;d<f.length&&a(e.FullPaths[d])!=a(m);++d);p.R=d>=f.length?-1:d,p.type=1}else a(e.FullPaths[s+1]||"")==a(m)&&(p.R=s+1),p.type=2}}}function u(e,r){var a=r||{};if("mad"==a.fileType)return function(e,t){for(var r=t||{},a=r.boundary||"SheetJS",n=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(a="------="+a).slice(2)+'"',"","",""],i=e.FullPaths[0],s=i,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(i.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,d=dq&&dC.Buffer.isBuffer(c)?c.toString("binary"):b(c),u=0,f=Math.min(1024,d.length),h=0,p=0;p<=f;++p)(h=d.charCodeAt(p))>=32&&h<128&&++u;var m=u>=4*f/5;n.push(a),n.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+s),n.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),n.push("Content-Type: "+function(e,t){if(e.ctype)return e.ctype;var r=e.name||"",a=r.match(/\.([^\.]+)$/);return a&&J[a[1]]||t&&(a=(r=t).match(/[\.\\]([^\.\\])+$/))&&J[a[1]]?J[a[1]]:"application/octet-stream"}(o,s)),n.push(""),n.push(m?function(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/mg,"=20").replace(/\t$/mg,"=09")).charAt(0)&&(t="=0D"+t.slice(1)),t=t.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,"\n=0A").replace(/([^\r\n])\n/mg,"$1=0A");for(var r=[],a=t.split("\r\n"),n=0;n<a.length;++n){var i=a[n];if(0==i.length){r.push("");continue}for(var s=0;s<i.length;){var o=76,l=i.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=i.slice(s,s+o),(s+=o)<i.length&&(l+="="),r.push(l)}}return r.join("\r\n")}(d):function(e){for(var t=dW(e),r=[],a=0;a<t.length;a+=76)r.push(t.slice(a,a+76));return r.join("\r\n")+"\r\n"}(d))}return n.push(a+"--\r\n"),n.join("\r\n")}(e,a);if(d(e),"zip"===a.fileType)return function(e,r){var a=[],n=[],i=hj(1),s=8*!!(r||{}).compression,o=0,l=0,c=0,d=0,u=e.FullPaths[0],f=u,h=e.FileIndex[0],p=[],m=0;for(o=1;o<e.FullPaths.length;++o)if(f=e.FullPaths[o].slice(u.length),(h=e.FileIndex[o]).size&&h.content&&"\x01Sh33tJ5"!=f){var x,g=c,b=hj(f.length);for(l=0;l<f.length;++l)b.write_shift(1,127&f.charCodeAt(l));b=b.slice(0,b.l),p[d]=uI.buf(h.content,0);var v=h.content;8==s&&(x=v,v=t?t.deflateRawSync(x):V(x)),(i=hj(30)).write_shift(4,0x4034b50),i.write_shift(2,20),i.write_shift(2,0),i.write_shift(2,s),h.mt?function(e,t){"string"==typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var a=t.getFullYear()-1980;a=(a=a<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,a)}(i,h.mt):i.write_shift(4,0),i.write_shift(-4,(0,p[d])),i.write_shift(4,(0,v.length)),i.write_shift(4,(0,h.content.length)),i.write_shift(2,b.length),i.write_shift(2,0),c+=i.length,a.push(i),c+=b.length,a.push(b),c+=v.length,a.push(v),(i=hj(46)).write_shift(4,0x2014b50),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,0),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(-4,p[d]),i.write_shift(4,v.length),i.write_shift(4,h.content.length),i.write_shift(2,b.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,g),m+=i.l,n.push(i),m+=b.length,n.push(b),++d}return(i=hj(22)).write_shift(4,0x6054b50),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,d),i.write_shift(2,d),i.write_shift(4,m),i.write_shift(4,c),i.write_shift(2,0),d1([d1(a),d1(n),i])}(e,a);var n=function(e){for(var t=0,r=0,a=0;a<e.FileIndex.length;++a){var n=e.FileIndex[a];if(n.content){var i=n.content.length;i>0&&(i<4096?t+=i+63>>6:r+=i+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+7>>3,l=t+127>>7,c=o+r+s+l,d=c+127>>7,u=d<=109?0:Math.ceil((d-109)/127);c+d+u+127>>7>d;)u=++d<=109?0:Math.ceil((d-109)/127);var f=[1,u,d,l,s,r,t,0];return e.FileIndex[0].size=t<<6,f[7]=(e.FileIndex[0].start=f[0]+f[1]+f[2]+f[3]+f[4]+f[5])+(f[6]+7>>3),f}(e),i=hj(n[7]<<9),s=0,o=0;for(s=0;s<8;++s)i.write_shift(1,m[s]);for(s=0;s<8;++s)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),s=0;s<3;++s)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,n[2]),i.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:h),i.write_shift(4,n[3]),i.write_shift(-4,n[1]?n[0]-1:h),i.write_shift(4,n[1]),s=0;s<109;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);if(n[1])for(o=0;o<n[1];++o){for(;s<236+127*o;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);i.write_shift(-4,o===n[1]-1?h:o+1)}var l=function(e){for(o+=e;s<o-1;++s)i.write_shift(-4,s+1);e&&(++s,i.write_shift(-4,h))};for(o=(s=0)+n[1];s<o;++s)i.write_shift(-4,g.DIFSECT);for(o+=n[2];s<o;++s)i.write_shift(-4,g.FATSECT);l(n[3]),l(n[4]);for(var c=0,u=0,f=e.FileIndex[0];c<e.FileIndex.length;++c)(f=e.FileIndex[c]).content&&((u=f.content.length)<4096||(f.start=o,l(u+511>>9)));for(l(n[6]+7>>3);511&i.l;)i.write_shift(-4,g.ENDOFCHAIN);for(c=0,o=s=0;c<e.FileIndex.length;++c)(f=e.FileIndex[c]).content&&(u=f.content.length)&&!(u>=4096)&&(f.start=o,l(u+63>>6));for(;511&i.l;)i.write_shift(-4,g.ENDOFCHAIN);for(s=0;s<n[4]<<2;++s){var p=e.FullPaths[s];if(!p||0===p.length){for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0);continue}f=e.FileIndex[s],0===s&&(f.start=f.size?f.start-1:h);var x=0===s&&a.root||f.name;if(u=2*(x.length+1),i.write_shift(64,x,"utf16le"),i.write_shift(2,u),i.write_shift(1,f.type),i.write_shift(1,f.color),i.write_shift(-4,f.L),i.write_shift(-4,f.R),i.write_shift(-4,f.C),f.clsid)i.write_shift(16,f.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,f.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,f.start),i.write_shift(4,f.size),i.write_shift(4,0)}for(s=1;s<e.FileIndex.length;++s)if((f=e.FileIndex[s]).size>=4096)if(i.l=f.start+1<<9,dq&&dC.Buffer.isBuffer(f.content))f.content.copy(i,i.l,0,f.size),i.l+=f.size+511&-512;else{for(c=0;c<f.size;++c)i.write_shift(1,f.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((f=e.FileIndex[s]).size>0&&f.size<4096)if(dq&&dC.Buffer.isBuffer(f.content))f.content.copy(i,i.l,0,f.size),i.l+=f.size+63&-64;else{for(c=0;c<f.size;++c)i.write_shift(1,f.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(dq)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}r.version="1.2.1";var f=64,h=-2,p="d0cf11e0a1b11ae1",m=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",g={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:-2,FREESECT:-1,HEADER_SIGNATURE:p,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function b(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}for(var v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],j="undefined"!=typeof Uint8Array,N=j?new Uint8Array(256):[],E=0;E<256;++E)N[E]=function(e){var t=(e<<1|e<<11)&139536|(e<<5|e<<15)&558144;return(t>>16|t>>8|t)&255}(E);function S(e,t){var r=7&t,a=t>>>3;return(e[a]|(r<=5?0:e[a+1]<<8))>>>r&7}function k(e,t){var r=7&t,a=t>>>3;return(e[a]|(r<=3?0:e[a+1]<<8))>>>r&31}function T(e,t){var r=7&t,a=t>>>3;return(e[a]|(r<=1?0:e[a+1]<<8))>>>r&127}function A(e,t,r){var a=7&t,n=t>>>3,i=(1<<r)-1,s=e[n]>>>a;return r<8-a||(s|=e[n+1]<<8-a,r<16-a||(s|=e[n+2]<<16-a,r<24-a))?s&i:(s|=e[n+3]<<24-a)&i}function _(e,t,r){var a=7&t,n=t>>>3;return a<=5?e[n]|=(7&r)<<a:(e[n]|=r<<a&255,e[n+1]=(7&r)>>8-a),t+3}function C(e,t,r){var a=t>>>3;return r<<=7&t,e[a]|=255&r,r>>>=8,e[a+1]=r,t+8}function O(e,t,r){var a=t>>>3;return r<<=7&t,e[a]|=255&r,r>>>=8,e[a+1]=255&r,e[a+2]=r>>>8,t+16}function P(e,t){var r=e.length,a=2*r>t?2*r:t+5,n=0;if(r>=t)return e;if(dq){var i=dX(a);if(e.copy)e.copy(i);else for(;n<e.length;++n)i[n]=e[n];return i}if(j){var s=new Uint8Array(a);if(s.set)s.set(e);else for(;n<r;++n)s[n]=e[n];return s}return e.length=a,e}function R(e){for(var t=Array(e),r=0;r<e;++r)t[r]=0;return t}function I(e,t,r){var a=1,n=0,i=0,s=0,o=0,l=e.length,c=j?new Uint16Array(32):R(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<r;++i)e[i]=0;l=e.length;var d=j?new Uint16Array(l):R(l);for(i=0;i<l;++i)c[n=e[i]]++,a<n&&(a=n),d[i]=0;for(i=1,c[0]=0;i<=a;++i)c[i+16]=o=o+c[i-1]<<1;for(i=0;i<l;++i)0!=(o=e[i])&&(d[i]=c[o+16]++);var u=0;for(i=0;i<l;++i)if(0!=(u=e[i]))for(o=function(e,t){var r=N[255&e];return t<=8?r>>>8-t:(r=r<<8|N[e>>8&255],t<=16)?r>>>16-t:(r=r<<8|N[e>>16&255])>>>24-t}(d[i],a)>>a-u,s=(1<<a+4-u)-1;s>=0;--s)t[o|s<<u]=15&u|i<<4;return a}var D=j?new Uint16Array(512):R(512),M=j?new Uint16Array(32):R(32);if(!j){for(var L=0;L<512;++L)D[L]=0;for(L=0;L<32;++L)M[L]=0}for(var F=[],U=0;U<32;U++)F.push(5);I(F,M,32);var z=[];for(U=0;U<=143;U++)z.push(8);for(;U<=255;U++)z.push(9);for(;U<=279;U++)z.push(7);for(;U<=287;U++)z.push(8);I(z,D,288);var B=function(){for(var e=j?new Uint8Array(32768):[],t=0,r=0;t<w.length-1;++t)for(;r<w[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var a=j?new Uint8Array(259):[];for(t=0,r=0;t<y.length-1;++t)for(;r<y[t+1];++r)a[r]=t;return function(t,r){if(t.length<8){for(var n=0;n<t.length;){var i=Math.min(65535,t.length-n),s=n+i==t.length;for(r.write_shift(1,+s),r.write_shift(2,i),r.write_shift(2,65535&~i);i-- >0;)r[r.l++]=t[n++]}return r.l}return function(t,r){for(var n=0,i=0,s=j?new Uint16Array(32768):[];i<t.length;){var o=Math.min(65535,t.length-i);if(o<10){for(7&(n=_(r,n,+(i+o==t.length)))&&(n+=8-(7&n)),r.l=n/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[i++];n=8*r.l;continue}n=_(r,n,+(i+o==t.length)+2);for(var l=0;o-- >0;){var c,d,u=t[i],f=-1,h=0;if((f=s[l=(l<<5^u)&32767])&&((f|=-32768&i)>i&&(f-=32768),f<i))for(;t[f+h]==t[i+h]&&h<250;)++h;if(h>2){(u=a[h])<=22?n=C(r,n,N[u+1]>>1)-1:(C(r,n,3),C(r,n+=5,N[u-23]>>5),n+=3);var p=u<8?0:u-4>>2;p>0&&(O(r,n,h-y[u]),n+=p),n=C(r,n,N[u=e[i-f]]>>3)-3;var m=u<4?0:u-2>>1;m>0&&(O(r,n,i-f-w[u]),n+=m);for(var x=0;x<h;++x)s[l]=32767&i,l=(l<<5^t[i])&32767,++i;o-=h-1}else u<=143?u+=48:(d=(1&(d=1))<<(7&(c=n)),r[c>>>3]|=d,n=c+1),n=C(r,n,N[u]),s[l]=32767&i,++i}n=C(r,n,0)-1}return r.l=(n+7)/8|0,r.l}(t,r)}}();function V(e){var t=hj(50+Math.floor(1.1*e.length)),r=B(e,t);return t.slice(0,r)}var H=j?new Uint16Array(32768):R(32768),W=j?new Uint16Array(32768):R(32768),G=j?new Uint16Array(128):R(128),q=1,K=1;function Y(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[dY(t),2];for(var r=0,a=0,n=dX(t||262144),i=0,s=n.length>>>0,o=0,l=0;(1&a)==0;){if(a=S(e,r),r+=3,a>>>1==0){7&r&&(r+=8-(7&r));var c=e[r>>>3]|e[(r>>>3)+1]<<8;if(r+=32,c>0)for(!t&&s<i+c&&(s=(n=P(n,i+c)).length);c-- >0;)n[i++]=e[r>>>3],r+=8;continue}for(a>>1==1?(o=9,l=5):(r=function(e,t){var r,a,n,i=k(e,t)+257,s=k(e,t+=5)+1;t+=5;var o=(a=7&(r=t),((e[n=r>>>3]|(a<=4?0:e[n+1]<<8))>>>a&15)+4);t+=4;for(var l=0,c=j?new Uint8Array(19):R(19),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=1,f=j?new Uint8Array(8):R(8),h=j?new Uint8Array(8):R(8),p=c.length,m=0;m<o;++m)c[v[m]]=l=S(e,t),u<l&&(u=l),f[l]++,t+=3;var x=0;for(m=1,f[0]=0;m<=u;++m)h[m]=x=x+f[m-1]<<1;for(m=0;m<p;++m)0!=(x=c[m])&&(d[m]=h[x]++);var g=0;for(m=0;m<p;++m)if(0!=(g=c[m])){x=N[d[m]]>>8-g;for(var b=(1<<7-g)-1;b>=0;--b)G[x|b<<g]=7&g|m<<3}var y=[];for(u=1;y.length<i+s;)switch(x=G[T(e,t)],t+=7&x,x>>>=3){case 16:for(l=3+function(e,t){var r=7&t,a=t>>>3;return(e[a]|(r<=6?0:e[a+1]<<8))>>>r&3}(e,t),t+=2,x=y[y.length-1];l-- >0;)y.push(x);break;case 17:for(l=3+S(e,t),t+=3;l-- >0;)y.push(0);break;case 18:for(l=11+T(e,t),t+=7;l-- >0;)y.push(0);break;default:y.push(x),u<x&&(u=x)}var w=y.slice(0,i),E=y.slice(i);for(m=i;m<286;++m)w[m]=0;for(m=s;m<30;++m)E[m]=0;return q=I(w,H,286),K=I(E,W,30),t}(e,r),o=q,l=K);;){!t&&s<i+32767&&(s=(n=P(n,i+32767)).length);var d=A(e,r,o),u=a>>>1==1?D[d]:H[d];if(r+=15&u,((u>>>=4)>>>8&255)==0)n[i++]=u;else if(256==u)break;else{var f=(u-=257)<8?0:u-4>>2;f>5&&(f=0);var h=i+y[u];f>0&&(h+=A(e,r,f),r+=f),d=A(e,r,l),r+=15&(u=a>>>1==1?M[d]:W[d]);var p=(u>>>=4)<4?0:u-2>>1,m=w[u];for(p>0&&(m+=A(e,r,p),r+=p),!t&&s<h&&(s=(n=P(n,h+100)).length);i<h;)n[i]=n[i-m],++i}}}return t?[n,r+7>>>3]:[n.slice(0,i),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function X(e,t){if(e)"undefined"!=typeof console&&console.error(t);else throw Error(t)}function Z(e,r){hy(e,0);var a={FileIndex:[],FullPaths:[]};c(a,{root:r.root});for(var n=e.length-4;(80!=e[n]||75!=e[n+1]||5!=e[n+2]||6!=e[n+3])&&n>=0;)--n;e.l=n+4,e.l+=4;var s=e.read_shift(2);e.l+=6;var o=e.read_shift(4);for(n=0,e.l=o;n<s;++n){e.l+=20;var l=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),f=e.read_shift(2),h=e.read_shift(2);e.l+=8;var p=e.read_shift(4),m=i(e.slice(e.l+u,e.l+u+f));e.l+=u+f+h;var x=e.l;e.l=p+4,function(e,r,a,n,s){e.l+=2;var o,l,c,d,u,f,h,p=e.read_shift(2),m=e.read_shift(2),x=(o=65535&e.read_shift(2),l=65535&e.read_shift(2),c=new Date,d=31&l,u=15&(l>>>=5),l>>>=4,c.setMilliseconds(0),c.setFullYear(l+1980),c.setMonth(u-1),c.setDate(d),f=31&o,h=63&(o>>>=5),o>>>=6,c.setHours(o),c.setMinutes(h),c.setSeconds(f<<1),c);if(8257&p)throw Error("Unsupported ZIP encryption");for(var g=e.read_shift(4),b=e.read_shift(4),v=e.read_shift(4),y=e.read_shift(2),w=e.read_shift(2),j="",N=0;N<y;++N)j+=String.fromCharCode(e[e.l++]);if(w){var E=i(e.slice(e.l,e.l+w));(E[21589]||{}).mt&&(x=E[21589].mt),((s||{})[21589]||{}).mt&&(x=s[21589].mt)}e.l+=w;var S=e.slice(e.l,e.l+b);switch(m){case 8:S=function(e,r){if(!t)return Y(e,r);var a=new t.InflateRaw,n=a._processChunk(e.slice(e.l),a._finishFlushFlag);return e.l+=a.bytesRead,n}(e,v);break;case 0:break;default:throw Error("Unsupported ZIP Compression method "+m)}var k=!1;8&p&&(0x8074b50==e.read_shift(4)&&(e.read_shift(4),k=!0),b=e.read_shift(4),v=e.read_shift(4)),b!=r&&X(k,"Bad compressed size: "+r+" != "+b),v!=a&&X(k,"Bad uncompressed size: "+a+" != "+v),Q(n,j,S,{unsafe:!0,mt:x})}(e,l,d,a,m),e.l=x}return a}var J={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Q(e,t,r,a){var i=a&&a.unsafe;i||c(e);var s=!i&&uD.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:n(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),i||uD.utils.cfb_gc(e)}return s.content=r,s.size=r?r.length:0,a&&(a.CLSID&&(s.clsid=a.CLSID),a.mt&&(s.mt=a.mt),a.ct&&(s.ct=a.ct)),s}return r.find=function(e,t){var r=e.FullPaths.map(function(e){return e.toUpperCase()}),a=r.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),n=!1;47===t.charCodeAt(0)?(n=!0,t=r[0].slice(0,-1)+t):n=-1!==t.indexOf("/");var i=t.toUpperCase(),s=!0===n?r.indexOf(i):a.indexOf(i);if(-1!==s)return e.FileIndex[s];var o=!i.match(d4);for(i=i.replace(d2,""),o&&(i=i.replace(d4,"!")),s=0;s<r.length;++s)if((o?r[s].replace(d4,"!"):r[s]).replace(d2,"")==i||(o?a[s].replace(d4,"!"):a[s]).replace(d2,"")==i)return e.FileIndex[s];return null},r.read=function(t,r){var a=r&&r.type;switch(!a&&dq&&dC.Buffer.isBuffer(t)&&(a="buffer"),a||"base64"){case"file":return s(),o(e.readFileSync(t),r);case"base64":return o(dZ(dG(t)),r);case"binary":return o(dZ(t),r)}return o(t,r)},r.parse=o,r.write=function(t,r){var a=u(t,r);switch(r&&r.type||"buffer"){case"file":s(),e.writeFileSync(r.filename,a);break;case"binary":return"string"==typeof a?a:b(a);case"base64":return dW("string"==typeof a?a:b(a));case"buffer":if(dq)return dC.Buffer.isBuffer(a)?a:dK(a);case"array":return"string"==typeof a?dZ(a):a}return a},r.writeFile=function(t,r,a){s();var n=u(t,a);e.writeFileSync(r,n)},r.utils={cfb_new:function(e){var t={};return c(t,e),t},cfb_add:Q,cfb_del:function(e,t){c(e);var r=uD.find(e,t);if(r){for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==r)return e.FileIndex.splice(a,1),e.FullPaths.splice(a,1),!0}return!1},cfb_mov:function(e,t,r){c(e);var a=uD.find(e,t);if(a){for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=n(r),e.FullPaths[i]=r,!0}return!1},cfb_gc:function(e){d(e,!0)},ReadShift:hp,CheckField:hv,prep_blob:hy,bconcat:d1,use_zlib:function(e){try{var r=new e.InflateRaw;if(r._processChunk(new Uint8Array([3,0]),r._finishFlushFlag),r.bytesRead)t=e;else throw Error("zlib does not expose bytesRead")}catch(e){console.error("cannot use native zlib: "+(e.message||e))}},_deflateRaw:V,_inflateRaw:Y,consts:g},r}();function uM(e,t,r){if(void 0!==n&&n.writeFileSync)return r?n.writeFileSync(e,t,r):n.writeFileSync(e,t);if("undefined"!=typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=dJ(t);break;default:throw Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a="utf8"==r?f_(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(a,e);if("undefined"!=typeof Blob){var i=new Blob([function(e){if("string"==typeof e)return dJ(e);if(Array.isArray(e)){if("undefined"==typeof Uint8Array)throw Error("Unsupported");return new Uint8Array(e)}return e}(a)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!=typeof saveAs)return saveAs(i,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=dQ(t)),l.write(t),l.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw Error("cannot save file "+e)}function uL(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function uF(e,t){for(var r=[],a=uL(e),n=0;n!==a.length;++n)null==r[e[a[n]][t]]&&(r[e[a[n]][t]]=a[n]);return r}function uU(e){for(var t=[],r=uL(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function uz(e){for(var t=[],r=uL(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}var uB=new Date(1899,11,30,0,0,0);function uV(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(uB.getTime()+(e.getTimezoneOffset()-uB.getTimezoneOffset())*6e4))/864e5}var u$=new Date,uH=uB.getTime()+(u$.getTimezoneOffset()-uB.getTimezoneOffset())*6e4,uW=u$.getTimezoneOffset();function uG(e){var t=new Date;return t.setTime(24*e*36e5+uH),t.getTimezoneOffset()!==uW&&t.setTime(t.getTime()+(t.getTimezoneOffset()-uW)*6e4),t}var uq=new Date("2017-02-19T19:06:09.000Z"),uK=isNaN(uq.getFullYear())?new Date("2/19/17"):uq,uY=2017==uK.getFullYear();function uX(e,t){var r=new Date(e);if(uY)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==uK.getFullYear()&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function uZ(e,t){if(dq&&dC.Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return f_(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return f_(dz(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return f_(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return f_(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"",:"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return r[e]||e})}catch(e){}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function uJ(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=uJ(e[r]));return t}function uQ(e,t){for(var r="";r.length<t;)r+=e;return r}function u0(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return isNaN(t=Number(a))&&isNaN(t=Number(a=a.replace(/[(](.*)[)]/,function(e,t){return r=-r,t})))?t:t/r}var u1=["january","february","march","april","may","june","july","august","september","october","november","december"];function u2(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==u1.indexOf(s))return r}else if(s.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&101!=a?t:e.match(/[^-0-9:,\/\\]/)?r:t}var u4=(A=5=="abacaba".split(/(:?b)/i).length,function(e,t,r){if(A||"string"==typeof t)return e.split(t);for(var a=e.split(t),n=[a[0]],i=1;i<a.length;++i)n.push(r),n.push(a[i]);return n});function u3(e){return e?e.content&&e.type?uZ(e.content,!0):e.data?dB(e.data):e.asNodeBuffer&&dq?dB(e.asNodeBuffer().toString("binary")):e.asBinary?dB(e.asBinary()):e._data&&e._data.getContent?dB(uZ(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function u5(e){if(!e)return null;if(e.data)return dU(e.data);if(e.asNodeBuffer&&dq)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?dU(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function u6(e,t){for(var r=e.FullPaths||uL(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==s||n==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function u8(e,t){var r=u6(e,t);if(null==r)throw Error("Cannot find file "+t+" in zip");return r}function u7(e,t,r){if(!r){var a;return(a=u8(e,t))&&".bin"===a.name.slice(-4)?u5(a):u3(a)}if(!t)return null;try{return u7(e,t)}catch(e){return null}}function u9(e,t,r){if(!r)return u3(u8(e,t));if(!t)return null;try{return u9(e,t)}catch(e){return null}}function fe(e){for(var t=e.FullPaths||uL(e.files),r=[],a=0;a<t.length;++a)"/"!=t[a].slice(-1)&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function ft(e,t,r){if(e.FullPaths){if("string"==typeof r){var a;return a=dq?dK(r):function(e){for(var t=[],r=0,a=e.length+250,n=dY(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)n[r++]=s;else if(s<2048)n[r++]=192|s>>6&31,n[r++]=128|63&s;else if(s>=55296&&s<57344){s=(1023&s)+64;var o=1023&e.charCodeAt(++i);n[r++]=240|s>>8&7,n[r++]=128|s>>2&63,n[r++]=128|o>>6&15|(3&s)<<4,n[r++]=128|63&o}else n[r++]=224|s>>12&15,n[r++]=128|s>>6&63,n[r++]=128|63&s;r>a&&(t.push(n.slice(0,r)),r=0,n=dY(65535),a=65530)}return t.push(n.slice(0,r)),d1(t)}(r),uD.utils.cfb_add(e,t,a)}uD.utils.cfb_add(e,t,r)}else e.file(t,r)}function fr(){return uD.utils.cfb_new()}function fa(e,t){switch(t.type){case"base64":return uD.read(e,{type:"base64"});case"binary":return uD.read(e,{type:"binary"});case"buffer":case"array":return uD.read(e,{type:"buffer"})}throw Error("Unrecognized type "+t.type)}function fn(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var a=e.split("/");0!==a.length;){var n=a.shift();".."===n?r.pop():"."!==n&&r.push(n)}return r.join("/")}var fi='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',fs=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fo=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,fl=fi.match(fo)?fo:/<[^>]*>/g,fc=/<\w*:/,fd=/<(\/?)\w+:/;function fu(e,t,r){for(var a={},n=0,i=0;n!==e.length&&32!==(i=e.charCodeAt(n))&&10!==i&&13!==i;++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var s=e.match(fs),o=0,l="",c=0,d="",u="",f=1;if(s)for(c=0;c!=s.length;++c){for(i=0,u=s[c];i!=u.length&&61!==u.charCodeAt(i);++i);for(d=u.slice(0,i).trim();32==u.charCodeAt(i+1);)++i;for(o=0,f=+(34==(n=u.charCodeAt(i+1))||39==n),l=u.slice(i+1+f,u.length-f);o!=d.length&&58!==d.charCodeAt(o);++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),a[d]=l,r||(a[d.toLowerCase()]=l);else{var h=(5===o&&"xmlns"===d.slice(0,5)?"xmlns":"")+d.slice(o+1);if(a[h]&&"ext"==d.slice(o-3,o))continue;a[h]=l,r||(a[h.toLowerCase()]=l)}}return a}function ff(e){return e.replace(fd,"<$1")}var fh={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fp=uU(fh),fm=(_=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,C=/_x([\da-fA-F]{4})_/ig,function e(t){var r=t+"",a=r.indexOf("<![CDATA[");if(-1==a)return r.replace(_,function(e,t){return fh[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e}).replace(C,function(e,t){return String.fromCharCode(parseInt(t,16))});var n=r.indexOf("]]>");return e(r.slice(0,a))+r.slice(a+9,n)+e(r.slice(n+3))}),fx=/[&<>'"]/g,fg=/[\u0000-\u0008\u000b-\u001f]/g;function fb(e){return(e+"").replace(fx,function(e){return fp[e]}).replace(fg,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fv(e){return fb(e).replace(/ /g,"_x0020_")}var fy=/[\u0000-\u001f]/g;function fw(e){return(e+"").replace(fx,function(e){return fp[e]}).replace(/\n/g,"<br/>").replace(fy,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var fj=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function fN(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fE(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0;r<e.length;){if((a=e.charCodeAt(r++))<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){t+=String.fromCharCode((31&a)<<6|63&n);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((15&a)<<12|(63&n)<<6|63&i);continue}t+=String.fromCharCode(55296+((o=((7&a)<<18|(63&n)<<12|(63&i)<<6|63&e.charCodeAt(r++))-65536)>>>10&1023)),t+=String.fromCharCode(56320+(1023&o))}return t}function fS(e){var t,r,a,n=dY(2*e.length),i=1,s=0,o=0;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?t=a:a<224?(t=(31&a)*64+(63&e.charCodeAt(r+1)),i=2):a<240?(t=(15&a)*4096+(63&e.charCodeAt(r+1))*64+(63&e.charCodeAt(r+2)),i=3):(i=4,o=55296+((t=(7&a)*262144+(63&e.charCodeAt(r+1))*4096+(63&e.charCodeAt(r+2))*64+(63&e.charCodeAt(r+3))-65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(n[s++]=255&o,n[s++]=o>>>8,o=0),n[s++]=t%256,n[s++]=t>>>8;return n.slice(0,s).toString("ucs2")}function fk(e){return dK(e,"binary").toString("utf8")}var fT="foo bar baz",fA=dq&&(fk(fT)==fE(fT)&&fk||fS(fT)==fE(fT)&&fS)||fE,f_=dq?function(e){return dK(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(63&a)));break;case a>=55296&&a<57344:a-=55296,t.push(String.fromCharCode(240+((n=e.charCodeAt(r++)-56320+(a<<10))>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)))}return t.join("")},fC=(O={},function(e,t){var r=e+"|"+(t||"");return O[r]?O[r]:O[r]=RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",t||"")}),fO=(P=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[RegExp("&"+e[0]+";","ig"),e[1]]}),function(e){for(var t=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<P.length;++r)t=t.replace(P[r][0],P[r][1]);return t}),fP=(R={},function(e){return void 0!==R[e]?R[e]:R[e]=RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}),fR=/<\/?(?:vt:)?variant>/g,fI=/<(?:vt:)([^>]*)>([\s\S]*)</;function fD(e,t){var r=fu(e),a=e.match(fP(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(e){var t=e.replace(fR,"").match(fI);t&&n.push({v:fA(t[2]),t:t[1]})}),n}var fM=/(^\s|\s$|\n)/;function fL(e,t){return"<"+e+(t.match(fM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function fF(e){return uL(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function fU(e,t,r){return"<"+e+(null!=r?fF(r):"")+(null!=t?(t.match(fM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function fz(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function fB(e){if(dq&&dC.Buffer.isBuffer(e))return e.toString("utf8");if("string"==typeof e)return e;if("undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return fA(dQ(d0(e)));throw Error("Bad input format: expected Buffer or string")}var fV=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,f$="http://schemas.openxmlformats.org/package/2006/content-types",fH="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",fW="http://schemas.openxmlformats.org/officeDocument/2006/relationships",fG="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",fq="http://www.w3.org/2001/XMLSchema-instance",fK=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fY="urn:schemas-microsoft-com:office:office",fX="urn:schemas-microsoft-com:office:excel",fZ="urn:schemas-microsoft-com:office:spreadsheet",fJ=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,n=e[0][r].length;a<n;a+=10240)t.push.apply(t,e[0][r].slice(a,a+10240));return t},fQ=dq?function(e){return e[0].length>0&&dC.Buffer.isBuffer(e[0][0])?dC.Buffer.concat(e[0].map(function(e){return dC.Buffer.isBuffer(e)?e:dK(e)})):fJ(e)}:fJ,f0=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(hd(e,n)));return a.join("").replace(d2,"")},f1=dq?function(e,t,r){return dC.Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(d2,""):f0(e,t,r)}:f0,f2=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},f4=dq?function(e,t,r){return dC.Buffer.isBuffer(e)?e.toString("hex",t,t+r):f2(e,t,r)}:f2,f3=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(hc(e,n)));return a.join("")},f5=dq?function(e,t,r){return dC.Buffer.isBuffer(e)?e.toString("utf8",t,r):f3(e,t,r)}:f3,f6=function(e,t){var r=hf(e,t);return r>0?f5(e,t+4,t+4+r-1):""},f8=f6,f7=function(e,t){var r=hf(e,t);return r>0?f5(e,t+4,t+4+r-1):""},f9=f7,he=function(e,t){var r=2*hf(e,t);return r>0?f5(e,t+4,t+4+r-1):""},ht=he,hr=function(e,t){var r=hf(e,t);return r>0?f1(e,t+4,t+4+r):""},ha=hr,hn=function(e,t){var r=hf(e,t);return r>0?f5(e,t+4,t+4+r):""},hi=hn,hs=function(e,t){for(var r=1-2*(e[t+7]>>>7),a=((127&e[t+7])<<4)+(e[t+6]>>>4&15),n=15&e[t+6],i=5;i>=0;--i)n=256*n+e[t+i];return 2047==a?0==n?1/0*r:NaN:(0==a?a=-1022:(a-=1023,n+=0x10000000000000),r*Math.pow(2,a-52)*n)},ho=hs,hl=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};dq&&(f8=function(e,t){if(!dC.Buffer.isBuffer(e))return f6(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},f9=function(e,t){if(!dC.Buffer.isBuffer(e))return f7(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ht=function(e,t){if(!dC.Buffer.isBuffer(e))return he(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},ha=function(e,t){if(!dC.Buffer.isBuffer(e))return hr(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},hi=function(e,t){if(!dC.Buffer.isBuffer(e))return hn(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},ho=function(e,t){return dC.Buffer.isBuffer(e)?e.readDoubleLE(t):hs(e,t)},hl=function(e){return dC.Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array}),void 0!==en&&(f1=function(e,t,r){return en.utils.decode(1200,e.slice(t,r)).replace(d2,"")},f5=function(e,t,r){return en.utils.decode(65001,e.slice(t,r))},f8=function(e,t){var r=hf(e,t);return r>0?en.utils.decode(dR,e.slice(t+4,t+4+r-1)):""},f9=function(e,t){var r=hf(e,t);return r>0?en.utils.decode(dP,e.slice(t+4,t+4+r-1)):""},ht=function(e,t){var r=2*hf(e,t);return r>0?en.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},ha=function(e,t){var r=hf(e,t);return r>0?en.utils.decode(1200,e.slice(t+4,t+4+r)):""},hi=function(e,t){var r=hf(e,t);return r>0?en.utils.decode(65001,e.slice(t+4,t+4+r)):""});var hc=function(e,t){return e[t]},hd=function(e,t){return 256*e[t+1]+e[t]},hu=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-((65535-r+1)*1)},hf=function(e,t){return 0x1000000*e[t+3]+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]};function hp(e,t){var r,a,n,i,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,dq&&dC.Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(hd(this,o)),o+=2;e*=2;break;case"utf8":l=f5(this,this.l,this.l+e);break;case"utf16le":e*=2,l=f1(this,this.l,this.l+e);break;case"wstr":if(void 0===en)return hp.call(this,e,"dbcs");l=en.utils.decode(dP,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=f8(this,this.l),e=4+hf(this,this.l);break;case"lpstr-cp":l=f9(this,this.l),e=4+hf(this,this.l);break;case"lpwstr":l=ht(this,this.l),e=4+2*hf(this,this.l);break;case"lpp4":e=4+hf(this,this.l),l=ha(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+hf(this,this.l),l=hi(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(n=hc(this,this.l+e++));)c.push(dV(n));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(n=hd(this,this.l+e));)c.push(dV(n)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(s=0,l="",o=this.l;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return n=hc(this,o),this.l=o+1,i=hp.call(this,e-s,n?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(dV(hd(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if(void 0!==en){l=en.utils.decode(dP,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(s=0,l="",o=this.l;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return n=hc(this,o),this.l=o+1,i=hp.call(this,e-s,n?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(dV(hc(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=hc(this,this.l),this.l++,r;case 2:return r=("i"===t?hu:hd)(this,this.l),this.l+=2,r;case 4:case -4:if("i"===t||(128&this[this.l+3])==0)return r=(e>0?hh:function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]})(this,this.l),this.l+=4,r;return a=hf(this,this.l),this.l+=4,a;case 8:case -8:if("f"===t)return a=8==e?ho(this,this.l):ho([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:l=f4(this,this.l,e)}}return this.l+=e,l}var hm=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},hx=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hg=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function hb(e,t,r){var a=0,n=0;if("dbcs"===r){for(n=0;n!=t.length;++n)hg(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if("sbcs"===r){if(void 0!==en&&874==dR)for(n=0;n!=t.length;++n){var i=en.utils.encode(dR,t.charAt(n));this[this.l+n]=i[0]}else for(n=0,t=t.replace(/[^\x00-\x7F]/g,"_");n!=t.length;++n)this[this.l+n]=255&t.charCodeAt(n);a=t.length}else if("hex"===r){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if("utf16le"===r){var s=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=255&t;break;case 2:a=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:a=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:a=4,hm(this,t,this.l);break;case 8:if(a=8,"f"===r){!function(e,t,r){var a=(t<0||1/t==-1/0)<<7,n=0,i=0,s=a?-t:t;isFinite(s)?0==s?n=i=0:(n=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<0x10000000000000)?n=-1022:(i-=0x10000000000000,n+=1023)):(n=2047,i=26985*!!isNaN(t));for(var o=0;o<=5;++o,i/=256)e[r+o]=255&i;e[r+6]=(15&n)<<4|15&i,e[r+7]=n>>4|a}(this,t,this.l);break}case 16:break;case -4:a=4,hx(this,t,this.l)}return this.l+=a,this}function hv(e,t){var r=f4(this,this.l,e.length>>1);if(r!==e)throw Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function hy(e,t){e.l=t,e.read_shift=hp,e.chk=hv,e.write_shift=hb}function hw(e,t){e.l+=t}function hj(e){var t=dY(e);return hy(t,0),t}function hN(e,t,r){if(e){hy(e,e.l||0);for(var a,n,i,s=e.length,o=0,l=0;e.l<s;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=gJ[o]||gJ[65535];for(n=1,i=127&(a=e.read_shift(1));n<4&&128&a;++n)i+=(127&(a=e.read_shift(1)))<<7*n;l=e.l+i;var d=c.f&&c.f(e,i,r);if(e.l=l,t(d,c,o))return}}}function hE(){var e=[],t=dq?256:2048,r=function(e){var t=hj(e);return hy(t,0),t},a=r(t),n=function(){a&&(a.length>a.l&&((a=a.slice(0,a.l)).l=a.length),a.length>0&&e.push(a),a=null)},i=function(e){return a&&e<a.length-a.l?a:(n(),a=r(Math.max(e+1,t)))};return{next:i,push:function(e){n(),null==(a=e).l&&(a.l=a.length),i(t)},end:function(){return n(),d1(e)},_bufs:e}}function hS(e,t,r,a){var n,i=+t;if(!isNaN(i)){a||(a=gJ[i].p||(r||[]).length||0),n=1+ +(i>=128)+1,a>=128&&++n,a>=16384&&++n,a>=2097152&&++n;var s=e.next(n);i<=127?s.write_shift(1,i):(s.write_shift(1,(127&i)+128),s.write_shift(1,i>>7));for(var o=0;4!=o;++o)if(a>=128)s.write_shift(1,(127&a)+128),a>>=7;else{s.write_shift(1,a);break}a>0&&hl(r)&&e.push(r)}}function hk(e,t,r){var a=uJ(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function hT(e,t,r){var a=uJ(e);return a.s=hk(a.s,t.s,r),a.e=hk(a.e,t.s,r),a}function hA(e,t){if(e.cRel&&e.c<0)for(e=uJ(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=uJ(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=hD(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")),r}function h_(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?hA(e.s,t.biff)+":"+hA(e.e,t.biff):(e.s.rRel?"":"$")+hO(e.s.r)+":"+(e.e.rRel?"":"$")+hO(e.e.r):(e.s.cRel?"":"$")+hR(e.s.c)+":"+(e.e.cRel?"":"$")+hR(e.e.c)}function hC(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function hO(e){return""+(e+1)}function hP(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function hR(e){if(e<0)throw Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function hI(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function hD(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function hM(e){var t=e.indexOf(":");return -1==t?{s:hI(e),e:hI(e)}:{s:hI(e.slice(0,t)),e:hI(e.slice(t+1))}}function hL(e,t){return void 0===t||"number"==typeof t?hL(e.s,e.e):("string"!=typeof e&&(e=hD(e)),"string"!=typeof t&&(t=hD(t)),e==t?e:e+":"+t)}function hF(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1)&&!(n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0)&&!(n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||10!=n)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1)&&!(n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0)&&!(n>9);++a)r=10*r+n;return t.e.r=--r,t}function hU(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=uA(e.z,r?uV(t):t)}catch(e){}try{return e.w=uA((e.XF||{}).numFmtId||14*!!r,r?uV(t):t)}catch(e){return""+t}}function hz(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t)?pa[e.v]||e.v:void 0==t?hU(e,e.v):hU(e,t)}function hB(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function hV(e,t){return function(e,t,r){var a=r||{},n=(0,a.dense),i=n?[]:{},s=0,o=0;if(i&&null!=a.origin){if("number"==typeof a.origin)s=a.origin;else{var l="string"==typeof a.origin?hI(a.origin):a.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=hF(i["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(c.e.r=s=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[u].length;++f)if(void 0!==t[u][f]){var h={v:t[u][f]},p=s+u,m=o+f;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[u][f]||"object"!=typeof t[u][f]||Array.isArray(t[u][f])||t[u][f]instanceof Date)if(Array.isArray(h.v)&&(h.f=t[u][f][1],h.v=h.v[0]),null===h.v)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else{if(!a.sheetStubs)continue;h.t="z"}else"number"==typeof h.v?h.t="n":"boolean"==typeof h.v?h.t="b":h.v instanceof Date?(h.z=a.dateNF||ur[14],a.cellDates?(h.t="d",h.w=uA(h.z,uV(h.v))):(h.t="n",h.v=uV(h.v),h.w=uA(h.z,h.v))):h.t="s";else h=t[u][f];if(n)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(h.z=i[p][m].z),i[p][m]=h;else{var x=hD({c:m,r:p});i[x]&&i[x].z&&(h.z=i[x].z),i[x]=h}}}return c.s.c<1e7&&(i["!ref"]=hL(c)),i}(null,e,t)}function h$(e,t){return t||(t=hj(4)),t.write_shift(4,e),t}function hH(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function hW(e,t){var r=!1;return null==t&&(r=!0,t=hj(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hG(e,t){var r=e.l,a=e.read_shift(1),n=hH(e),i=[],s={t:n,h:n};if((1&a)!=0){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push({ich:e.read_shift(2),ifnt:e.read_shift(2)});s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function hq(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hK(e,t){return null==t&&(t=hj(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hY(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function hX(e,t){return null==t&&(t=hj(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hZ(e){var t=e.read_shift(4);return 0===t||0xffffffff===t?"":e.read_shift(t,"dbcs")}function hJ(e,t){var r=!1;return null==t&&(r=!0,t=hj(127)),t.write_shift(4,e.length>0?e.length:0xffffffff),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hQ(e){var t=e.slice(e.l,e.l+4),r=1&t[0],a=2&t[0];e.l+=4;var n=0===a?ho([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):hh(t,0)>>2;return r?n/100:n}function h0(e,t){null==t&&(t=hj(4));var r=0,a=0,n=100*e;if(e==(0|e)&&e>=-0x20000000&&e<0x20000000?a=1:n==(0|n)&&n>=-0x20000000&&n<0x20000000&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw Error("unsupported RkNumber "+e)}function h1(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var h2=function(e,t){return t||(t=hj(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function h4(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function h3(e,t){return(t||hj(8)).write_shift(8,e,"f")}function h5(e,t){if(t||(t=hj(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var a=e.rgb||"FFFFFF";"number"==typeof a&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function h6(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 0xffffffff:case 0xfffffffe:return({2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"})[e.read_shift(4)]||""}if(r>400)throw Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var h8=[80,81],h7={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},0x80000000:{n:"Locale",t:19},0x80000003:{n:"Behavior",t:19},0x72627262:{}},h9={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},0x80000000:{n:"Locale",t:19},0x80000003:{n:"Behavior",t:19},0x72627262:{}},pe={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],pr=uJ([0,0xffffff,0xff0000,65280,255,0xffff00,0xff00ff,65535,0,0xffffff,0xff0000,65280,255,0xffff00,0xff00ff,65535,8388608,32768,128,8421376,8388736,32896,0xc0c0c0,8421504,0x9999ff,0x993366,0xffffcc,0xccffff,6684774,0xff8080,26316,0xccccff,128,0xff00ff,0xffff00,65535,8388736,8388608,32896,255,52479,0xccffff,0xccffcc,0xffff99,0x99ccff,0xff99cc,0xcc99ff,0xffcc99,3368703,3394764,0x99cc00,0xffcc00,0xff9900,0xff6600,6710937,9868950,13158,3381606,13056,3355392,0x993300,0x993366,3355545,3355443,0xffffff,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(e){return[e>>16&255,e>>8&255,255&e]})),pa={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pn={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},pi={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ps={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function po(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function pl(e,t){var r,a=function(e){for(var t=[],r=uL(e),a=0;a!==r.length;++a)null==t[e[r[a]]]&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}(pi),n=[];n[n.length]=fi,n[n.length]=fU("Types",null,{xmlns:f$,"xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":fq}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return fU("Default",null,{Extension:e[0],ContentType:e[1]})}));var i=function(a){e[a]&&e[a].length>0&&(r=e[a][0],n[n.length]=fU("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:ps[a][t.bookType]||ps[a].xlsx}))},s=function(r){(e[r]||[]).forEach(function(e){n[n.length]=fU("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:ps[r][t.bookType]||ps[r].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){n[n.length]=fU("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:a[t][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var pc="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",pd="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",pu="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",pf="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",ph="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",pp="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",pm="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",px="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",pg="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",pb="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",pv="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",py=["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],pw="http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",pj="http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",pN="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",pE="http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",pS="http://schemas.microsoft.com/office/2006/relationships/vbaProject";function pk(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function pT(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var a={};return(e.match(fl)||[]).forEach(function(e){var n=fu(e);if("<Relationship"===n[0]){var i={};i.Type=n.Type,i.Target=n.Target,i.Id=n.Id,n.TargetMode&&(i.TargetMode=n.TargetMode),r["External"===n.TargetMode?n.Target:fn(n.Target,t)]=i,a[n.Id]=i}}),r["!id"]=a,r}function pA(e){var t=[fi,fU("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return uL(e["!id"]).forEach(function(r){t[t.length]=fU("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function p_(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,i?n.TargetMode=i:[pd,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath","http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing"].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}function pC(e,t,r){return'  <rdf:Description rdf:about="'+e+'">\n'+('    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#")+t+'"/>\n  </rdf:Description>\n'}function pO(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+dO.version+"</meta:generator></office:meta></office:document-meta>"}var pP=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],pR=function(){for(var e=Array(pP.length),t=0;t<pP.length;++t){var r=pP[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function pI(e){var t={};e=fA(e);for(var r=0;r<pP.length;++r){var a=pP[r],n=e.match(pR[r]);null!=n&&n.length>0&&(t[a[1]]=fm(n[1])),"date"===a[2]&&t[a[1]]&&(t[a[1]]=uX(t[a[1]]))}return t}function pD(e,t,r,a,n){null==n[e]&&null!=t&&""!==t&&(n[e]=t,t=fb(t),a[a.length]=r?fU(e,t,r):fL(e,t))}function pM(e,t){var r=t||{},a=[fi,fU("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":fq})],n={};if(!e&&!r.Props)return a.join("");e&&(null!=e.CreatedDate&&pD("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:fz(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),null!=e.ModifiedDate&&pD("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:fz(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=pP.length;++i){var s=pP[i],o=r.Props&&null!=r.Props[s[1]]?r.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&pD(s[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var pL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],pF=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pU(e,t,r,a){var n=[];if("string"==typeof e)n=fD(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(e){return{v:e}}));var s="string"==typeof t?fD(t,a).map(function(e){return e.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==n.length;c+=2){switch(l=+n[c+1].v,n[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l)}o+=l}}function pz(e){var t=[];return e||(e={}),e.Application="SheetJS",t[t.length]=fi,t[t.length]=fU("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":fG}),pL.forEach(function(r){var a;if(void 0!==e[r[1]]){switch(r[2]){case"string":a=fb(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false"}void 0!==a&&(t[t.length]=fU(r[0],a))}}),t[t.length]=fU("HeadingPairs",fU("vt:vector",fU("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+fU("vt:variant",fU("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=fU("TitlesOfParts",fU("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+fb(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pB=/<[^>]+>[^<]*/g;function pV(e){var t=[fi,fU("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":fG})];if(!e)return t.join("");var r=1;return uL(e).forEach(function(a){++r,t[t.length]=fU("property",function(e,t){switch(typeof e){case"string":var r=fU("vt:lpwstr",fb(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return fU((0|e)==e?"vt:i4":"vt:r8",fb(String(e)));case"boolean":return fU("vt:bool",e?"true":"false")}if(e instanceof Date)return fU("vt:filetime",fz(e));throw Error("Unable to serialize "+e)}(e[a],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:fb(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var p$={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function pH(e){var t=e.read_shift(4);return new Date((e.read_shift(4)/1e7*0x100000000+t/1e7-0x2b6109100)*1e3).toISOString().replace(/\.000/,"")}function pW(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function pG(e,t,r){var a=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(a.length+1&3)&3),a}function pq(e,t,r){return 31===t?pG(e):pW(e,t,r)}function pK(e,t,r){return pq(e,t,4*(!1!==r))}function pY(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),s=e.read_shift(4);a[i]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(d2,"").replace(d4,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),a}function pX(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function pZ(e,t,r){var a,n,i=e.read_shift(2),s=r||{};if(e.l+=2,12!==t&&i!==t&&-1===h8.indexOf(t)&&((65534&t)!=4126||(65534&i)!=4126))throw Error("Expected type "+t+" saw "+i);switch(12===t?i:t){case 2:return n=e.read_shift(2,"i"),s.raw||(e.l+=2),n;case 3:return e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return e.read_shift(4);case 30:return pW(e,i,4).replace(d2,"");case 31:return pG(e);case 64:return pH(e);case 65:return pX(e);case 71:return(a={}).Size=e.read_shift(4),e.l+=a.Size+3-(a.Size-1)%4,a;case 80:return pK(e,i,!s.raw).replace(d2,"");case 81:return(function(e,t){if(!t)throw Error("VtUnalignedString must have positive length");return pq(e,t,0)})(e,i).replace(d2,"");case 4108:for(var o=e.read_shift(4),l=[],c=0;c<o/2;++c)l.push(function(e){var t=e.l,r=pZ(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,pZ(e,3)]}(e));return l;case 4126:case 4127:return 4127==i?function(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(d2,""),e.l-n&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(d2,"");return r}(e);default:throw Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function pJ(e,t){var r,a,n,i,s,o=hj(4),l=hj(4);switch(o.write_shift(4,80==e?31:e),e){case 3:l.write_shift(-4,t);break;case 5:(l=hj(8)).write_shift(8,t,"f");break;case 11:l.write_shift(4,+!!t);break;case 64:a=(r=("string"==typeof t?new Date(Date.parse(t)):t).getTime()/1e3+0x2b6109100)%0x100000000,n=(r-a)/0x100000000*1e7,(i=(a*=1e7)/0x100000000|0)>0&&(a%=0x100000000,n+=i),(s=hj(8)).write_shift(4,a),s.write_shift(4,n),l=s;break;case 31:case 80:for((l=hj(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),l.write_shift(0,t,"dbcs");l.l!=l.length;)l.write_shift(1,0);break;default:throw Error("TypedPropertyValue unrecognized type "+e+" "+t)}return d1([o,l])}function pQ(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=n;++s){var d=e.read_shift(4),u=e.read_shift(4);i[s]=[d,u+r]}i.sort(function(e,t){return e[1]-t[1]});var f={};for(s=0;s!=n;++s){if(e.l!==i[s][1]){var h=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,h=!1);break;case 80:case 4108:e.l<=i[s][1]&&(e.l=i[s][1],h=!1)}if((!t||0==s)&&e.l<=i[s][1]&&(h=!1,e.l=i[s][1]),h)throw Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[i[s][0]];if(f[p.n]=pZ(e,p.t,{raw:!0}),"version"===p.p&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(65535&f[p.n])).slice(-4)),"CodePage"==p.n)switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case -536:case 65001:case -535:dL(o=f[p.n]>>>0&65535);break;default:throw Error("Unsupported CodePage: "+f[p.n])}}else if(1===i[s][0]){if(dL(o=f.CodePage=pZ(e,2)),-1!==l){var m=e.l;e.l=i[l][1],c=pY(e,o),e.l=m}}else if(0===i[s][0]){if(0===o){l=s,e.l=i[s+1][1];continue}c=pY(e,o)}else{var x,g=c[i[s][0]];switch(e[e.l]){case 65:e.l+=4,x=pX(e);break;case 30:case 31:e.l+=4,x=pK(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=p5(e,4);break;case 64:e.l+=4,x=uX(pH(e));break;default:throw Error("unparsed value: "+e[e.l])}f[g]=x}}return e.l=r+a,f}var p0=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function p1(e,t,r){var a=hj(8),n=[],i=[],s=8,o=0,l=hj(8),c=hj(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),n.push(c),s+=8+l.length,!t){(c=hj(8)).write_shift(4,0),n.unshift(c);var d=[hj(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=hj(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=d1(d),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]]||p0.indexOf(e[o][0])>-1||pF.indexOf(e[o][0])>-1)&&null!=e[o][1]){var f=e[o][1],h=0;if(t){var p=r[h=+t[e[o][0]]];if("version"==p.p&&"string"==typeof f){var m=f.split(".");f=(m[0]<<16)+(+m[1]||0)}l=pJ(p.t,f)}else{var x=function(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return -1}(f);-1==x&&(x=31,f=String(f)),l=pJ(x,f)}i.push(l),(c=hj(8)).write_shift(4,t?h:2+o),n.push(c),s+=8+l.length}var g=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,g),g+=i[o].length;return a.write_shift(4,s),a.write_shift(4,i.length),d1([a].concat(n).concat(i))}function p2(e,t,r){var a,n=e.content;if(!n)return{};hy(n,0);var i,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),u=n.read_shift(16);if(u!==uD.utils.consts.HEADER_CLSID&&u!==r)throw Error("Bad PropertySet CLSID "+u);if(1!==(i=n.read_shift(4))&&2!==i)throw Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),l=n.read_shift(4),1===i&&l!==n.l)throw Error("Length mismatch: "+l+" !== "+n.l);2===i&&(o=n.read_shift(16),c=n.read_shift(4));var f=pQ(n,t),h={SystemIdentifier:d};for(var p in f)h[p]=f[p];if(h.FMTID=s,1===i)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw Error("Length mismatch 2: "+n.l+" !== "+c);try{a=pQ(n,null)}catch(e){}for(p in a)h[p]=a[p];return h.FMTID=[s,o],h}function p4(e,t,r,a,n,i){var s=hj(n?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,0x32363237),s.write_shift(16,uD.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,n?68:48);var l=p1(e,r,a);if(o.push(l),n){var c=p1(n,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return d1(o)}function p3(e,t){return e.read_shift(t),null}function p5(e,t){return 1===e.read_shift(t)}function p6(e,t){return t||(t=hj(2)),t.write_shift(2,+!!e),t}function p8(e){return e.read_shift(2,"u")}function p7(e,t){return t||(t=hj(2)),t.write_shift(2,e),t}function p9(e,t){for(var r=[],a=e.l+t;e.l<a;)r.push(p8(e,a-e.l));if(a!==e.l)throw Error("Slurp error");return r}function me(e,t,r){return r||(r=hj(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,+("e"==t)),r}function mt(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont",i=dP;r&&r.biff>=8&&(dP=1200),r&&8!=r.biff?12==r.biff&&(n="wstr"):e.read_shift(1)&&(n="dbcs-cont"),r.biff>=2&&r.biff<=5&&(n="cpstr");var s=a?e.read_shift(a,n):"";return dP=i,s}function mr(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function ma(e,t,r){var a=e.read_shift(r&&2==r.biff?1:2);return 0===a?(e.l++,""):mr(e,a,r)}function mn(e,t,r){if(r.biff>5)return ma(e,t,r);var a=e.read_shift(1);return 0===a?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function mi(e,t,r){return r||(r=hj(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ms(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(d2,""):""}function mo(e,t){t||(t=hj(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function ml(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function mc(e,t){var r=ml(e,t);return r[3]=0,r}function md(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function mu(e,t,r,a){return a||(a=hj(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function mf(e){return[e.read_shift(2),hQ(e)]}function mh(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function mp(e,t){return t||(t=hj(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function mm(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}function mx(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function mg(e){e.l+=2,e.l+=e.read_shift(2)}var mb={0:mg,4:mg,5:mg,6:mg,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:mg,9:mg,10:mg,11:mg,12:mg,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:mg,15:mg,16:mg,17:mg,18:mg,19:mg,20:mg,21:mx};function mv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function my(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;default:throw Error("unsupported BIFF version")}var i=hj(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function mw(e,t,r){var a=0;r&&2==r.biff||(a=e.read_shift(2));var n=e.read_shift(2);return r&&2==r.biff&&(a=1-(n>>15),n&=32767),[{Unsynced:1&a,DyZero:(2&a)>>1,ExAsc:(4&a)>>2,ExDsc:(8&a)>>3},n]}function mj(e,t,r){var a=e.l+t,n=8!=r.biff&&r.biff?2:4,i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(2),l=e.read_shift(2);return e.l=a,{s:{r:i,c:o},e:{r:s,c:l}}}function mN(e,t,r,a){var n=r&&5==r.biff;a||(a=hj(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function mE(e,t,r){var a,n=md(e,6);(2==r.biff||9==t)&&++e.l;var i=(a=e.read_shift(1),1===e.read_shift(1)?a:1===a);return n.val=i,n.t=!0===i||!1===i?"b":"e",n}var mS=function(e,t,r){return 0===t?"":mn(e,t,r)};function mk(e,t,r){var a,n=e.read_shift(2),i={fBuiltIn:1&n,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return 14849===r.sbcch&&(a=function(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=mt(e,t,r),i=e.read_shift(2);if(i!==(a-=e.l))throw Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}(e,t-2,r)),i.body=a||e.read_shift(t-2),"string"==typeof a&&(i.Name=a),i}var mT=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function mA(e,t,r){var a,n,i,s,o,l,c,d=e.l+t,u=e.read_shift(2),f=e.read_shift(1),h=e.read_shift(1),p=e.read_shift(r&&2==r.biff?1:2),m=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),m=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var x=mr(e,h,r);32&u&&(x=mT[x.charCodeAt(0)]);var g=d-e.l;return r&&2==r.biff&&--g,{chKey:f,Name:x,itab:m,rgce:d!=e.l&&0!==p&&g>0?(a=e,n=g,i=r,s=p,l=a.l+n,c=x0(a,s,i),l!==a.l&&(o=xQ(a,l-a.l,c,i)),[c,o]):[]}}function m_(e,t,r){if(r.biff<8){var a,n,i,s;return a=e,n=t,i=r,3==a[a.l+1]&&a[a.l]++,3==(s=mt(a,n,i)).charCodeAt(0)?s.slice(1):s}for(var o=[],l=e.l+t,c=e.read_shift(r.biff>8?4:2);0!=c--;)o.push(function(e,t,r){var a=r.biff>8?4:2;return[e.read_shift(a),e.read_shift(a,"i"),e.read_shift(a,"i")]}(e,r.biff,r));if(e.l!=l)throw Error("Bad ExternSheet: "+e.l+" != "+l);return o}function mC(e,t,r){var a=mm(e,6);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,function(e,t,r){var a,n,i=e.l+t,s=2==r.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],(a=t-2,void(e.l+=a))];var l=x0(e,o,r);return t!==o+s&&(n=xQ(e,t-o-s,l,r)),e.l=i,[l,n]}(e,t,r,a)]}var mO={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function mP(e,t,r){if(!r.cellStyles)return void(e.l+=t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2);2==a&&(e.l+=2);var c={s:n,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var mR=[2,3,48,49,131,139,140,245],mI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=uU({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var a=r||{};a.dateNF||(a.dateNF="yyyymmdd");var n=hV(function(t,r){var a=[],n=dY(1);switch(r.type){case"base64":n=dZ(dG(t));break;case"binary":n=dZ(t);break;case"buffer":case"array":n=t}hy(n,0);var i=n.read_shift(1),s=!!(136&i),o=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw Error("DBF Unsupported Version: "+i.toString(16))}var c=0,d=521;2==i&&(c=n.read_shift(2)),n.l+=3,2!=i&&(c=n.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(d=n.read_shift(2));var u=n.read_shift(2),f=r.codepage||1252;2!=i&&(n.l+=16,n.read_shift(1),0!==n[n.l]&&(f=e[n[n.l]]),n.l+=1,n.l+=2),l&&(n.l+=36);for(var h=[],p={},m=Math.min(n.length,2==i?521:d-10-264*!!o),x=l?32:11;n.l<m&&13!=n[n.l];)switch((p={}).name=en.utils.decode(f,n.slice(n.l,n.l+x)).replace(/[\u0000\r\n].*$/g,""),n.l+=x,p.type=String.fromCharCode(n.read_shift(1)),2!=i&&!l&&(p.offset=n.read_shift(4)),p.len=n.read_shift(1),2==i&&(p.offset=n.read_shift(2)),p.dec=n.read_shift(1),p.name.length&&h.push(p),2!=i&&(n.l+=l?13:14),p.type){case"B":(!o||8!=p.len)&&r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw Error("Unknown Field Type: "+p.type)}if(13!==n[n.l]&&(n.l=d-1),13!==n.read_shift(1))throw Error("DBF Terminator not found "+n.l+" "+n[n.l]);n.l=d;var g=0,b=0;for(b=0,a[0]=[];b!=h.length;++b)a[0][b]=h[b].name;for(;c-- >0;){if(42===n[n.l]){n.l+=u;continue}for(++n.l,a[++g]=[],b=0,b=0;b!=h.length;++b){var v=n.slice(n.l,n.l+h[b].len);n.l+=h[b].len,hy(v,0);var y=en.utils.decode(f,v);switch(h[b].type){case"C":y.trim().length&&(a[g][b]=y.replace(/\s+$/,""));break;case"D":8===y.length?a[g][b]=new Date(+y.slice(0,4),y.slice(4,6)-1,+y.slice(6,8)):a[g][b]=y;break;case"F":a[g][b]=parseFloat(y.trim());break;case"+":case"I":a[g][b]=l?0x80000000^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":a[g][b]=!0;break;case"N":case"F":a[g][b]=!1;break;case"":case"?":break;default:throw Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!s)throw Error("DBF Unexpected MEMO for type "+i.toString(16));a[g][b]="##MEMO##"+(l?parseInt(y.trim(),10):v.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(a[g][b]=+y||0);break;case"@":a[g][b]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":a[g][b]=new Date((v.read_shift(4)-2440588)*864e5+v.read_shift(4));break;case"Y":a[g][b]=v.read_shift(4,"i")/1e4+v.read_shift(4,"i")/1e4*0x100000000;break;case"O":a[g][b]=-v.read_shift(-8,"f");break;case"B":if(o&&8==h[b].len){a[g][b]=v.read_shift(8,"f");break}case"G":case"P":v.l+=h[b].len;break;case"0":if("_NullFlags"===h[b].name)break;default:throw Error("DBF Unsupported data type "+h[b].type)}}}if(2!=i&&n.l<n.length&&26!=n[n.l++])throw Error("DBF EOF Marker missing "+(n.l-1)+" of "+n.length+" "+n[n.l-1].toString(16));return r&&r.sheetRows&&(a=a.slice(0,r.sheetRows)),r.DBF=h,a}(t,a),a);return n["!cols"]=a.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete a.DBF,n}var a={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return hB(r(e,t),t)}catch(e){if(t&&t.WTF)throw e}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var n=r||{};if(+n.codepage>=0&&dL(+n.codepage),"string"==n.type)throw Error("Cannot write DBF to JS string");var i=hE(),s=bA(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],d=0,u=0,f=0,h=1;for(d=0;d<o.length;++d){if(((c[d]||{}).DBF||{}).name){o[d]=c[d].DBF.name,++f;continue}if(null!=o[d]){if(++f,"number"==typeof o[d]&&(o[d]=o[d].toString(10)),"string"!=typeof o[d])throw Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d){for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}}}var p=hF(e["!ref"]),m=[],x=[],g=[];for(d=0;d<=p.e.c-p.s.c;++d){var b="",v="",y=0,w=[];for(u=0;u<l.length;++u)null!=l[u][d]&&w.push(l[u][d]);if(0==w.length||null==o[d]){m[d]="?";continue}for(u=0;u<w.length;++u){switch(typeof w[u]){case"number":v="B";break;case"string":default:v="C";break;case"boolean":v="L";break;case"object":v=w[u]instanceof Date?"D":"C"}y=Math.max(y,String(w[u]).length),b=b&&b!=v?"C":v}y>250&&(y=250),"C"==(v=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>y&&(y=c[d].DBF.len),"B"==b&&"N"==v&&(b="N",g[d]=c[d].DBF.dec,y=c[d].DBF.len),x[d]="C"==b||"N"==v?y:a[b]||0,h+=x[d],m[d]=b}var j=i.next(32);for(j.write_shift(4,0x13021130),j.write_shift(4,l.length),j.write_shift(2,296+32*f),j.write_shift(2,h),d=0;d<4;++d)j.write_shift(4,0);for(j.write_shift(4,(+t[dR]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var N=i.next(32),E=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,E,"sbcs"),N.write_shift(1,"?"==m[d]?"C":m[d],"sbcs"),N.write_shift(4,u),N.write_shift(1,x[d]||a[m[d]]||0),N.write_shift(1,g[d]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=x[d]||a[m[d]]||0}var S=i.next(264);for(S.write_shift(4,13),d=0;d<65;++d)S.write_shift(4,0);for(d=0;d<l.length;++d){var k=i.next(h);for(k.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(m[u]){case"L":k.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":k.write_shift(8,l[d][u]||0,"f");break;case"N":var T="0";for("number"==typeof l[d][u]&&(T=l[d][u].toFixed(g[u]||0)),f=0;f<x[u]-T.length;++f)k.write_shift(1,32);k.write_shift(1,T,"sbcs");break;case"D":l[d][u]?(k.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var A=String(null!=l[d][u]?l[d][u]:"").slice(0,x[u]);for(k.write_shift(1,A,"sbcs"),f=0;f<x[u]-A.length;++f)k.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),mD=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=RegExp("\x1bN("+uL(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var a=e[r];return"number"==typeof a?d$(a):a},a=function(e,t,r){var a=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==a?e:d$(a)};function n(e,n){var i,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],f=[],h=null,p={},m=[],x=[],g=[],b=0;for(+n.codepage>=0&&dL(+n.codepage);c!==s.length;++c){b=0;var v,y=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),w=y.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),j=w[0];if(y.length>0)switch(j){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&f.push(y.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,E=!1,S=!1,k=!1,T=-1,A=-1;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[d].slice(1))-1,E=!0;break;case"Y":for(o=parseInt(w[d].slice(1))-1,E||(l=0),i=u.length;i<=o;++i)u[i]=[];break;case"K":'"'===(v=w[d].slice(1)).charAt(0)?v=v.slice(1,v.length-1):"TRUE"===v?v=!0:"FALSE"===v?v=!1:isNaN(u0(v))?isNaN(u2(v).getDate())||(v=uX(v)):(v=u0(v),null!==h&&uS(h)&&(v=uG(v))),void 0!==en&&"string"==typeof v&&"string"!=(n||{}).type&&(n||{}).codepage&&(v=en.utils.decode(n.codepage,v)),N=!0;break;case"E":k=!0;var _=xR(w[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],_];break;case"S":S=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":T=parseInt(w[d].slice(1))-1;break;case"C":A=parseInt(w[d].slice(1))-1;break;default:if(n&&n.WTF)throw Error("SYLK bad record "+y)}if(N&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=v:u[o][l]=v,h=null),S){if(k)throw Error("SYLK shared formula cannot have own formula");var C=T>-1&&u[T][A];if(!C||!C[1])throw Error("SYLK shared formula cannot find base");u[o][l][1]=xM(C[1],{r:o-T,c:l-A})}break;case"F":var O=0;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"X":l=parseInt(w[d].slice(1))-1,++O;break;case"Y":for(o=parseInt(w[d].slice(1))-1,i=u.length;i<=o;++i)u[i]=[];break;case"M":b=parseInt(w[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":h=f[parseInt(w[d].slice(1))];break;case"W":for(i=parseInt((g=w[d].slice(1).split(" "))[0],10);i<=parseInt(g[1],10);++i)b=parseInt(g[2],10),x[i-1]=0===b?{hidden:!0}:{wch:b},xi(x[i-1]);break;case"C":x[l=parseInt(w[d].slice(1))-1]||(x[l]={});break;case"R":m[o=parseInt(w[d].slice(1))-1]||(m[o]={}),b>0?(m[o].hpt=b,m[o].hpx=xo(b)):0===b&&(m[o].hidden=!0);break;default:if(n&&n.WTF)throw Error("SYLK bad record "+y)}O<1&&(h=null);break;default:if(n&&n.WTF)throw Error("SYLK bad record "+y)}}return m.length>0&&(p["!rows"]=m),x.length>0&&(p["!cols"]=x),n&&n.sheetRows&&(u=u.slice(0,n.sheetRows)),[u,p]}function i(e,t){var r=function(e,t){switch(t.type){case"base64":return n(dG(e),t);case"binary":return n(e,t);case"buffer":return n(dq&&dC.Buffer.isBuffer(e)?e.toString("binary"):dQ(e),t);case"array":return n(uZ(e),t)}throw Error("Unrecognized type "+t.type)}(e,t),a=r[0],i=r[1],s=hV(a,t);return uL(i).forEach(function(e){s[e]=i[e]}),s}return e["|"]=254,{to_workbook:function(e,t){return hB(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var r,a=["ID;PWXL;N;E"],n=[],i=hF(e["!ref"]),s=Array.isArray(e);a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&e["!cols"].forEach(function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=xe(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=xt(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&a.push(r)}),e["!rows"]&&e["!rows"].forEach(function(e,t){var r="F;";e.hidden?r+="M0;":e.hpt?r+="M"+20*e.hpt+";":e.hpx&&(r+="M"+20*xs(e.hpx)+";"),r.length>2&&a.push(r+"R"+(t+1))}),a.push("B;Y"+(i.e.r-i.s.r+1)+";X"+(i.e.c-i.s.c+1)+";D"+[i.s.c,i.s.r,i.e.c,i.e.r].join(" "));for(var o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=hD({r:o,c:l});(r=s?(e[o]||[])[l]:e[c])&&(null!=r.v||r.f&&!r.F)&&n.push(function(e,t,r,a){var n="C;Y"+(r+1)+";X"+(a+1)+";K";switch(e.t){case"n":n+=e.v||0,e.f&&!e.F&&(n+=";E"+xD(e.f,{r:r,c:a}));break;case"b":n+=e.v?"TRUE":"FALSE";break;case"e":n+=e.w||e.v;break;case"d":n+='"'+(e.w||e.v)+'"';break;case"s":n+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return n}(r,0,o,l,t))}return a.join("\r\n")+"\r\n"+n.join("\r\n")+"\r\nE\r\n"}}}(),mM=function(){var e,t;function r(e,t){for(var r=e.split("\n"),a=-1,n=-1,i=0,s=[];i!==r.length;++i){if("BOT"===r[i].trim()){s[++a]=[],n=0;continue}if(!(a<0)){for(var o=r[i].trim().split(","),l=o[0],c=o[1],d=r[++i]||"";1&(d.match(/["]/g)||[]).length&&i<r.length-1;)d+="\n"+r[++i];switch(d=d.trim(),+l){case -1:if("BOT"===d){s[++a]=[],n=0;continue}if("EOD"!==d)throw Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?s[a][n]=!0:"FALSE"===d?s[a][n]=!1:isNaN(u0(c))?isNaN(u2(c).getDate())?s[a][n]=c:s[a][n]=uX(c):s[a][n]=u0(c),++n;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),s[a][n++]=""!==d?d:null}if("EOD"===d)break}}return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function a(e,t){return hV(function(e,t){switch(t.type){case"base64":return r(dG(e),t);case"binary":return r(e,t);case"buffer":return r(dq&&dC.Buffer.isBuffer(e)?e.toString("binary"):dQ(e),t);case"array":return r(uZ(e),t)}throw Error("Unrecognized type "+t.type)}(e,t),t)}return{to_workbook:function(e,t){return hB(a(e,t),t)},to_sheet:a,from_sheet:(e=function(e,t,r,a,n){e.push(t),e.push(r+","+a),e.push('"'+n.replace(/"/g,'""')+'"')},t=function(e,t,r,a){e.push(t+","+r),e.push(1==t?'"'+a.replace(/"/g,'""')+'"':a)},function(r){var a,n=[],i=hF(r["!ref"]),s=Array.isArray(r);e(n,"TABLE",0,1,"sheetjs"),e(n,"VECTORS",0,i.e.r-i.s.r+1,""),e(n,"TUPLES",0,i.e.c-i.s.c+1,""),e(n,"DATA",0,0,"");for(var o=i.s.r;o<=i.e.r;++o){t(n,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=hD({r:o,c:l});if(!(a=s?(r[o]||[])[l]:r[c])){t(n,1,0,"");continue}switch(a.t){case"n":var d=a.w;d||null==a.v||(d=a.v),null==d?!a.f||a.F?t(n,1,0,""):t(n,1,0,"="+a.f):t(n,0,d,"V");break;case"b":t(n,0,+!!a.v,a.v?"TRUE":"FALSE");break;case"s":t(n,1,0,isNaN(a.v)?a.v:'="'+a.v+'"');break;case"d":a.w||(a.w=uA(a.z||ur[14],uV(uX(a.v)))),t(n,0,a.w,"V");break;default:t(n,1,0,"")}}}return t(n,-1,0,"EOD"),n.join("\r\n")})}}(),mL=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return hV(function(e,t){for(var r=e.split("\n"),a=-1,n=-1,i=0,s=[];i!==r.length;++i){var o=r[i].trim().split(":");if("cell"===o[0]){var l=hI(o[1]);if(s.length<=l.r)for(a=s.length;a<=l.r;++a)s[a]||(s[a]=[]);switch(a=l.r,n=l.c,o[2]){case"t":s[a][n]=o[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":s[a][n]=+o[3];break;case"vtf":var c=o[o.length-1];case"vtc":"nl"===o[3]?s[a][n]=!!+o[4]:s[a][n]=+o[4],"vtf"==o[2]&&(s[a][n]=[s[a][n],c])}}}return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}(e,t),t)}var r="--SocialCalcSpreadsheetControlSave\nContent-type: text/plain; charset=UTF-8\n";return{to_workbook:function(e,r){return hB(t(e,r),r)},to_sheet:t,from_sheet:function(t){return["socialcalc:version:1.5\nMIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave",r,"# SocialCalc Spreadsheet Control Save\npart:sheet",r,function(t){if(!t||!t["!ref"])return"";for(var r,a=[],n=[],i="",s=hM(t["!ref"]),o=Array.isArray(t),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(i=hD({r:l,c:c}),(r=o?(t[l]||[])[c]:t[i])&&null!=r.v&&"z"!==r.t){switch(n=["cell",i,"t"],r.t){case"s":case"str":n.push(e(r.v));break;case"n":r.f?(n[2]="vtf",n[3]="n",n[4]=r.v,n[5]=e(r.f)):(n[2]="v",n[3]=r.v);break;case"b":n[2]="vt"+(r.f?"f":"c"),n[3]="nl",n[4]=r.v?"1":"0",n[5]=e(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var d=uV(uX(r.v));n[2]="vtc",n[3]="nd",n[4]=""+d,n[5]=r.w||uA(r.z||ur[14],d);break;case"e":continue}a.push(n.join(":"))}return a.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),a.push("valueformat:1:text-wiki"),a.join("\n")}(t),"--SocialCalcSpreadsheetControlSave--"].join("\n")}}}(),mF=function(){function e(e,t,r,a,n){n.raw?t[r][a]=e:""===e||("TRUE"===e?t[r][a]=!0:"FALSE"===e?t[r][a]=!1:isNaN(u0(e))?isNaN(u2(e).getDate())?t[r][a]=e:t[r][a]=uX(e):t[r][a]=u0(e))}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(e){for(var a={},n=!1,i=0,s=0;i<e.length;++i)34==(s=e.charCodeAt(i))?n=!n:!n&&s in t&&(a[s]=(a[s]||0)+1);for(i in s=[],a)Object.prototype.hasOwnProperty.call(a,i)&&s.push([a[i],i]);if(!s.length)for(i in a=r)Object.prototype.hasOwnProperty.call(a,i)&&s.push([a[i],i]);return s.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),t[s.pop()[1]]||44}function n(t,r){var n,i="",s="string"==r.type?[0,0,0,0]:bj(t,r);switch(r.type){case"base64":i=dG(t);break;case"binary":case"string":i=t;break;case"buffer":i=65001==r.codepage?t.toString("utf8"):r.codepage&&void 0!==en?en.utils.decode(r.codepage,t):dq&&dC.Buffer.isBuffer(t)?t.toString("binary"):dQ(t);break;case"array":i=uZ(t);break;default:throw Error("Unrecognized type "+r.type)}return(239==s[0]&&187==s[1]&&191==s[2]?i=fA(i.slice(3)):"string"!=r.type&&"buffer"!=r.type&&65001==r.codepage?i=fA(i):"binary"==r.type&&void 0!==en&&r.codepage&&(i=en.utils.decode(r.codepage,en.utils.encode(28591,i))),"socialcalc:version:"==i.slice(0,19))?mL.to_sheet("string"==r.type?i:fA(i),r):(n=i,!(r&&r.PRN)||r.FS||"sep="==n.slice(0,4)||n.indexOf("	")>=0||n.indexOf(",")>=0||n.indexOf(";")>=0?function(e,t){var r,n=t||{},i="",s=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=a(e.slice(0,1024)):i=n&&n.FS?n.FS:a(e.slice(0,1024));var l=0,c=0,d=0,u=0,f=0,h=i.charCodeAt(0),p=!1,m=0,x=e.charCodeAt(0);e=e.replace(/\r\n/mg,"\n");var g=null!=n.dateNF?RegExp("^"+("number"==typeof(r=n.dateNF)?ur[r]:r).replace(uR,"(\\d+)")+"$"):null;function b(){var t=e.slice(u,f),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(d=u0(t)))if(!isNaN(u2(t).getDate())||g&&t.match(g)){r.z=n.dateNF||ur[14];var a,i,p,b,v,y,w,j,N,E,S=0;g&&t.match(g)&&(a=n.dateNF,i=t.match(g)||[],p=-1,b=-1,v=-1,y=-1,w=-1,j=-1,(a.match(uR)||[]).forEach(function(e,t){var r=parseInt(i[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":p=r;break;case"d":v=r;break;case"h":y=r;break;case"s":j=r;break;case"m":y>=0?w=r:b=r}}),j>=0&&-1==w&&b>=0&&(w=b,b=-1),7==(N=(""+(p>=0?p:new Date().getFullYear())).slice(-4)+"-"+("00"+(b>=1?b:1)).slice(-2)+"-"+("00"+(v>=1?v:1)).slice(-2)).length&&(N="0"+N),8==N.length&&(N="20"+N),E=("00"+(y>=0?y:0)).slice(-2)+":"+("00"+(w>=0?w:0)).slice(-2)+":"+("00"+(j>=0?j:0)).slice(-2),t=-1==y&&-1==w&&-1==j?N:-1==p&&-1==b&&-1==v?E:N+"T"+E,S=1),n.cellDates?(r.t="d",r.v=uX(t,S)):(r.t="n",r.v=uV(uX(t,S))),!1!==n.cellText&&(r.w=uA(r.z,r.v instanceof Date?uV(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=d;if("z"==r.t||(n.dense?(s[l]||(s[l]=[]),s[l][c]=r):s[hD({c:c,r:l})]=r),u=f+1,x=e.charCodeAt(u),o.e.c<c&&(o.e.c=c),o.e.r<l&&(o.e.r=l),m==h)++c;else if(c=0,++l,n.sheetRows&&n.sheetRows<=l)return!0}e:for(;f<e.length;++f)switch(m=e.charCodeAt(f)){case 34:34===x&&(p=!p);break;case h:case 10:case 13:if(!p&&b())break e}return f-u>0&&b(),s["!ref"]=hL(o),s}(n,r):hV(function(t,r){var a=r||{},n=[];if(!t||0===t.length)return n;for(var i=t.split(/[\r\n]/),s=i.length-1;s>=0&&0===i[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){n[c]=[];var d=0;for(e(i[c].slice(0,o).trim(),n,c,d,a),d=1;d<=(i[c].length-o)/10+1;++d)e(i[c].slice(o+(d-1)*10,o+10*d).trim(),n,c,d,a)}return a.sheetRows&&(n=n.slice(0,a.sheetRows)),n}(n,r),r))}return{to_workbook:function(e,t){return hB(n(e,t),t)},to_sheet:n,from_sheet:function(e){for(var t,r=[],a=hF(e["!ref"]),n=Array.isArray(e),i=a.s.r;i<=a.e.r;++i){for(var s=[],o=a.s.c;o<=a.e.c;++o){var l=hD({r:i,c:o});if(!(t=n?(e[i]||[])[o]:e[l])||null==t.v){s.push("          ");continue}for(var c=(t.w||(hz(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}r.push(s.join(""))}return r.join("\n")}}}(),mU=function(){function e(e,t,r){if(e){hy(e,e.l||0);for(var a=r.Enum||u;e.l<e.length;){var n=e.read_shift(2),i=a[n]||a[65535],s=e.read_shift(2),o=e.l+s,l=i.f&&i.f(e,s,r);if(e.l=o,t(l,i,n))return}}}function t(t,r){if(!t)return t;var a=r||{},n=a.dense?[]:{},i="Sheet1",s="",o=0,l={},c=[],d=[],h={s:{r:0,c:0},e:{r:0,c:0}},p=a.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw Error("Unsupported Works 3 for Mac file");if(2==t[2])a.Enum=u,e(t,function(e,t,r){switch(r){case 0:a.vers=e,e>=4096&&(a.qpro=!0);break;case 6:h=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:a.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&(112&e[2])==112&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=a.dateNF||ur[14],a.cellDates&&(e[1].t="d",e[1].v=uG(e[1].v))),a.qpro&&e[3]>o&&(n["!ref"]=hL(h),l[i]=n,c.push(i),n=a.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i=s||"Sheet"+(o+1),s="");var d=a.dense?(n[e[0].r]||[])[e[0].c]:n[hD(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}a.dense?(n[e[0].r]||(n[e[0].r]=[]),n[e[0].r][e[0].c]=e[1]):n[hD(e[0])]=e[1]}},a);else if(26==t[2]||14==t[2])a.Enum=f,14==t[2]&&(a.qpro=!0,t.l=0),e(t,function(e,t,r){switch(r){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(n["!ref"]=hL(h),l[i]=n,c.push(i),n=a.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},i="Sheet"+((o=e[3])+1)),p>0&&e[0].r>=p)break;a.dense?(n[e[0].r]||(n[e[0].r]=[]),n[e[0].r][e[0].c]=e[1]):n[hD(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(i=e[1])}},a);else throw Error("Unrecognized LOTUS BOF "+t[2]);if(n["!ref"]=hL(h),l[s||i]=n,c.push(s||i),!d.length)return{SheetNames:c,Sheets:l};for(var m={},x=[],g=0;g<d.length;++g)l[c[g]]?(x.push(d[g]||c[g]),m[d[g]]=l[d[g]]||l[c[g]]):(x.push(d[g]),m[d[g]]={"!ref":"A1"});return{SheetNames:x,Sheets:m}}function r(e,t,r){var a=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(a[0].c=e.read_shift(1),a[3]=e.read_shift(1),a[0].r=e.read_shift(2),e.l+=2):(a[2]=e.read_shift(1),a[0].c=e.read_shift(2),a[0].r=e.read_shift(2)),a}function a(e,t,a){var n=e.l+t,i=r(e,t,a);if(i[1].t="s",20768==a.vers){e.l++;var s=e.read_shift(1);return i[1].v=e.read_shift(s,"utf8"),i}return a.qpro&&e.l++,i[1].v=e.read_shift(n-e.l,"cstr"),i}function n(e,t,r){var a=32768&t;return t&=-32769,t=(a?e:0)+(t>=8192?t-16384:t),(a?"":"$")+(r?hR(t):hO(t))}var i={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},s=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function o(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function l(e,t){var r=o(e,t),a=e.read_shift(4),n=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===a&&0xc0000000===n?(r[1].t="e",r[1].v=15):0===a&&0xd0000000===n?(r[1].t="e",r[1].v=42):r[1].v=0,r;var s=32768&i;return i=(32767&i)-16446,r[1].v=(1-2*s)*(n*Math.pow(2,i+32)+a*Math.pow(2,i)),r}function c(e,t){var r=o(e,t),a=e.read_shift(8,"f");return r[1].v=a,r}function d(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}var u={0:{n:"BOF",f:p8},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var a={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(a.s.c=e.read_shift(1),e.l++,a.s.r=e.read_shift(2),a.e.c=e.read_shift(1),e.l++,a.e.r=e.read_shift(2)):(a.s.c=e.read_shift(2),a.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),a.e.c=e.read_shift(2),a.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==a.s.c&&(a.s.c=a.e.c=a.s.r=a.e.r=0)),a}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,a){var n=r(e,t,a);return n[1].v=e.read_shift(2,"i"),n}},14:{n:"NUMBER",f:function(e,t,a){var n=r(e,t,a);return n[1].v=e.read_shift(8,"f"),n}},15:{n:"LABEL",f:a},16:{n:"FORMULA",f:function(e,t,a){var o=e.l+t,l=r(e,t,a);if(l[1].v=e.read_shift(8,"f"),a.qpro)e.l=o;else{var c=e.read_shift(2);(function(e,t){hy(e,0);for(var r=[],a=0,o="",l="",c="",d="";e.l<e.length;){var u=e[e.l++];switch(u){case 0:r.push(e.read_shift(8,"f"));break;case 1:l=n(t[0].c,e.read_shift(2),!0),o=n(t[0].r,e.read_shift(2),!1),r.push(l+o);break;case 2:var f=n(t[0].c,e.read_shift(2),!0),h=n(t[0].r,e.read_shift(2),!1);l=n(t[0].c,e.read_shift(2),!0),o=n(t[0].r,e.read_shift(2),!1),r.push(f+h+":"+l+o);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";u=e[e.l++];)p+=String.fromCharCode(u);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:d=r.pop(),c=r.pop(),r.push(["AND","OR"][u-20]+"("+c+","+d+")");break;default:if(u<32&&s[u])d=r.pop(),c=r.pop(),r.push(c+s[u]+d);else if(i[u]){if(69==(a=i[u][1])&&(a=e[e.l++]),a>r.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+r.join("|")+"|");var m=r.slice(-a);r.length-=a,r.push(i[u][0]+"("+m.join(",")+")")}else if(u<=7)return console.error("WK1 invalid opcode "+u.toString(16));else if(u<=24)return console.error("WK1 unsupported op "+u.toString(16));else if(u<=30)return console.error("WK1 invalid opcode "+u.toString(16));else if(u<=115)return console.error("WK1 unsupported function opcode "+u.toString(16));else return console.error("WK1 unrecognized opcode "+u.toString(16))}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")})(e.slice(e.l,e.l+c),l),e.l+=c}return l}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:a},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:d},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var a="";a.length<r;)a+=String.fromCharCode(e[e.l++]);return a}},65535:{n:""}},f={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=o(e,t);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:l},24:{n:"NUMBER18",f:function(e,t){var r=o(e,t);r[1].v=e.read_shift(2);var a=r[1].v>>1;if(1&r[1].v)switch(7&a){case 0:a=(a>>3)*5e3;break;case 1:a=(a>>3)*500;break;case 2:a=(a>>3)/20;break;case 3:a=(a>>3)/200;break;case 4:a=(a>>3)/2e3;break;case 5:a=(a>>3)/2e4;break;case 6:a=(a>>3)/16;break;case 7:a=(a>>3)/64}return r[1].v=a,r}},25:{n:"FORMULA19",f:function(e,t){var r=l(e,14);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},a=e.l+t;e.l<a;){var n=e.read_shift(2);if(14e3==n){for(r[n]=[0,""],r[n][0]=e.read_shift(2);e[e.l];)r[n][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=o(e,t),a=e.read_shift(4);return r[1].v=a>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:c},40:{n:"FORMULA28",f:function(e,t){var r=c(e,14);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:d},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var a=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[a,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r,a,n,i,s=t||{};if(+s.codepage>=0&&dL(+s.codepage),"string"==s.type)throw Error("Cannot write WK1 to JS string");var o=hE(),l=hF(e["!ref"]),c=Array.isArray(e),d=[];g0(o,0,(r=1030,(a=hj(2)).write_shift(2,1030),a)),g0(o,6,(n=l,(i=hj(8)).write_shift(2,n.s.c),i.write_shift(2,n.s.r),i.write_shift(2,n.e.c),i.write_shift(2,n.e.r),i));for(var u=Math.min(l.e.r,8191),f=l.s.r;f<=u;++f)for(var h=hO(f),p=l.s.c;p<=l.e.c;++p){f===l.s.r&&(d[p]=hR(p));var m=d[p]+h,x=c?(e[f]||[])[p]:e[m];x&&"z"!=x.t&&("n"==x.t?(0|x.v)==x.v&&x.v>=-32768&&x.v<=32767?g0(o,13,function(e,t,r){var a=hj(7);return a.write_shift(1,255),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(2,r,"i"),a}(f,p,x.v)):g0(o,14,function(e,t,r){var a=hj(13);return a.write_shift(1,255),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(8,r,"f"),a}(f,p,x.v)):g0(o,15,function(e,t,r){var a=hj(7+r.length);a.write_shift(1,255),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(1,39);for(var n=0;n<a.length;++n){var i=r.charCodeAt(n);a.write_shift(1,i>=128?95:i)}return a.write_shift(1,0),a}(f,p,hz(x).slice(0,239))))}return g0(o,1),o.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&dL(+r.codepage),"string"==r.type)throw Error("Cannot write WK3 to JS string");var a=hE();g0(a,0,function(e){var t=hj(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,a=0,n=0,i=0;i<e.SheetNames.length;++i){var s=e.SheetNames[i],o=e.Sheets[s];if(o&&o["!ref"]){++n;var l=hM(o["!ref"]);r<l.e.r&&(r=l.e.r),a<l.e.c&&(a=l.e.c)}}return r>8191&&(r=8191),t.write_shift(2,r),t.write_shift(1,n),t.write_shift(1,a),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var n=0,i=0;n<e.SheetNames.length;++n)(e.Sheets[e.SheetNames[n]]||{})["!ref"]&&g0(a,27,function(e,t){var r=hj(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var a=0;a<e.length;++a){var n=e.charCodeAt(a);r[r.l++]=n>127?95:n}return r[r.l++]=0,r}(e.SheetNames[n],i++));var s=0;for(n=0;n<e.SheetNames.length;++n){var o=e.Sheets[e.SheetNames[n]];if(o&&o["!ref"]){for(var l=hF(o["!ref"]),c=Array.isArray(o),d=[],u=Math.min(l.e.r,8191),f=l.s.r;f<=u;++f)for(var h=hO(f),p=l.s.c;p<=l.e.c;++p){f===l.s.r&&(d[p]=hR(p));var m=d[p]+h,x=c?(o[f]||[])[p]:o[m];x&&"z"!=x.t&&("n"==x.t?g0(a,23,function(e,t,r,a){var n=hj(14);if(n.write_shift(2,e),n.write_shift(1,r),n.write_shift(1,t),0==a)return n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,65535),n;var i=0,s=0,o=0,l=0;return a<0&&(i=1,a=-a),s=0|Math.log2(a),a/=Math.pow(2,s-31),(0x80000000&(l=a>>>0))==0&&(a/=2,++s,l=a>>>0),a-=l,l|=0x80000000,l>>>=0,a*=0x100000000,o=a>>>0,n.write_shift(4,o),n.write_shift(4,l),s+=16383+32768*!!i,n.write_shift(2,s),n}(f,p,s,x.v)):g0(a,22,function(e,t,r,a){var n=hj(6+a.length);n.write_shift(2,e),n.write_shift(1,r),n.write_shift(1,t),n.write_shift(1,39);for(var i=0;i<a.length;++i){var s=a.charCodeAt(i);n.write_shift(1,s>=128?95:s)}return n.write_shift(1,0),n}(f,p,s,hz(x).slice(0,239))))}++s}}return g0(a,1),a.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(dZ(dG(e)),r);case"binary":return t(dZ(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}(),mz=function(){var e=fC("t"),t=fC("rPr");function r(r){var a=r.match(e);if(!a)return{t:"s",v:""};var n={t:"s",v:fm(a[1])},i=r.match(t);return i&&(n.s=function(e){var t={},r=e.match(fl),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=fu(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==i.val)break;t.cp=dD[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==i.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==i.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":case"<color>":case"<color/>":case"</color>":case"<family>":case"<family/>":case"</family>":case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<family":t.family=i.val;break;case"<vertAlign":t.valign=i.val;break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(47!==i[0].charCodeAt(1)&&!n)throw Error("Unrecognized rich format "+i[0])}}return t}(i[1])),n}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(e){return e.replace(a,"").split(n).map(r).filter(function(e){return e.v})}}(),mB=function(){var e=/(\r\n|\n)/g;function t(t){var r,a,n,i,s,o=[[],t.v,[]];return t.v?(t.s&&(r=t.s,a=o[0],n=o[2],i=[],r.u&&i.push("text-decoration: underline;"),r.uval&&i.push("text-underline-style:"+r.uval+";"),r.sz&&i.push("font-size:"+r.sz+"pt;"),r.outline&&i.push("text-effect: outline;"),r.shadow&&i.push("text-shadow: auto;"),a.push('<span style="'+i.join("")+'">'),r.b&&(a.push("<b>"),n.push("</b>")),r.i&&(a.push("<i>"),n.push("</i>")),r.strike&&(a.push("<s>"),n.push("</s>")),"superscript"==(s=r.valign||"")||"super"==s?s="sup":"subscript"==s&&(s="sub"),""!=s&&(a.push("<"+s+">"),n.push("</"+s+">")),n.push("</span>")),o[0].join("")+o[1].replace(e,"<br/>")+o[2].join("")):""}return function(e){return e.map(t).join("")}}(),mV=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,m$=/<(?:\w+:)?r>/,mH=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function mW(e,t){var r=!t||t.cellHTML,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=fm(fA(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=fA(e),r&&(a.h=fw(a.t))):e.match(m$)&&(a.r=fA(e),a.t=fm(fA((e.replace(mH,"").match(mV)||[]).join("").replace(fl,""))),r&&(a.h=mB(mz(a.r)))),a):{t:""}}var mG=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,mq=/<(?:\w+:)?(?:si|sstItem)>/g,mK=/<\/(?:\w+:)?(?:si|sstItem)>/,mY=/^\s|\s$|[\t\n\r]/;function mX(e,t){if(!t.bookSST)return"";var r=[fi];r[r.length]=fU("sst",null,{xmlns:fK[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(null!=e[a]){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(mY)&&(i+=' xml:space="preserve"'),i+=">"+fb(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var mZ=function(e,t){var r=!1;return null==t&&(r=!0,t=hj(15+4*e.t.length)),t.write_shift(1,0),hW(e.t,t),r?t.slice(0,t.l):t};function mJ(e){if(void 0!==en)return en.utils.encode(dR,e);for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function mQ(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function m0(e,t){var r=e.l+t,a={};a.Flags=63&e.read_shift(4),e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=36==a.Flags;break;case 26625:n=4==a.Flags;break;case 0:n=16==a.Flags||4==a.Flags||36==a.Flags;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function m1(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function m2(e){var t,r,a=0,n=mJ(e),i=n.length+1;for(r=1,(t=dY(i))[0]=n.length;r!=i;++r)t[r]=n[r-1];for(r=i-1;r>=0;--r)a=((16384&a)!=0|a<<1&32767)^t[r];return 52811^a}var m4=(I=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],D=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],M=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],L=function(e,t){var r;return((r=e^t)/2|128*r)&255},F=function(e){for(var t=D[e.length-1],r=104,a=e.length-1;a>=0;--a)for(var n=e[a],i=0;7!=i;++i)64&n&&(t^=M[r]),n*=2,--r;return t},function(e){for(var t,r,a,n=mJ(e),i=F(n),s=n.length,o=dY(16),l=0;16!=l;++l)o[l]=0;for((1&s)==1&&(t=i>>8,o[s]=L(I[0],t),--s,t=255&i,r=n[n.length-1],o[s]=L(r,t));s>0;)--s,t=i>>8,o[s]=L(n[s],t),--s,t=255&i,o[s]=L(n[s],t);for(s=15,a=15-n.length;a>0;)t=i>>8,o[s]=L(I[a],t),--s,--a,t=255&i,o[s]=L(n[s],t),--s,--a;return o}),m3=function(e,t,r,a,n){var i,s;for(n||(n=t),a||(a=m4(e)),i=0;i!=t.length;++i)s=((s=t[i]^a[r])>>5|s<<3)&255,n[i]=s,++r;return[n,r,a]},m5=function(e){var t=0,r=m4(e);return function(e){var a=m3("",e,t,r);return t=a[1],a[0]}},m6=function(){function e(e,r){switch(r.type){case"base64":return t(dG(e),r);case"binary":return t(e,r);case"buffer":return t(dq&&dC.Buffer.isBuffer(e)?e.toString("binary"):dQ(e),r);case"array":return t(uZ(e),r)}throw Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},a=e.match(/\\trowd.*?\\row\b/g);if(!a.length)throw Error("RTF missing table");var n={s:{c:0,r:0},e:{c:0,r:a.length-1}};return a.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);for(var a,i=/\\\w+\b/g,s=0,o=-1;a=i.exec(e);){if("\\cell"===a[0]){var l=e.slice(s,i.lastIndex-a[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[hD({r:t,c:o})]=c}}s=i.lastIndex}o>n.e.c&&(n.e.c=o)}),r["!ref"]=hL(n),r}return{to_workbook:function(t,r){return hB(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],a=hF(e["!ref"]),n=Array.isArray(e),i=a.s.r;i<=a.e.r;++i){r.push("\\trowd\\trautofit1");for(var s=a.s.c;s<=a.e.c;++s)r.push("\\cellx"+(s+1));for(r.push("\\pard\\intbl"),s=a.s.c;s<=a.e.c;++s){var o=hD({r:i,c:s});(t=n?(e[i]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(hz(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function m8(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function m7(e,t){if(0===t)return e;var r,a=function(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),s=n-i;if(0===s)return[0,0,t];var o=0,l=0,c=n+i;switch(l=s/(c>1?2-c:c),n){case t:o=((r-a)/s+6)%6;break;case r:o=(a-t)/s+2;break;case a:o=(t-r)/s+4}return[o/6,l,c/2]}([parseInt((r=e.slice(+("#"===e[0])).slice(0,6)).slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]);return t<0?a[2]=a[2]*(1+t):a[2]=1-(1-a[2])*(1-t),m8(function(e){var t,r=e[0],a=e[1],n=e[2],i=2*a*(n<.5?n:1-n),s=n-i/2,o=[s,s,s],l=6*r;if(0!==a)switch(0|l){case 0:case 6:t=i*l,o[0]+=i,o[1]+=t;break;case 1:t=i*(2-l),o[0]+=t,o[1]+=i;break;case 2:t=i*(l-2),o[1]+=i,o[2]+=t;break;case 3:t=i*(4-l),o[1]+=t,o[2]+=i;break;case 4:t=i*(l-4),o[2]+=i,o[0]+=t;break;case 5:t=i*(6-l),o[2]+=t,o[0]+=i}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(a))}var m9=6;function xe(e){return Math.floor((e+Math.round(128/m9)/256)*m9)}function xt(e){return Math.floor((e-5)/m9*100+.5)/100}function xr(e){return Math.round((e*m9+5)/m9*256)/256}function xa(e){return xr(xt(xe(e)))}function xn(e){var t=Math.abs(e-xa(e)),r=m9;if(t>.005)for(m9=1;m9<15;++m9)Math.abs(e-xa(e))<=t&&(t=Math.abs(e-xa(e)),r=m9);m9=r}function xi(e){e.width?(e.wpx=xe(e.width),e.wch=xt(e.wpx),e.MDW=m9):e.wpx?(e.wch=xt(e.wpx),e.width=xr(e.wch),e.MDW=m9):"number"==typeof e.wch&&(e.width=xr(e.wch),e.wpx=xe(e.width),e.MDW=m9),e.customWidth&&delete e.customWidth}function xs(e){return 96*e/96}function xo(e){return 96*e/96}var xl={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},xc=["numFmtId","fillId","fontId","borderId","xfId"],xd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],xu=(U=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,z=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,B=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,V=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,H=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/,function(e,t,r){var a,n,i,s,o,l,c,d,u,f,h,p,m,x={};return e?((m=(e=e.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(U))&&function(e,t,r){t.NumberFmt=[];for(var a=uL(ur),n=0;n<a.length;++n)t.NumberFmt[a[n]]=ur[a[n]];var i=e[0].match(fl);if(i)for(n=0;n<i.length;++n){var s=fu(i[n]);switch(ff(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=fm(fA(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}u_(o,l)}break;default:if(r.WTF)throw Error("unrecognized "+s[0]+" in numFmts")}}}(m,x,r),(m=e.match(V))&&(a=m,x.Fonts=[],n={},i=!1,(a[0].match(fl)||[]).forEach(function(e){var a=fu(e);switch(ff(a[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":x.Fonts.push(n),n={};break;case"<name":a.val&&(n.name=fA(a.val));break;case"<b":n.bold=a.val?fN(a.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=a.val?fN(a.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(a.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=a.val?fN(a.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=a.val?fN(a.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=a.val?fN(a.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=a.val?fN(a.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=a.val?fN(a.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":a.val&&(n.sz=+a.val);break;case"<vertAlign":a.val&&(n.vertAlign=a.val);break;case"<family":a.val&&(n.family=parseInt(a.val,10));break;case"<scheme":a.val&&(n.scheme=a.val);break;case"<charset":if("1"==a.val)break;a.codepage=dD[parseInt(a.val,10)];break;case"<color":if(n.color||(n.color={}),a.auto&&(n.color.auto=fN(a.auto)),a.rgb)n.color.rgb=a.rgb.slice(-6);else if(a.indexed){n.color.index=parseInt(a.indexed,10);var s=pr[n.color.index];81==n.color.index&&(s=pr[1]),s||(s=pr[1]),n.color.rgb=s[0].toString(16)+s[1].toString(16)+s[2].toString(16)}else a.theme&&(n.color.theme=parseInt(a.theme,10),a.tint&&(n.color.tint=parseFloat(a.tint)),a.theme&&t.themeElements&&t.themeElements.clrScheme&&(n.color.rgb=m7(t.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw Error("unrecognized "+a[0]+" in fonts")}})),(m=e.match(B))&&(s=m,x.Fills=[],o={},l=!1,(s[0].match(fl)||[]).forEach(function(e){var t=fu(e);switch(ff(t[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":o={},x.Fills.push(o);break;case"<gradientFill":case"</gradientFill>":x.Fills.push(o),o={};break;case"<patternFill":case"<patternFill>":t.patternType&&(o.patternType=t.patternType);break;case"<bgColor":o.bgColor||(o.bgColor={}),t.indexed&&(o.bgColor.indexed=parseInt(t.indexed,10)),t.theme&&(o.bgColor.theme=parseInt(t.theme,10)),t.tint&&(o.bgColor.tint=parseFloat(t.tint)),t.rgb&&(o.bgColor.rgb=t.rgb.slice(-6));break;case"<fgColor":o.fgColor||(o.fgColor={}),t.theme&&(o.fgColor.theme=parseInt(t.theme,10)),t.tint&&(o.fgColor.tint=parseFloat(t.tint)),null!=t.rgb&&(o.fgColor.rgb=t.rgb.slice(-6));break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw Error("unrecognized "+t[0]+" in fills")}})),(m=e.match(H))&&(c=m,x.Borders=[],d={},u=!1,(c[0].match(fl)||[]).forEach(function(e){var t=fu(e);switch(ff(t[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":d={},t.diagonalUp&&(d.diagonalUp=fN(t.diagonalUp)),t.diagonalDown&&(d.diagonalDown=fN(t.diagonalDown)),x.Borders.push(d);break;case"<ext":u=!0;break;case"</ext>":u=!1;break;default:if(r&&r.WTF&&!u)throw Error("unrecognized "+t[0]+" in borders")}})),(m=e.match(z))&&(f=m,x.CellXf=[],p=!1,(f[0].match(fl)||[]).forEach(function(e){var t=fu(e),a=0;switch(ff(t[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(h=t,delete h[0],a=0;a<xc.length;++a)h[xc[a]]&&(h[xc[a]]=parseInt(h[xc[a]],10));for(a=0;a<xd.length;++a)h[xd[a]]&&(h[xd[a]]=fN(h[xd[a]]));if(x.NumberFmt&&h.numFmtId>392){for(a=392;a>60;--a)if(x.NumberFmt[h.numFmtId]==x.NumberFmt[a]){h.numFmtId=a;break}}x.CellXf.push(h);break;case"<alignment":case"<alignment/>":var n={};t.vertical&&(n.vertical=t.vertical),t.horizontal&&(n.horizontal=t.horizontal),null!=t.textRotation&&(n.textRotation=t.textRotation),t.indent&&(n.indent=t.indent),t.wrapText&&(n.wrapText=fN(t.wrapText)),h.alignment=n;break;case"<AlternateContent":case"<ext":p=!0;break;case"</AlternateContent>":case"</ext>":p=!1;break;default:if(r&&r.WTF&&!p)throw Error("unrecognized "+t[0]+" in cellXfs")}})),x):x});function xf(e,t){var r,a,n,i,s,o=[fi,fU("styleSheet",null,{xmlns:fK[0],"xmlns:vt":fG})];return e.SSF&&null!=(r=e.SSF,a=["<numFmts>"],[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var t=e[0];t<=e[1];++t)null!=r[t]&&(a[a.length]=fU("numFmt",null,{numFmtId:t,formatCode:fb(r[t])}))}),s=1===a.length?"":(a[a.length]="</numFmts>",a[0]=fU("numFmts",null,{count:a.length-2}).replace("/>",">"),a.join("")))&&(o[o.length]=s),o[o.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',o[o.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',o[o.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',o[o.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',n=t.cellXfs,(i=[])[i.length]=fU("cellXfs",null),n.forEach(function(e){i[i.length]=fU("xf",null,e)}),i[i.length]="</cellXfs>",(s=2===i.length?"":(i[0]=fU("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join("")))&&(o[o.length]=s),o[o.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',o[o.length]='<dxfs count="0"/>',o[o.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',o.length>2&&(o[o.length]="</styleSheet>",o[1]=o[1].replace("/>",">")),o.join("")}var xh=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function xp(e,t){t||(t=hj(84)),es||(es=uU(xh));var r=es[e.patternType];null==r&&(r=40),t.write_shift(4,r);var a=0;if(40!=r)for(h5({auto:1},t),h5({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function xm(e,t,r){return r||(r=hj(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function xx(e,t){return t||(t=hj(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var xg=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function xb(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(fl)||[]).forEach(function(e){var n=fu(e);switch(n[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=n.val;break;case"<a:sysClr":a.rgb=n.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===n[0].charAt(1)?(t.themeElements.clrScheme[xg.indexOf(n[0])]=a,a={}):a.name=n[0].slice(3,n[0].length-1);break;default:if(r&&r.WTF)throw Error("Unrecognized "+n[0]+" in clrScheme")}})}function xv(){}function xy(){}var xw=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xj=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,xN=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,xE=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function xS(e,t){e&&0!==e.length||(e=xk());var r,a,n,i={};if(!(n=e.match(xE)))throw Error("themeElements not found in theme");return r=n[0],i.themeElements={},[["clrScheme",xw,xb],["fontScheme",xj,xv],["fmtScheme",xN,xy]].forEach(function(e){if(!(a=r.match(e[1])))throw Error(e[0]+" not found in themeElements");e[2](a,i,t)}),i.raw=e,i}function xk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[fi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function xT(){var e=[fi];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var xA=1024;function x_(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[fU("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":fY,"xmlns:x":fX,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),fU("o:shapelayout",fU("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),fU("v:shapetype",[fU("v:stroke",null,{joinstyle:"miter"}),fU("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];xA<1e3*e;)xA+=1e3;return t.forEach(function(e){var t=hI(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var a="gradient"==r.type?fU("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=fU("v:fill",a,r);++xA,n=n.concat(["<v:shape"+fF({id:"_x0000_s"+xA,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,fU("v:shadow",null,{on:"t",obscured:"t"}),fU("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fL("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),fL("x:AutoFill","False"),fL("x:Row",String(t.r)),fL("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function xC(e,t,r,a){var n,i=Array.isArray(e);t.forEach(function(t){var s=hI(t.ref);if(i?(e[s.r]||(e[s.r]=[]),n=e[s.r][s.c]):n=e[t.ref],!n){n={t:"z"},i?e[s.r][s.c]=n:e[t.ref]=n;var o=hF(e["!ref"]||"BDWGO1000001:A1");o.s.r>s.r&&(o.s.r=s.r),o.e.r<s.r&&(o.e.r=s.r),o.s.c>s.c&&(o.s.c=s.c),o.e.c<s.c&&(o.e.c=s.c);var l=hL(o);l!==e["!ref"]&&(e["!ref"]=l)}n.c||(n.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var d=n.c.length-1;d>=0;--d){if(!r&&n.c[d].T)return;r&&!n.c[d].T&&n.c.splice(d,1)}if(r&&a){for(d=0;d<a.length;++d)if(c.a==a[d].id){c.a=a[d].name||c.a;break}}n.c.push(c)})}function xO(e){var t=[fi,fU("comments",null,{xmlns:fK[0]})],r=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var a=fb(e.a);-1==r.indexOf(a)&&(r.push(a),t.push("<author>"+a+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var a=0,n=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?a=r.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(a=r.indexOf(fb(e.a))),n.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+a+'"><text>'),n.length<=1)t.push(fL("t",fb(n[0]||"")));else{for(var i="Comment:\n    "+n[0]+"\n",s=1;s<n.length;++s)i+="Reply:\n    "+n[s]+"\n";t.push(fL("t",fb(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}var xP=["xlsb","xlsm","xlam","biff8","xla"],xR=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,a,n){var i=!1,s=!1;0==a.length?s=!0:"["==a.charAt(0)&&(s=!0,a=a.slice(1,-1)),0==n.length?i=!0:"["==n.charAt(0)&&(i=!0,n=n.slice(1,-1));var o=a.length>0?0|parseInt(a,10):0,l=n.length>0?0|parseInt(n,10):0;return i?l+=t.c:--l,s?o+=t.r:--o,r+(i?"":"$")+hR(l)+(s?"":"$")+hO(o)}return function(a,n){return t=n,a.replace(e,r)}}(),xI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,xD=function(e,t){return e.replace(xI,function(e,r,a,n,i,s){var o=hP(n)-(a?0:t.c),l=hC(s)-(i?0:t.r);return r+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==o?"":a?o+1:"["+o+"]")})};function xM(e,t){return e.replace(xI,function(e,r,a,n,i,s){return r+("$"==a?a+n:hR(hP(n)+t.c))+("$"==i?i+s:hO(hC(s)+t.r))})}function xL(e){return e.replace(/_xlfn\./g,"")}function xF(e){e.l+=1}function xU(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function xz(e,t,r){var a=2;if(r)if(r.biff>=2&&r.biff<=5)return xB(e,t,r);else 12==r.biff&&(a=4);var n=e.read_shift(a),i=e.read_shift(a),s=xU(e,2),o=xU(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function xB(e){var t=xU(e,2),r=xU(e,2),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function xV(e,t,r){if(r&&r.biff>=2&&r.biff<=5){var a,n,i;return n=xU(a=e,2),i=a.read_shift(1),{r:n[0],c:i,cRel:n[1],rRel:n[2]}}var s=e.read_shift(r&&12==r.biff?4:2),o=xU(e,2);return{r:s,c:o[0],cRel:o[1],rRel:o[2]}}function x$(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function xH(e){return[e.read_shift(1),e.read_shift(1)]}function xW(e,t,r){var a;return e.l+=2,[{r:e.read_shift(2),c:255&(a=e.read_shift(2)),fQuoted:!!(16384&a),cRel:a>>15,rRel:a>>15}]}function xG(e){return e.l+=6,[]}function xq(e){return e.l+=2,[p8(e),1&e.read_shift(2)]}var xK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],xY={1:{n:"PtgExp",f:function(e,t,r){return(e.l++,r&&12==r.biff)?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:hw},3:{n:"PtgAdd",f:xF},4:{n:"PtgSub",f:xF},5:{n:"PtgMul",f:xF},6:{n:"PtgDiv",f:xF},7:{n:"PtgPower",f:xF},8:{n:"PtgConcat",f:xF},9:{n:"PtgLt",f:xF},10:{n:"PtgLe",f:xF},11:{n:"PtgEq",f:xF},12:{n:"PtgGe",f:xF},13:{n:"PtgGt",f:xF},14:{n:"PtgNe",f:xF},15:{n:"PtgIsect",f:xF},16:{n:"PtgUnion",f:xF},17:{n:"PtgRange",f:xF},18:{n:"PtgUplus",f:xF},19:{n:"PtgUminus",f:xF},20:{n:"PtgPercent",f:xF},21:{n:"PtgParen",f:xF},22:{n:"PtgMissArg",f:xF},23:{n:"PtgStr",f:function(e,t,r){return e.l++,mt(e,t-1,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,pa[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,h4(e,8)}},32:{n:"PtgArray",f:function(e,t,r){var a=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[a]}},33:{n:"PtgFunc",f:function(e,t,r){var a=(96&e[e.l])>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[x9[n],x7[n],a]}},34:{n:"PtgFuncVar",f:function(e,t,r){var a,n=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:[(a=e)[a.l+1]>>7,32767&a.read_shift(2)];return[i,(0===s[0]?x7:x8)[s[1]]]}},35:{n:"PtgName",f:function(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[a,0,i]}},36:{n:"PtgRef",f:function(e,t,r){var a=(96&e[e.l])>>5;return e.l+=1,[a,xV(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,xz(e,r.biff>=2&&r.biff<=5?6:8,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[a,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:hw},40:{n:"PtgMemNoMem",f:hw},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[a]}},43:{n:"PtgAreaErr",f:function(e,t,r){var a=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}},44:{n:"PtgRefN",f:function(e,t,r){var a=(96&e[e.l])>>5;return e.l+=1,[a,function(e,t,r){var a,n,i,s,o,l=r&&r.biff?r.biff:8;if(l>=2&&l<=5){return n=(a=e).read_shift(2),i=a.read_shift(1),s=(32768&n)>>15,o=(16384&n)>>14,n&=16383,1==s&&n>=8192&&(n-=16384),1==o&&i>=128&&(i-=256),{r:n,c:i,cRel:o,rRel:s}}var c=e.read_shift(l>=12?4:2),d=e.read_shift(2),u=(16384&d)>>14,f=(32768&d)>>15;if(d&=16383,1==f)for(;c>524287;)c-=1048576;if(1==u)for(;d>8191;)d-=16384;return{r:c,c:d,cRel:u,rRel:f}}(e,0,r)]}},45:{n:"PtgAreaN",f:function(e,t,r){return[(96&e[e.l++])>>5,function(e,t,r){if(r.biff<8)return xB(e,t,r);var a=e.read_shift(12==r.biff?4:2),n=e.read_shift(12==r.biff?4:2),i=xU(e,2),s=xU(e,2);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}(e,t-1,r)]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){var a,n,i,s;return 5==r.biff?(n=(a=e).read_shift(1)>>>5&3,i=a.read_shift(2,"i"),a.l+=8,s=a.read_shift(2),a.l+=12,[n,i,s]):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var a=(96&e[e.l])>>5;e.l+=1;var n=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[a,n,xV(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var a=(96&e[e.l++])>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return[a,n,xz(e,i,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var a=(96&e[e.l++])>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[a,n]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var a=(96&e[e.l++])>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[a,n]}},255:{}},xX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xZ={1:{n:"PtgElfLel",f:xq},2:{n:"PtgElfRw",f:xW},3:{n:"PtgElfCol",f:xW},6:{n:"PtgElfRwV",f:xW},7:{n:"PtgElfColV",f:xW},10:{n:"PtgElfRadical",f:xW},11:{n:"PtgElfRadicalS",f:xG},13:{n:"PtgElfColS",f:xG},15:{n:"PtgElfColSV",f:xG},16:{n:"PtgElfRadicalLel",f:xq},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),s=xK[r>>2&31];return{ixti:t,coltype:3&r,rt:s,idx:a,c:n,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},xJ={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var a=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[a]}},2:{n:"PtgAttrIf",f:function(e,t,r){var a=255&e[e.l+1]?1:0;return e.l+=2,[a,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var a=e.read_shift(r&&2==r.biff?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&2==r.biff?1:2));return n}},8:{n:"PtgAttrGoto",f:function(e,t,r){var a=255&e[e.l+1]?1:0;return e.l+=2,[a,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:x$},33:{n:"PtgAttrBaxcel",f:x$},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),xH(e,2)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),xH(e,2)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function xQ(e,t,r,a){if(a.biff<8)return n=t,void(e.l+=n);for(var n,i,s=e.l+t,o=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=function(e,t,r){var a=0,n=0;12==r.biff?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,0==--n&&(n=256));for(var i=0,s=[];i!=a&&(s[i]=[]);++i)for(var o=0;o!=n;++o)s[i][o]=function(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=p5(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=pa[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=h4(e,8);break;case 2:r[1]=mn(e,0,{biff:t>0&&t<8?2:t});break;default:throw Error("Bad SerAr: "+r[0])}return r}(e,r.biff);return s}(e,0,a),o.push(r[l][1]);break;case"PtgMemArea":r[l][2]=function(e,t,r){for(var a=e.read_shift(12==r.biff?4:2),n=[],i=0;i!=a;++i)n.push((12==r.biff?h1:mh)(e,8));return n}(e,r[l][1],a),o.push(r[l][2]);break;case"PtgExp":a&&12==a.biff&&(r[l][1][1]=e.read_shift(4),o.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return 0!=(t=s-e.l)&&o.push((i=t,void(e.l+=i))),o}function x0(e,t,r){for(var a,n,i,s=e.l+t,o=[];s!=e.l;)(t=s-e.l,n=xY[i=e[e.l]]||xY[xX[i]],(24===i||25===i)&&(n=(24===i?xZ:xJ)[e[e.l+1]]),n&&n.f)?o.push([n.n,n.f(e,t,r)]):(a=t,e.l+=a);return o}var x1={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function x2(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=-1==a[1]?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:if(null!=r.SID)return e.SheetNames[r.SID];return"SH33TJSSAME"+e[a[0]][0];default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=-1==a[1]?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(e){return e.Name}).join(";;");default:if(!e[a[0]][0][3])return"SH33TJSERR2";return n=-1==a[1]?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]}}function x4(e,t,r){var a=x2(e,t,r);return"#REF"==a?a:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(a,r)}function x3(e,t,r,a,n){var i,s,o,l,c=n&&n.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},u=[],f=0,h=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,b=e[0].length;g<b;++g){var v=e[0][g];switch(v[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=u.pop(),s=u.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=uQ(" ",e[0][m][1][1]);break;case 1:x=uQ("\r",e[0][m][1][1]);break;default:if(x="",n.WTF)throw Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=x,m=-1}u.push(s+x1[v[0]]+i);break;case"PtgIsect":i=u.pop(),s=u.pop(),u.push(s+" "+i);break;case"PtgUnion":i=u.pop(),s=u.pop(),u.push(s+","+i);break;case"PtgRange":i=u.pop(),s=u.pop(),u.push(s+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=hk(v[1][1],d,n),u.push(hA(o,c));break;case"PtgRefN":o=r?hk(v[1][1],r,n):v[1][1],u.push(hA(o,c));break;case"PtgRef3d":f=v[1][1],o=hk(v[1][2],d,n),p=x4(a,f,n),u.push(p+"!"+hA(o,c));break;case"PtgFunc":case"PtgFuncVar":var y=v[1][0],w=v[1][1];y||(y=0);var j=0==(y&=127)?[]:u.slice(-y);u.length-=y,"User"===w&&(w=j.shift()),u.push(w+"("+j.join(",")+")");break;case"PtgBool":u.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(v[1]);break;case"PtgNum":u.push(String(v[1]));break;case"PtgStr":u.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=hT(v[1][1],r?{s:r}:d,n),u.push(h_(l,n));break;case"PtgArea":l=hT(v[1][1],d,n),u.push(h_(l,n));break;case"PtgArea3d":f=v[1][1],l=v[1][2],p=x4(a,f,n),u.push(p+"!"+h_(l,n));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":h=v[1][2];var N=(a.names||[])[h-1]||(a[0]||[])[h],E=N?N.Name:"SH33TJSNAME"+String(h);E&&"_xlfn."==E.slice(0,6)&&!n.xlfn&&(E=E.slice(6)),u.push(E);break;case"PtgNameX":var S,k=v[1][1];if(h=v[1][2],n.biff<=5)k<0&&(k=-k),a[k]&&(S=a[k][h]);else{var T="";if(14849==((a[k]||[])[0]||[])[0]||(1025==((a[k]||[])[0]||[])[0]?a[k][h]&&a[k][h].itab>0&&(T=a.SheetNames[a[k][h].itab-1]+"!"):T=a.SheetNames[h-1]+"!"),a[k]&&a[k][h])T+=a[k][h].Name;else if(a[0]&&a[0][h])T+=a[0][h].Name;else{var A=(x2(a,k,n)||"").split(";;");A[h-1]?T=A[h-1]:T+="SH33TJSERRX"}u.push(T);break}S||(S={Name:"SH33TJSERRY"}),u.push(S.Name);break;case"PtgParen":var _="(",C=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:_=uQ(" ",e[0][m][1][1])+_;break;case 3:_=uQ("\r",e[0][m][1][1])+_;break;case 4:C=uQ(" ",e[0][m][1][1])+C;break;case 5:C=uQ("\r",e[0][m][1][1])+C;break;default:if(n.WTF)throw Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}u.push(_+u.pop()+C);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:v[1][1],r:v[1][0]};var O={c:r.c,r:r.r};if(a.sharedf[hD(o)]){var P=a.sharedf[hD(o)];u.push(x3(P,d,O,a,n))}else{var R=!1;for(i=0;i!=a.arrayf.length;++i)if((s=a.arrayf[i],!(o.c<s[0].s.c)&&!(o.c>s[0].e.c))&&!(o.r<s[0].s.r)&&!(o.r>s[0].e.r)){u.push(x3(s[1],d,O,a,n)),R=!0;break}R||u.push(v[1])}break;case"PtgArray":u.push("{"+function(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var s=a[i];s?2===s[0]?n.push('"'+s[1].replace(/"/g,'""')+'"'):n.push(s[1]):n.push("")}t.push(n.join(","))}return t.join(";")}(v[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw Error("Unsupported ELFs");default:throw Error("Unrecognized Formula Token: "+String(v))}var I=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(3!=n.biff&&m>=0&&-1==I.indexOf(e[0][g][0])){v=e[0][m];var D=!0;switch(v[1][0]){case 4:D=!1;case 0:x=uQ(" ",v[1][1]);break;case 5:D=!1;case 1:x=uQ("\r",v[1][1]);break;default:if(x="",n.WTF)throw Error("Unexpected PtgAttrSpaceType "+v[1][0])}u.push((D?x:"")+u.pop()+(D?"":x)),m=-1}}if(u.length>1&&n.WTF)throw Error("bad formula stack");return u[0]}function x5(e,t,r){var a=e.l+t,n=md(e,6);2==r.biff&&++e.l;var i=function(e){var t;if(65535!==hd(e,e.l+6))return[h4(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e,8),s=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=function(e,t,r){var a,n,i=e.l+t,s=2==r.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],(a=t-2,void(e.l+=a))];var l=x0(e,o,r);return t!==o+s&&(n=xQ(e,t-o-s,l,r)),e.l=i,[l,n]}(e,a-e.l,r);return{cell:n,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function x6(e,t,r){var a=e.read_shift(4),n=x0(e,a,r),i=e.read_shift(4),s=i>0?xQ(e,i,n,r):null;return[n,s]}var x8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},x7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},x9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ge(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function gt(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var gr={},ga={},gn="undefined"!=typeof Map;function gi(e,t,r){var a=0,n=e.length;if(r){if(gn?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=gn?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t:t},e.Count++,e.Unique++,r&&(gn?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function gs(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(m9=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?a=xt(t.wpx):null!=t.wch&&(a=t.wch),a>-1?(r.width=xr(a),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function go(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function gl(e,t,r){var a=r.revssf[null!=t.z?t.z:"General"],n=60,i=e.length;if(null==a&&r.ssf){for(;n<392;++n)if(null==r.ssf[n]){u_(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function gc(e,t,r,a,n,i){try{a.cellNF&&(e.z=ur[t])}catch(e){if(a.WTF)throw e}if("z"!==e.t||a.cellStyles){if("d"===e.t&&"string"==typeof e.v&&(e.v=uX(e.v)),(!a||!1!==a.cellText)&&"z"!==e.t)try{if(null==ur[t]&&u_(uP[t]||"General",t),"e"===e.t)e.w=e.w||pa[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=uf(e.v);else if("d"===e.t){var s=uV(e.v);(0|s)===s?e.w=s.toString(10):e.w=uf(s)}else{if(void 0===e.v)return"";e.w=uh(e.v,ga)}else"d"===e.t?e.w=uA(t,uV(e.v),ga):e.w=uA(t,e.v,ga)}catch(e){if(a.WTF)throw e}if(a.cellStyles&&null!=r)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=m7(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=m7(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(e){if(a.WTF&&i.Fills)throw e}}}var gd=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gu=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,gf=/<(?:\w:)?hyperlink [^>]*>/mg,gh=/"(\w*:\w*)"/,gp=/<(?:\w:)?col\b[^>]*[\/]?>/g,gm=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gx=/<(?:\w:)?pageMargins[^>]*\/>/g,gg=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,gb=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,gv=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function gy(e,t,r,a){var n=fu(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=fm(fA(n.codeName)))}var gw=["objects","scenarios","selectLockedCells","selectUnlockedCells"],gj=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"],gN=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,gE=(W=/<(?:\w+:)?c[ \/>]/,G=/<\/(?:\w+:)?row>/,q=/r=["']([^"']*)["']/,K=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,Y=/ref=["']([^"']*)["']/,X=fC("v"),Z=fC("f"),function(e,t,r,a,n,i){for(var s,o,l,c,d,u=0,f="",h=[],p=[],m=0,x=0,g=0,b="",v=0,y=0,w=0,j=0,N=Array.isArray(i.CellXf),E=[],S=[],k=Array.isArray(t),T=[],A={},_=!1,C=!!r.sheetStubs,O=e.split(G),P=0,R=O.length;P!=R;++P){var I=(f=O[P].trim()).length;if(0!==I){var D=0;t:for(u=0;u<I;++u)switch(f[u]){case">":if("/"!=f[u-1]){++u;break t}if(r&&r.cellStyles){if(v=null!=(o=fu(f.slice(D,u),!0)).r?parseInt(o.r,10):v+1,y=-1,r.sheetRows&&r.sheetRows<v)continue;A={},_=!1,o.ht&&(_=!0,A.hpt=parseFloat(o.ht),A.hpx=xo(A.hpt)),"1"==o.hidden&&(_=!0,A.hidden=!0),null!=o.outlineLevel&&(_=!0,A.level=+o.outlineLevel),_&&(T[v-1]=A)}break;case"<":D=u}if(D>=u)break;if(v=null!=(o=fu(f.slice(D,u),!0)).r?parseInt(o.r,10):v+1,y=-1,!r.sheetRows||!(r.sheetRows<v)){a.s.r>v-1&&(a.s.r=v-1),a.e.r<v-1&&(a.e.r=v-1),r&&r.cellStyles&&(A={},_=!1,o.ht&&(_=!0,A.hpt=parseFloat(o.ht),A.hpx=xo(A.hpt)),"1"==o.hidden&&(_=!0,A.hidden=!0),null!=o.outlineLevel&&(_=!0,A.level=+o.outlineLevel),_&&(T[v-1]=A)),h=f.slice(u).split(W);for(var M=0;M!=h.length&&"<"==h[M].trim().charAt(0);++M);for(u=0,h=h.slice(M);u!=h.length;++u)if(0!==(f=h[u].trim()).length){if(p=f.match(q),m=u,x=0,g=0,f="<c "+("<"==f.slice(0,1)?">":"")+f,null!=p&&2===p.length){for(x=0,m=0,b=p[1];x!=b.length&&!((g=b.charCodeAt(x)-64)<1)&&!(g>26);++x)m=26*m+g;y=--m}else++y;for(x=0;x!=f.length&&62!==f.charCodeAt(x);++x);if(++x,(o=fu(f.slice(0,x),!0)).r||(o.r=hD({r:v-1,c:y})),b=f.slice(x),s={t:""},null!=(p=b.match(X))&&""!==p[1]&&(s.v=fm(p[1])),r.cellFormula){if(null!=(p=b.match(Z))&&""!==p[1]){if(s.f=fm(fA(p[1])).replace(/\r\n/g,"\n"),r.xlfn||(s.f=xL(s.f)),p[0].indexOf('t="array"')>-1)s.F=(b.match(Y)||[])[1],s.F.indexOf(":")>-1&&E.push([hF(s.F),s.F]);else if(p[0].indexOf('t="shared"')>-1){c=fu(p[0]);var L=fm(fA(p[1]));r.xlfn||(L=xL(L)),S[parseInt(c.si,10)]=[c,L,o.r]}}else(p=b.match(/<f[^>]*\/>/))&&S[(c=fu(p[0])).si]&&(s.f=function(e,t,r){var a=hM(t).s,n=hI(r);return xM(e,{r:n.r-a.r,c:n.c-a.c})}(S[c.si][1],S[c.si][2],o.r));var F=hI(o.r);for(x=0;x<E.length;++x)F.r>=E[x][0].s.r&&F.r<=E[x][0].e.r&&F.c>=E[x][0].s.c&&F.c<=E[x][0].e.c&&(s.F=E[x][1])}if(null==o.t&&void 0===s.v)if(s.f||s.F)s.v=0,s.t="n";else{if(!C)continue;s.t="z"}else s.t=o.t||"n";switch(a.s.c>y&&(a.s.c=y),a.e.c<y&&(a.e.c=y),s.t){case"n":if(""==s.v||null==s.v){if(!C)continue;s.t="z"}else s.v=parseFloat(s.v);break;case"s":if(void 0===s.v){if(!C)continue;s.t="z"}else l=gr[parseInt(s.v,10)],s.v=l.t,s.r=l.r,r.cellHTML&&(s.h=l.h);break;case"str":s.t="s",s.v=null!=s.v?fA(s.v):"",r.cellHTML&&(s.h=fw(s.v));break;case"inlineStr":p=b.match(K),s.t="s",null!=p&&(l=mW(p[1]))?(s.v=l.t,r.cellHTML&&(s.h=l.h)):s.v="";break;case"b":s.v=fN(s.v);break;case"d":r.cellDates?s.v=uX(s.v,1):(s.v=uV(uX(s.v,1)),s.t="n");break;case"e":r&&!1===r.cellText||(s.w=s.v),s.v=pn[s.v]}if(w=j=0,d=null,N&&void 0!==o.s&&null!=(d=i.CellXf[o.s])&&(null!=d.numFmtId&&(w=d.numFmtId),r.cellStyles&&null!=d.fillId&&(j=d.fillId)),gc(s,w,j,r,n,i),r.cellDates&&N&&"n"==s.t&&uS(ur[w])&&(s.t="d",s.v=uG(s.v)),o.cm&&r.xlmeta){var U=(r.xlmeta.Cell||[])[o.cm-1];U&&"XLDAPR"==U.type&&(s.D=!0)}if(k){var z=hI(o.r);t[z.r]||(t[z.r]=[]),t[z.r][z.c]=s}else t[o.r]=s}}}}T.length>0&&(t["!rows"]=T)});function gS(e,t,r,a){var n,i=[fi,fU("worksheet",null,{xmlns:fK[0],"xmlns:r":fW})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];null==c&&(c={});var d=c["!ref"]||"A1",u=hF(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=hL(u)}a||(a={}),c["!comments"]=[];var f=[];!function(e,t,r,a,n){var i=!1,s={},o=null;if("xlsx"!==a.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(e){}i=!0,s.codeName=f_(fb(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+fU("outlinePr",null,c)}(i||o)&&(n[n.length]=fU("sheetPr",o,s))}(c,r,e,t,i),i[i.length]=fU("dimension",null,{ref:d}),i[i.length]=(h={workbookViewId:"0"},(((r||{}).Workbook||{}).Views||[])[0]&&(h.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),fU("sheetViews",fU("sheetView",null,h),{})),t.sheetFormat&&(i[i.length]=fU("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=c["!cols"]&&c["!cols"].length>0&&(i[i.length]=function(e,t){for(var r,a=["<cols>"],n=0;n!=t.length;++n)(r=t[n])&&(a[a.length]=fU("col",null,gs(n,r)));return a[a.length]="</cols>",a.join("")}(0,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],null!=c["!ref"]&&(l=function(e,t,r,a){var n,i,s=[],o=[],l=hF(e["!ref"]),c="",d="",u=[],f=0,h=0,p=e["!rows"],m=Array.isArray(e),x={r:d},g=-1;for(h=l.s.c;h<=l.e.c;++h)u[h]=hR(h);for(f=l.s.r;f<=l.e.r;++f){for(o=[],d=hO(f),h=l.s.c;h<=l.e.c;++h){n=u[h]+d;var b=m?(e[f]||[])[h]:e[n];void 0!==b&&null!=(c=function(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var n="",i=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=pa[e.v];break;case"d":a&&a.cellDates?n=uX(e.v,-1).toISOString():((e=uJ(e)).t="n",n=""+(e.v=uV(uX(e.v)))),void 0===e.z&&(e.z=ur[14]);break;default:n=e.v}var o=fL("v",fb(n)),l={r:t},c=gl(a.cellXfs,e,a);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=fL("v",""+gi(a.Strings,e.v,a.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=s),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=fU("f",fb(e.f),d)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),fU("c",o,l)}(b,n,e,t,r,a))&&o.push(c)}(o.length>0||p&&p[f])&&(x={r:d},p&&p[f]&&((i=p[f]).hidden&&(x.hidden=1),g=-1,i.hpx?g=xs(i.hpx):i.hpt&&(g=i.hpt),g>-1&&(x.ht=g,x.customHeight=1),i.level&&(x.outlineLevel=i.level)),s[s.length]=fU("row",o.join(""),x))}if(p)for(;f<p.length;++f)p&&p[f]&&(x={r:f+1},(i=p[f]).hidden&&(x.hidden=1),g=-1,i.hpx?g=xs(i.hpx):i.hpt&&(g=i.hpt),g>-1&&(x.ht=g,x.customHeight=1),i.level&&(x.outlineLevel=i.level),s[s.length]=fU("row","",x));return s.join("")}(c,t,e,r,a)).length>0&&(i[i.length]=l),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=(p=c["!protect"],m={sheet:1},gw.forEach(function(e){null!=p[e]&&p[e]&&(m[e]="1")}),gj.forEach(function(e){null==p[e]||p[e]||(m[e]="0")}),p.password&&(m.password=m2(p.password).toString(16).toUpperCase()),fU("sheetProtection",null,m))),null!=c["!autofilter"]&&(i[i.length]=function(e,t,r,a){var n="string"==typeof e.ref?e.ref:hL(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=hM(n);s.s.r==s.e.r&&(s.e.r=hM(t["!ref"]).e.r,n=hL(s));for(var o=0;o<i.length;++o){var l=i[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==a){l.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),fU("autoFilter",null,{ref:n})}(c["!autofilter"],c,r,e)),null!=c["!merges"]&&c["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+hL(e[r])+'"/>';return t+"</mergeCells>"}(c["!merges"]));var h,p,m,x,g=-1,b=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(e){e[1].Target&&(x={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(b=p_(a,-1,fb(e[1].Target).replace(/#.*$/,""),pd),x["r:id"]="rId"+b),(g=e[1].Target.indexOf("#"))>-1&&(x.location=fb(e[1].Target.slice(g+1))),e[1].Tooltip&&(x.tooltip=fb(e[1].Tooltip)),i[i.length]=fU("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete c["!links"],null!=c["!margins"]&&(i[i.length]=(go(n=c["!margins"]),fU("pageMargins",null,n))),(!t||t.ignoreEC||void 0==t.ignoreEC)&&(i[i.length]=fL("ignoredErrors",fU("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(b=p_(a,-1,"../drawings/drawing"+(e+1)+".xml","http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing"),i[i.length]=fU("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=f),c["!comments"].length>0&&(b=p_(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",pu),i[i.length]=fU("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function gk(e){return[hY(e),h4(e),"n"]}var gT=["left","right","top","bottom","header","footer"],gA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],g_=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],gC=[],gO=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function gP(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(null==a[i[0]])a[i[0]]=i[1];else switch(i[2]){case"bool":"string"==typeof a[i[0]]&&(a[i[0]]=fN(a[i[0]]));break;case"int":"string"==typeof a[i[0]]&&(a[i[0]]=parseInt(a[i[0]],10))}}}function gR(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(null==e[a[0]])e[a[0]]=a[1];else switch(a[2]){case"bool":"string"==typeof e[a[0]]&&(e[a[0]]=fN(e[a[0]]));break;case"int":"string"==typeof e[a[0]]&&(e[a[0]]=parseInt(e[a[0]],10))}}}function gI(e){gR(e.WBProps,gA),gR(e.CalcPr,gO),gP(e.WBView,g_),gP(e.Sheets,gC),ga.date1904=fN(e.WBProps.date1904)}var gD="][*?/\\".split("");function gM(e,t){if(e.length>31){if(t)return!1;throw Error("Sheet names cannot exceed 31 chars")}var r=!0;return gD.forEach(function(a){if(-1!=e.indexOf(a)){if(!t)throw Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var gL=/<\w+:workbook/;function gF(e){var t=[fi];t[t.length]=fU("workbook",null,{xmlns:fK[0],"xmlns:r":fW});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gA.forEach(function(t){null==e.Workbook.WBProps[t[0]]||e.Workbook.WBProps[t[0]]!=t[1]&&(a[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=fU("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(i=0,t[t.length]="<bookViews>";i!=e.SheetNames.length&&n[i]&&n[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(i=0,t[t.length]="<sheets>";i!=e.SheetNames.length;++i){var s={name:fb(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=fU("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=fU("definedName",fb(e.Ref),r))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gU(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}var gz=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function gV(e,t){var r=e.split(/\s+/),a=[];if(t||(a[0]=r[0]),1===r.length)return a;var n,i,s,o=e.match(gz);if(o)for(s=0;s!=o.length;++s)-1===(i=(n=o[s].match(gB))[1].indexOf(":"))?a[n[1]]=n[2].slice(1,n[2].length-1):a["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(i+1)]=n[2].slice(1,n[2].length-1);return a}function g$(e,t){var r,a,n,i=t||{};uO();var s=dB(fB(e));("binary"==i.type||"array"==i.type||"base64"==i.type)&&(s=void 0!==en?en.utils.decode(65001,dU(s)):fA(s));var o=s.slice(0,1024).toLowerCase(),l=!1;if((1023&(o=o.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&o.indexOf(","),1023&o.indexOf(";"))){var c=uJ(i);return c.type="string",mF.to_workbook(s,c)}if(-1==o.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(e){o.indexOf("<"+e)>=0&&(l=!0)}),l){var d=s,u=i,f=d.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!f||0==f.length)throw Error("Invalid HTML: could not find <table>");if(1==f.length)return hB(g4(f[0],u),u);var h=bO();return f.forEach(function(e,t){bP(h,g4(e,u),"Sheet"+(t+1))}),h}eo={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var p,m,x,g=[],b={},v=[],y=i.dense?[]:{},w="",j={},N={},E=gV('<Data ss:Type="String">'),S=0,k=0,T=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},C={},O="",P=0,R=[],I={},D={},M=0,L=[],F=[],U={},z=[],B=!1,V=[],H=[],W={},G=0,q=0,K={Sheets:[],WBProps:{date1904:!1}},Y={};fV.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";p=fV.exec(s);)switch(p[3]=(X=p[3]).toLowerCase()){case"data":if("data"==X){if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"))}else"/"!==p[0].charAt(p[0].length-2)&&g.push([p[3],!0]);break}if(g[g.length-1][1])break;"/"===p[1]?function(e,t,r,a,n,i,s,o,l,c){var d="General",u=a.StyleID,f={};c=c||{};var h=[],p=0;for(void 0===u&&o&&(u=o.StyleID),void 0===u&&s&&(u=s.StyleID);void 0!==i[u]&&(i[u].nf&&(d=i[u].nf),i[u].Interior&&h.push(i[u].Interior),i[u].Parent);)u=i[u].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=fN(e);break;case"String":a.t="s",a.r=fj(fm(e)),a.v=e.indexOf("<")>-1?fm(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),a.v=(uX(e)-new Date(Date.UTC(1899,11,30)))/864e5,a.v!=a.v?a.v=fm(e):a.v<60&&(a.v=a.v-1),d&&"General"!=d||(d="yyyy-mm-dd");case"Number":void 0===a.v&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=pn[e],!1!==c.cellText&&(a.w=e);break;default:""==e&&""==t?a.t="z":(a.t="s",a.v=fj(t||e))}if(!function(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{if("e"===e.t)e.w=e.w||pa[e.v];else if("General"===t)"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=uf(e.v):e.w=uh(e.v);else{var a,n,i;a=t||"General",n=e.v,i=eo[a]||fm(a),e.w="General"===i?uh(n):uA(i,n)}}catch(e){if(r.WTF)throw e}try{var s=eo[t]||t||"General";if(r.cellNF&&(e.z=s),r.cellDates&&"n"==e.t&&uS(s)){var o=us(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(e){if(r.WTF)throw e}}}(a,d,c),!1!==c.cellFormula)if(a.Formula){var m=fm(a.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),a.f=xR(m,n),delete a.Formula,"RC"==a.ArrayRange?a.F=xR("RC:RC",n):a.ArrayRange&&(a.F=xR(a.ArrayRange,n),l.push([hF(a.F),a.F]))}else for(p=0;p<l.length;++p)n.r>=l[p][0].s.r&&n.r<=l[p][0].e.r&&n.c>=l[p][0].s.c&&n.c<=l[p][0].e.c&&(a.F=l[p][1]);c.cellStyles&&(h.forEach(function(e){!f.patternType&&e.patternType&&(f.patternType=e.patternType)}),a.s=f),void 0!==a.StyleID&&(a.ixfe=a.StyleID)}(s.slice(S,p.index),O,E,"comment"==g[g.length-1][0]?U:j,{c:k,r:T},_,z[k],N,V,i):(O="",E=gV(p[0]),S=p.index+p[0].length);break;case"cell":if("/"===p[1])if(F.length>0&&(j.c=F),(!i.sheetRows||i.sheetRows>T)&&void 0!==j.v&&(i.dense?(y[T]||(y[T]=[]),y[T][k]=j):y[hR(k)+hO(T)]=j),j.HRef&&(j.l={Target:fm(j.HRef)},j.HRefScreenTip&&(j.l.Tooltip=j.HRefScreenTip),delete j.HRef,delete j.HRefScreenTip),(j.MergeAcross||j.MergeDown)&&(G=k+(0|parseInt(j.MergeAcross,10)),q=T+(0|parseInt(j.MergeDown,10)),R.push({s:{c:k,r:T},e:{c:G,r:q}})),i.sheetStubs)if(j.MergeAcross||j.MergeDown){for(var Z=k;Z<=G;++Z)for(var J=T;J<=q;++J)(Z>k||J>T)&&(i.dense?(y[J]||(y[J]=[]),y[J][Z]={t:"z"}):y[hR(Z)+hO(J)]={t:"z"});k=G+1}else++k;else j.MergeAcross?k=G+1:++k;else(j=function(e){var t=e.split(/\s+/),r={};if(1===t.length)return r;var a,n,i,s=e.match(gz);if(s)for(i=0;i!=s.length;++i)-1===(n=(a=s[i].match(gB))[1].indexOf(":"))?r[a[1]]=a[2].slice(1,a[2].length-1):r["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(n+1)]=a[2].slice(1,a[2].length-1);return r}(p[0])).Index&&(k=j.Index-1),k<A.s.c&&(A.s.c=k),k>A.e.c&&(A.e.c=k),"/>"===p[0].slice(-2)&&++k,F=[];break;case"row":"/"===p[1]||"/>"===p[0].slice(-2)?(T<A.s.r&&(A.s.r=T),T>A.e.r&&(A.e.r=T),"/>"===p[0].slice(-2)&&(N=gV(p[0])).Index&&(T=N.Index-1),k=0,++T):((N=gV(p[0])).Index&&(T=N.Index-1),W={},("0"==N.AutoFitHeight||N.Height)&&(W.hpx=parseInt(N.Height,10),W.hpt=xs(W.hpx),H[T]=W),"1"==N.Hidden&&(W.hidden=!0,H[T]=W));break;case"worksheet":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"));v.push(w),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(y["!ref"]=hL(A),i.sheetRows&&i.sheetRows<=A.e.r&&(y["!fullref"]=y["!ref"],A.e.r=i.sheetRows-1,y["!ref"]=hL(A))),R.length&&(y["!merges"]=R),z.length>0&&(y["!cols"]=z),H.length>0&&(y["!rows"]=H),b[w]=y}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=k=0,g.push([p[3],!1]),w=fm((m=gV(p[0])).Name),y=i.dense?[]:{},R=[],V=[],H=[],Y={name:w,Hidden:0},K.Sheets.push(Y);break;case"table":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"))}else"/>"==p[0].slice(-2)||(g.push([p[3],!1]),z=[],B=!1);break;case"style":"/"===p[1]?function(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=xl[a.Pattern]||a.Pattern)}e[t.ID]=t}(_,C,i):C=gV(p[0]);break;case"numberformat":C.nf=fm(gV(p[0]).Format||"General"),eo[C.nf]&&(C.nf=eo[C.nf]);for(var Q=0;392!=Q&&ur[Q]!=C.nf;++Q);if(392==Q){for(Q=57;392!=Q;++Q)if(null==ur[Q]){u_(C.nf,Q);break}}break;case"column":if("table"!==g[g.length-1][0])break;if((x=gV(p[0])).Hidden&&(x.hidden=!0,delete x.Hidden),x.Width&&(x.wpx=parseInt(x.Width,10)),!B&&x.wpx>10){B=!0,m9=6;for(var ee=0;ee<z.length;++ee)z[ee]&&xi(z[ee])}B&&xi(x),z[x.Index-1||z.length]=x;for(var et=0;et<+x.Span;++et)z[z.length]=uJ(x);break;case"namedrange":if("/"===p[1])break;K.Names||(K.Names=[]);var er=fu(p[0]),ea={Name:er.Name,Ref:xR(er.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(ea.Sheet=K.Sheets.length-1),K.Names.push(ea);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":"/>"===p[0].slice(-2)||("/"===p[1]?O+=s.slice(P,p.index):P=p.index+p[0].length);break;case"interior":if(!i.cellStyles)break;C.Interior=gV(p[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":"/>"===p[0].slice(-2)||("/"===p[1]?(r=X,a=s.slice(M,p.index),ei||(ei=uU(p$)),I[r=ei[r]||r]=a):M=p.index+p[0].length);break;case"styles":case"workbook":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"))}else g.push([p[3],!1]);break;case"comment":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"));(n=U).t=n.v||"",n.t=n.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n.v=n.w=n.ixfe=void 0,F.push(U)}else g.push([p[3],!1]),U={a:(m=gV(p[0])).Author};break;case"autofilter":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"))}else if("/"!==p[0].charAt(p[0].length-2)){var es=gV(p[0]);y["!autofilter"]={ref:xR(es.Range).replace(/\$/g,"")},g.push([p[3],!0])}break;case"datavalidation":case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===p[1]){if((m=g.pop())[0]!==p[3])throw Error("Bad state: "+m.join("|"))}else"/"!==p[0].charAt(p[0].length-2)&&g.push([p[3],!0]);break;default:if(0==g.length&&"document"==p[3]||0==g.length&&"uof"==p[3])return g5(s,i);var el=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(p[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:el=!1}break;case"componentoptions":switch(p[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:el=!1}break;case"excelworkbook":switch(p[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:el=!1}break;case"workbookoptions":switch(p[3]){case"owcversion":case"height":case"width":break;default:el=!1}break;case"worksheetoptions":switch(p[3]){case"visible":if("/>"===p[0].slice(-2));else if("/"===p[1])switch(s.slice(M,p.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2}else M=p.index+p[0].length;break;case"header":y["!margins"]||go(y["!margins"]={},"xlml"),isNaN(+fu(p[0]).Margin)||(y["!margins"].header=+fu(p[0]).Margin);break;case"footer":y["!margins"]||go(y["!margins"]={},"xlml"),isNaN(+fu(p[0]).Margin)||(y["!margins"].footer=+fu(p[0]).Margin);break;case"pagemargins":var ec=fu(p[0]);y["!margins"]||go(y["!margins"]={},"xlml"),isNaN(+ec.Top)||(y["!margins"].top=+ec.Top),isNaN(+ec.Left)||(y["!margins"].left=+ec.Left),isNaN(+ec.Right)||(y["!margins"].right=+ec.Right),isNaN(+ec.Bottom)||(y["!margins"].bottom=+ec.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].left=!0;break;default:el=!1}break;case"pivottable":case"pivotcache":switch(p[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:el=!1}break;case"pagebreaks":switch(p[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:el=!1}break;case"autofilter":switch(p[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:el=!1}break;case"querytable":switch(p[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:el=!1}break;case"datavalidation":switch(p[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:el=!1}break;case"sorting":case"conditionalformatting":switch(p[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:el=!1}break;case"mapinfo":case"schema":case"data":switch(p[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:el=!1}break;case"smarttags":break;default:el=!1}if(el||p[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+p[3]+"|"+g.join("|");if("customdocumentproperties"===g[g.length-1][0]){"/>"===p[0].slice(-2)||("/"===p[1]?function(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=fN(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=uX(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw Error("bad custprop:"+r[0])}e[fm(t)]=n}(D,X,L,s.slice(M,p.index)):(L=p,M=p.index+p[0].length));break}if(i.WTF)throw"Unrecognized tag: "+p[3]+"|"+g.join("|")}var ed={};return i.bookSheets||i.bookProps||(ed.Sheets=b),ed.SheetNames=v,ed.Workbook=K,ed.SSF=uJ(ur),ed.Props=I,ed.Custprops=D,ed}function gH(e,t){switch(bv(t=t||{}),t.type||"base64"){case"base64":return g$(dG(e),t);case"binary":case"buffer":case"file":return g$(e,t);case"array":return g$(dQ(e),t)}}function gW(e){return fU("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+xD(e.Ref,{r:0,c:0})})}var gG=[60,1084,2066,2165,2175];function gq(e,t,r){if("z"!==e.t&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ur[a])}catch(e){if(t.WTF)throw e}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||pa[e.v]:0===a||"General"==a?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=uf(e.v):e.w=uh(e.v):e.w=uA(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(e){if(t.WTF)throw e}if(t.cellDates&&a&&"n"==e.t&&uS(ur[a]||String(a))){var n=us(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function gK(e,t,r){return{v:e,ixfe:t,t:r}}var gY="e0859ff2f94f6810ab9108002b27b3d9",gX="02d5cdd59c2e1b10939708002b2cf9ae";function gZ(e,t){if(t||(t={}),bv(t),dF(),t.codepage&&dM(t.codepage),e.FullPaths){if(uD.find(e,"/encryption"))throw Error("File is password-protected");n=uD.find(e,"!CompObj"),i=uD.find(e,"/Workbook")||uD.find(e,"/Book")}else{switch(t.type){case"base64":e=dZ(dG(e));break;case"binary":e=dZ(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}hy(e,0),i={content:e}}if(n&&function(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=h6(r,1),!(r.length-r.l<=4)){var a=r.read_shift(4);0==a||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||0x71b239f4!==(a=r.read_shift(4)))||(t.UnicodeClipboardFormat=h6(r,2),0==(a=r.read_shift(4))||a>40)||(r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr"))}}(n),t.bookProps&&!t.bookSheets)s={};else{var r,a,n,i,s,o,l=dq?"buffer":"array";if(i&&i.content)s=function(e,t){var r,a,n,i,s={opts:{}},o={},l,c,d,u,f,h=t.dense?[]:{},p={},m={},x=null,g=[],b="",v={},y="",w={},j=[],N=[],E=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},T=function(e){return e<8?pr[e]:e<64&&E[e-8]||pr[e]},A=function(e,t,r){var a,n=t.XF.data;n&&n.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=n.patternType,(a=m8(T(n.icvFore)))&&(t.s.fgColor={rgb:a}),(a=m8(T(n.icvBack)))&&(t.s.bgColor={rgb:a}))},_=function(e,t,r){if(!(F>1)&&(!r.sheetRows||!(e.r>=r.sheetRows))){if(r.cellStyles&&t.XF&&t.XF.data&&A(e,t,r),delete t.ixfe,delete t.XF,l=e,y=hD(e),m&&m.s&&m.e||(m={s:{r:0,c:0},e:{r:0,c:0}}),e.r<m.s.r&&(m.s.r=e.r),e.c<m.s.c&&(m.s.c=e.c),e.r+1>m.e.r&&(m.e.r=e.r+1),e.c+1>m.e.c&&(m.e.c=e.c+1),r.cellFormula&&t.f){for(var a=0;a<j.length;++a)if(!(j[a][0].s.c>e.c)&&!(j[a][0].s.r>e.r)&&!(j[a][0].e.c<e.c)&&!(j[a][0].e.r<e.r)){t.F=hL(j[a][0]),(j[a][0].s.c!=e.c||j[a][0].s.r!=e.r)&&delete t.f,t.f&&(t.f=""+x3(j[a][1],m,e,M,C));break}}r.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[y]=t}},C={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var O=[],P=[],R=[],I=[],D=!1,M=[];M.SheetNames=C.snames,M.sharedf=C.sharedf,M.arrayf=C.arrayf,M.names=[],M.XTI=[];var L=0,F=0,U=0,z=[],B=[];C.codepage=1200,dL(1200);for(var V=!1;e.l<e.length-1;){var H=e.l,W=e.read_shift(2);if(0===W&&10===L)break;var G=e.l===e.length?0:e.read_shift(2),q=gQ[W];if(q&&q.f){if(t.bookSheets&&133===L&&133!==W)break;if(L=W,2===q.r||12==q.r){var K=e.read_shift(2);if(G-=2,!C.enc&&K!==W&&((255&K)<<8|K>>8)!==W)throw Error("rt mismatch: "+K+"!="+W);12==q.r&&(e.l+=10,G-=10)}var Y={};if(Y=10===W?q.f(e,G,C):function(e,t,r,a,n){var i=a,s=[],o=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:n.enc.insitu(o)}s.push(o),r.l+=i;for(var l=hd(r,r.l),c=gQ[l],d=0;null!=c&&gG.indexOf(l)>-1;)i=hd(r,r.l+2),d=r.l+4,2066==l?d+=4:(2165==l||2175==l)&&(d+=12),o=r.slice(d,r.l+4+i),s.push(o),r.l+=4+i,c=gQ[l=hd(r,r.l)];var u=d1(s);hy(u,0);var f=0;u.lens=[];for(var h=0;h<s.length;++h)u.lens.push(f),f+=s[h].length;if(u.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+a;return t.f(u,u.length,n)}(W,q,e,G,C),0==F&&-1===[9,521,1033,2057].indexOf(L))continue;switch(W){case 34:s.opts.Date1904=S.WBProps.date1904=Y;break;case 134:s.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=Y,!t.password)throw Error("File is password-protected");if(null==Y.valid)throw Error("Encryption scheme unsupported");if(!Y.valid)throw Error("Password is incorrect");break;case 92:C.lastuser=Y;break;case 66:var X=Number(Y);switch(X){case 21010:X=1200;break;case 32768:X=1e4;break;case 32769:X=1252}dL(C.codepage=X),V=!0;break;case 317:C.rrtabid=Y;break;case 25:C.winlocked=Y;break;case 439:s.opts.RefreshAll=Y;break;case 12:s.opts.CalcCount=Y;break;case 16:s.opts.CalcDelta=Y;break;case 17:s.opts.CalcIter=Y;break;case 13:s.opts.CalcMode=Y;break;case 14:s.opts.CalcPrecision=Y;break;case 95:s.opts.CalcSaveRecalc=Y;break;case 15:C.CalcRefMode=Y;break;case 2211:s.opts.FullCalc=Y;break;case 129:Y.fDialog&&(h["!type"]="dialog"),Y.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),Y.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case 224:N.push(Y);break;case 430:M.push([Y]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(Y);break;case 24:case 536:i={Name:Y.Name,Ref:x3(Y.rgce,m,null,M,C)},Y.itab>0&&(i.Sheet=Y.itab-1),M.names.push(i),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(Y),"_xlnm._FilterDatabase"==Y.Name&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&"PtgArea3d"==Y.rgce[0][0][0]&&(B[Y.itab-1]={ref:hL(Y.rgce[0][0][1][2])});break;case 22:C.ExternCount=Y;break;case 23:0==M.length&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(Y),M.XTI=M.XTI.concat(Y);break;case 2196:if(C.biff<8)break;null!=i&&(i.Comment=Y[1]);break;case 18:h["!protect"]=Y;break;case 19:0!==Y&&C.WTF&&console.error("Password verifier: "+Y);break;case 133:p[Y.pos]=Y,C.snames.push(Y.name);break;case 10:if(--F)break;if(m.e){if(m.e.r>0&&m.e.c>0){if(m.e.r--,m.e.c--,h["!ref"]=hL(m),t.sheetRows&&t.sheetRows<=m.e.r){var Z=m.e.r;m.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=hL(m),m.e.r=Z}m.e.r++,m.e.c++}O.length>0&&(h["!merges"]=O),P.length>0&&(h["!objects"]=P),R.length>0&&(h["!cols"]=R),I.length>0&&(h["!rows"]=I),S.Sheets.push(k)}""===b?v=h:o[b]=h,h=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===C.biff&&(C.biff=({9:2,521:3,1033:4})[W]||({512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2})[Y.BIFFVer]||8),C.biffguess=0==Y.BIFFVer,0==Y.BIFFVer&&4096==Y.dt&&(C.biff=5,V=!0,dL(C.codepage=28591)),8==C.biff&&0==Y.BIFFVer&&16==Y.dt&&(C.biff=2),F++)break;if(h=t.dense?[]:{},C.biff<8&&!V&&(V=!0,dL(C.codepage=t.codepage||1252)),C.biff<5||0==Y.BIFFVer&&4096==Y.dt){""===b&&(b="Sheet1"),m={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:e.l-G,name:b};p[J.pos]=J,C.snames.push(b)}else b=(p[H]||{name:""}).name;32==Y.dt&&(h["!type"]="chart"),64==Y.dt&&(h["!type"]="macro"),O=[],P=[],C.arrayf=j=[],R=[],I=[],D=!1,k={Hidden:(p[H]||{hs:0}).hs,name:b};break;case 515:case 3:case 2:"chart"==h["!type"]&&(t.dense?(h[Y.r]||[])[Y.c]:h[hD({c:Y.c,r:Y.r})])&&++Y.c,r={ixfe:Y.ixfe,XF:N[Y.ixfe]||{},v:Y.val,t:"n"},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t);break;case 5:case 517:r={ixfe:Y.ixfe,XF:N[Y.ixfe],v:Y.val,t:Y.t},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t);break;case 638:r={ixfe:Y.ixfe,XF:N[Y.ixfe],v:Y.rknum,t:"n"},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t);break;case 189:for(var Q=Y.c;Q<=Y.C;++Q){var ee=Y.rkrec[Q-Y.c][0];r={ixfe:ee,XF:N[ee],v:Y.rkrec[Q-Y.c][1],t:"n"},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Q,r:Y.r},r,t)}break;case 6:case 518:case 1030:if("String"==Y.val){x=Y;break}if((r=gK(Y.val,Y.cell.ixfe,Y.tt)).XF=N[r.ixfe],t.cellFormula){var et=Y.formula;if(et&&et[0]&&et[0][0]&&"PtgExp"==et[0][0][0]){var er=et[0][0][1][0],ea=et[0][0][1][1],en=hD({r:er,c:ea});w[en]?r.f=""+x3(Y.formula,m,Y.cell,M,C):r.F=((t.dense?(h[er]||[])[ea]:h[en])||{}).F}else r.f=""+x3(Y.formula,m,Y.cell,M,C)}U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_(Y.cell,r,t),x=Y;break;case 7:case 519:if(x)x.val=Y,(r=gK(Y,x.cell.ixfe,"s")).XF=N[r.ixfe],t.cellFormula&&(r.f=""+x3(x.formula,m,x.cell,M,C)),U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_(x.cell,r,t),x=null;else throw Error("String record expects Formula");break;case 33:case 545:j.push(Y);var ei=hD(Y[0].s);if(c=t.dense?(h[Y[0].s.r]||[])[Y[0].s.c]:h[ei],t.cellFormula&&c){if(!x||!ei||!c)break;c.f=""+x3(Y[1],m,Y[0],M,C),c.F=hL(Y[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!x)break;w[hD(x.cell)]=Y[0],((c=t.dense?(h[x.cell.r]||[])[x.cell.c]:h[hD(x.cell)])||{}).f=""+x3(Y[0],m,l,M,C)}break;case 253:r=gK(g[Y.isst].t,Y.ixfe,"s"),g[Y.isst].h&&(r.h=g[Y.isst].h),r.XF=N[r.ixfe],U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t);break;case 513:t.sheetStubs&&(r={ixfe:Y.ixfe,XF:N[Y.ixfe],t:"z"},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t));break;case 190:if(t.sheetStubs)for(var es=Y.c;es<=Y.C;++es){var eo=Y.ixfe[es-Y.c];r={ixfe:eo,XF:N[eo],t:"z"},U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:es,r:Y.r},r,t)}break;case 214:case 516:case 4:(r=gK(Y.val,Y.ixfe,"s")).XF=N[r.ixfe],U>0&&(r.z=z[r.ixfe>>8&63]),gq(r,t,s.opts.Date1904),_({c:Y.c,r:Y.r},r,t);break;case 0:case 512:1===F&&(m=Y);break;case 252:g=Y;break;case 1054:if(4==C.biff){z[U++]=Y[1];for(var el=0;el<U+163&&ur[el]!=Y[1];++el);el>=163&&u_(Y[1],U+163)}else u_(Y[1],Y[0]);break;case 30:z[U++]=Y;for(var ec=0;ec<U+163&&ur[ec]!=Y;++ec);ec>=163&&u_(Y,U+163);break;case 229:O=O.concat(Y);break;case 93:P[Y.cmo[0]]=C.lastobj=Y;break;case 438:C.lastobj.TxO=Y;break;case 127:C.lastobj.ImData=Y;break;case 440:for(f=Y[0].s.r;f<=Y[0].e.r;++f)for(u=Y[0].s.c;u<=Y[0].e.c;++u)(c=t.dense?(h[f]||[])[u]:h[hD({c:u,r:f})])&&(c.l=Y[1]);break;case 2048:for(f=Y[0].s.r;f<=Y[0].e.r;++f)for(u=Y[0].s.c;u<=Y[0].e.c;++u)(c=t.dense?(h[f]||[])[u]:h[hD({c:u,r:f})])&&c.l&&(c.l.Tooltip=Y[1]);break;case 28:if(C.biff<=5&&C.biff>=2)break;c=t.dense?(h[Y[0].r]||[])[Y[0].c]:h[hD(Y[0])];var ed=P[Y[2]];c||(t.dense?(h[Y[0].r]||(h[Y[0].r]=[]),c=h[Y[0].r][Y[0].c]={t:"z"}):c=h[hD(Y[0])]={t:"z"},m.e.r=Math.max(m.e.r,Y[0].r),m.s.r=Math.min(m.s.r,Y[0].r),m.e.c=Math.max(m.e.c,Y[0].c),m.s.c=Math.min(m.s.c,Y[0].c)),c.c||(c.c=[]),d={a:Y[1],t:ed.TxO.t},c.c.push(d);break;case 2173:N[Y.ixfe],Y.ext.forEach(function(e){e[0]});break;case 125:if(!C.cellStyles)break;for(;Y.e>=Y.s;)R[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(1&Y.flags)},D||(D=!0,xn(Y.w/256)),xi(R[Y.e+1]);break;case 520:var eu={};null!=Y.level&&(I[Y.r]=eu,eu.level=Y.level),Y.hidden&&(I[Y.r]=eu,eu.hidden=!0),Y.hpt&&(I[Y.r]=eu,eu.hpt=Y.hpt,eu.hpx=xo(Y.hpt));break;case 38:case 39:case 40:case 41:h["!margins"]||go(h["!margins"]={}),h["!margins"][({38:"left",39:"right",40:"top",41:"bottom"})[W]]=Y;break;case 161:h["!margins"]||go(h["!margins"]={}),h["!margins"].header=Y.header,h["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(S.Views[0].RTL=!0);break;case 146:E=Y;break;case 2198:n=Y;break;case 140:a=Y;break;case 442:b?k.CodeName=Y||k.name:S.WBProps.CodeName=Y||"ThisWorkbook"}}else q||console.error("Missing Info for XLS Record 0x"+W.toString(16)),e.l+=G}return s.SheetNames=uL(p).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return p[e].name}),t.bookSheets||(s.Sheets=o),!s.SheetNames.length&&v["!ref"]?(s.SheetNames.push("Sheet1"),s.Sheets&&(s.Sheets.Sheet1=v)):s.Preamble=v,s.Sheets&&B.forEach(function(e,t){s.Sheets[s.SheetNames[t]]["!autofilter"]=e}),s.Strings=g,s.SSF=uJ(ur),C.enc&&(s.Encryption=C.enc),n&&(s.Themes=n),s.Metadata={},void 0!==a&&(s.Metadata.Country=a),M.names.length>0&&(S.Names=M.names),s.Workbook=S,s}(i.content,t);else if((o=uD.find(e,"PerfectOffice_MAIN"))&&o.content)s=mU.to_workbook(o.content,(t.type=l,t));else if((o=uD.find(e,"NativeContent_MAIN"))&&o.content)s=mU.to_workbook(o.content,(t.type=l,t));else if((o=uD.find(e,"MN0"))&&o.content)throw Error("Unsupported Works 4 for Mac file");else throw Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&uD.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=(r=e,a=uD.utils.cfb_new({root:"R"}),r.FullPaths.forEach(function(e,t){if("/"!==e.slice(-1)&&e.match(/_VBA_PROJECT_CUR/)){var n=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");uD.utils.cfb_add(a,n,r.FileIndex[t].content)}}),uD.write(a)))}var c={};return e.FullPaths&&function(e,t,r){var a=uD.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=p2(a,h7,gX);for(var i in n)t[i]=n[i]}catch(e){if(r.WTF)throw e}var s=uD.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=p2(s,h9,gY);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(e){if(r.WTF)throw e}t.HeadingPairs&&t.TitlesOfParts&&(pU(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,c,t),s.Props=s.Custprops=c,t.bookFiles&&(s.cfb=e),s}var gJ={0:{f:function(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,7&i&&(r.level=7&i),16&i&&(r.hidden=!0),32&i&&(r.hpt=n/20),r}},1:{f:function(e){return[hq(e)]}},2:{f:function(e){return[hq(e),hQ(e),"n"]}},3:{f:function(e){return[hq(e),e.read_shift(1),"e"]}},4:{f:function(e){return[hq(e),e.read_shift(1),"b"]}},5:{f:function(e){return[hq(e),h4(e),"n"]}},6:{f:function(e){return[hq(e),hH(e),"str"]}},7:{f:function(e){return[hq(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var a=e.l+t,n=hq(e);n.r=r["!row"];var i=[n,hH(e),"str"];if(r.cellFormula){e.l+=2;var s=x6(e,a-e.l,r);i[3]=x3(s,null,n,r.supbooks,r)}else e.l=a;return i}},9:{f:function(e,t,r){var a=e.l+t,n=hq(e);n.r=r["!row"];var i=[n,h4(e),"n"];if(r.cellFormula){e.l+=2;var s=x6(e,a-e.l,r);i[3]=x3(s,null,n,r.supbooks,r)}else e.l=a;return i}},10:{f:function(e,t,r){var a=e.l+t,n=hq(e);n.r=r["!row"];var i=[n,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var s=x6(e,a-e.l,r);i[3]=x3(s,null,n,r.supbooks,r)}else e.l=a;return i}},11:{f:function(e,t,r){var a=e.l+t,n=hq(e);n.r=r["!row"];var i=[n,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var s=x6(e,a-e.l,r);i[3]=x3(s,null,n,r.supbooks,r)}else e.l=a;return i}},12:{f:function(e){return[hY(e)]}},13:{f:function(e){return[hY(e),hQ(e),"n"]}},14:{f:function(e){return[hY(e),e.read_shift(1),"e"]}},15:{f:function(e){return[hY(e),e.read_shift(1),"b"]}},16:{f:gk},17:{f:function(e){return[hY(e),hH(e),"str"]}},18:{f:function(e){return[hY(e),e.read_shift(4),"s"]}},19:{f:hG},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=hH(e),s=x6(e,0,r),o=hZ(e);e.l=a;var l={Name:i,Ptg:s};return n<0xfffffff&&(l.Sheet=n),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var a,n={};n.sz=e.read_shift(2)/20;var i=(a=e.read_shift(1),e.l++,{fBold:1&a,fItalic:2&a,fUnderline:4&a,fStrikeout:8&a,fOutline:16&a,fShadow:32&a,fCondense:64&a,fExtend:128&a});switch(i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=function(e){var t={},r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(2,"i"),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r>>>1){case 0:t.auto=1;break;case 1:t.index=a;var l=pr[a];l&&(t.rgb=m8(l));break;case 2:t.rgb=m8([i,s,o]);break;case 3:t.theme=a}return 0!=n&&(t.tint=n>0?n/32767:n/32768),t}(e,8),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=hH(e,t-21),n}},44:{f:function(e,t){return[e.read_shift(2),hH(e,t-2)]}},45:{f:hw},46:{f:hw},47:{f:function(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mP},62:{f:function(e){return[hq(e),hG(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=hD(r);var a=e.read_shift(1);return 2&a&&(t.l="1"),8&a&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hw,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},a=e[e.l];return++e.l,r.above=!(64&a),r.left=!(128&a),e.l+=18,r.name=hH(e,t-19),r}},148:{f:h1,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?hH(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(65536&a),r.backupFile=!!(64&a),r.checkCompatibility=!!(4096&a),r.date1904=!!(1&a),r.filterPrivacy=!!(8&a),r.hidePivotFieldList=!!(1024&a),r.promptedSolutions=!!(16&a),r.publishItems=!!(2048&a),r.refreshAllConnections=!!(262144&a),r.saveExternalLinkValues=!!(128&a),r.showBorderUnselectedTables=!!(4&a),r.showInkAnnotation=!!(32&a),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(32768&a),r.updateLinks=["userSet","never","always"][a>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=hZ(e,t-8),r.name=hH(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:h1},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:h1},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:hH(e,t-8)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hZ},357:{},358:{},359:{},360:{T:1},361:{},362:{f:m_},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var a=e.l+t,n=h1(e,16),i=e.read_shift(1),s=[n];if(s[2]=i,r.cellFormula){var o=x6(e,a-e.l,r);s[1]=o}else e.l=a;return s}},427:{f:function(e,t,r){var a=e.l+t,n=[h1(e,16)];if(r.cellFormula){var i=x6(e,a-e.l,r);n[1]=i,e.l=a}else e.l=a;return n}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return gT.forEach(function(r){t[r]=h4(e,8)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,a=h1(e,16),n=hZ(e),i=hH(e),s=hH(e),o=hH(e);e.l=r;var l={rfx:a,relId:n,loc:i,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hZ},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:hH},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=h1(e,16);return t.rfx=r.s,t.ref=hD(r.s),e.l+=16,t}},636:{T:-1},637:{f:hG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:hH(e,t-10)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gQ={6:{f:x5},10:{f:p3},12:{f:p8},13:{f:p8},14:{f:p5},15:{f:p5},16:{f:h4},17:{f:p5},18:{f:p5},19:{f:p8},20:{f:mS},21:{f:mS},23:{f:m_},24:{f:mA},25:{f:p5},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=mn(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},o,s,i]}}(e,0,r)}},29:{},34:{f:p5},35:{f:mk},38:{f:h4},39:{f:h4},40:{f:h4},41:{f:h4},42:{f:p5},43:{f:p5},47:{f:function(e,t,r){var a,n,i,s={Type:r.biff>=8?e.read_shift(2):0};return s.Type?(a=t-2,(n=s||{}).Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=mQ(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e,a):n.Data=function(e,t){var r={},a=r.EncryptionVersionInfo=mQ(e,4);if(t-=4,2!=a.Minor)throw Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=m0(e,n),r.EncryptionVerifier=m1(e,t-=n),r}(e,a)):(r.biff,i={key:p8(e),verificationBytes:p8(e)},r.password&&(i.verifier=m2(r.password)),s.valid=i.verificationBytes===i.verifier,s.valid&&(s.insitu=m5(r.password))),s}},49:{f:function(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return a.name=mt(e,0,r),a}},51:{f:p8},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:p5},65:{f:function(){}},66:{f:p8},77:{},80:{},81:{},82:{},85:{f:p8},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=mn(e,0,r);return e.read_shift(t+a-e.l),n}},93:{f:function(e,t,r){if(r&&r.biff<8){var a,n,i,s,o,l,c;return a=e,n=t,i=r,a.l+=4,s=a.read_shift(2),o=a.read_shift(2),l=a.read_shift(2),a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=2,a.l+=6,n-=36,(c=[]).push((mO[s]||hw)(a,n,i)),{cmo:[o,s,l],ft:c}}var d=mx(e,22),u=function(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(mb[n](e,r-e.l))}catch(t){return e.l=r,a}}return e.l!=r&&(e.l=r),a}(e,t-22,d[1]);return{cmo:d,ft:u}}},94:{},95:{f:p5},96:{},97:{},99:{f:p5},125:{f:mP},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var a=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&a,fBelow:64&a,fRight:128&a}}},130:{f:p8},131:{f:p5},132:{f:p5},133:{f:function(e,t,r){var a=e.read_shift(4),n=3&e.read_shift(1),i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule"}var s=mt(e,0,r);return 0===s.length&&(s="Sheet1"),{pos:a,hs:n,dt:i,name:s}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=pe[t]||t,t=e.read_shift(2),r[1]=pe[t]||t,r}},141:{f:p8},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mc(e,8));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:p8},157:{},158:{},160:{f:p9},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=h4(e,8),r.footer=h4(e,8),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(mf(e));if(e.l!==r)throw Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw Error("MulRK length mismatch");return{r:a,c:n,C:s,rkrec:i}}},190:{f:function(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw Error("MulBlank length mismatch");return{r:a,c:n,C:s,ixfe:i}}},193:{f:p3},197:{},198:{},199:{},200:{},201:{},202:{f:p5},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:p8},220:{},221:{f:p5},222:{},224:{f:function(e,t,r){var a,n,i,s,o,l={};return l.ifnt=e.read_shift(2),l.numFmtId=e.read_shift(2),l.flags=e.read_shift(2),l.fStyle=l.flags>>2&1,t-=6,l.fStyle,a={},n=e.read_shift(4),i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(2),a.patternType=pt[s>>26],r.cellStyles&&(a.alc=7&n,a.fWrap=n>>3&1,a.alcV=n>>4&7,a.fJustLast=n>>7&1,a.trot=n>>8&255,a.cIndent=n>>16&15,a.fShrinkToFit=n>>20&1,a.iReadOrder=n>>22&2,a.fAtrNum=n>>26&1,a.fAtrFnt=n>>27&1,a.fAtrAlc=n>>28&1,a.fAtrBdr=n>>29&1,a.fAtrPat=n>>30&1,a.fAtrProt=n>>31&1,a.dgLeft=15&i,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=127&s,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=127&o,a.icvBack=o>>7&127,a.fsxButton=o>>14&1),l.data=a,l}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:p3},227:{},229:{f:function(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(mh(e,t));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0;s!=n&&e.l<r;++s)i.push(function(e){var t=dP;dP=1200;var r,a=e.read_shift(2),n=e.read_shift(1),i=4&n,s=8&n,o=0,l={};s&&(o=e.read_shift(2)),i&&(r=e.read_shift(4));var c=0===a?"":e.read_shift(a,2==1+(1&n)?"dbcs-cont":"sbcs-cont");return s&&(e.l+=4*o),i&&(e.l+=r),l.t=c,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),dP=t,l}(e));return i.Count=a,i.Unique=n,i}},253:{f:function(e){var t=md(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:p9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:p5},353:{f:p3},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,1025==i||14849==i)return[i,n];if(i<1||i>255)throw Error("Unexpected SupBook type: "+i);for(var s=mr(e,i),o=[];a>e.l;)o.push(ma(e));return[i,n,s,o]}},431:{f:p5},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(i)?e.l+=6:(e.read_shift(1),e.l++,e.read_shift(2),e.l+=2);var s=e.read_shift(2);e.read_shift(2),p8(e,2);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-a!=e.lens[l])throw Error("TxO: bad continue record");var c=e[e.l],d=mr(e,e.lens[l+1]-e.lens[l]-1);if((n+=d).length>=(c?s:2*s))break}if(n.length!==s&&n.length!==2*s)throw Error("cchText: "+s+" != "+n.length);return e.l=a+t,{t:n}}catch(r){return e.l=a+t,{t:n}}}},439:{f:p5},440:{f:function(e,t){var r=mh(e,8);return e.l+=16,[r,function(e,t){var r=e.l+t,a=e.read_shift(4);if(2!==a)throw Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,s,o,l,c,d,u="";16&n&&(i=ms(e,r-e.l)),128&n&&(s=ms(e,r-e.l)),(257&n)==257&&(o=ms(e,r-e.l)),(257&n)==1&&(l=function(e,t){var r,a,n,i,s=e.read_shift(16);switch(t-=16,s){case"e0c9ea79f9bace118c8200aa004ba90b":return r=e.read_shift(4),a=e.l,n=!1,r>24&&(e.l+=r-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=a),i=e.read_shift((n?r-24:r)>>1,"utf16le").replace(d2,""),n&&(e.l+=24),i;case"0303000000000000c000000000000046":for(var o=e.read_shift(2),l="";o-- >0;)l+="../";var c=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw Error("Bad FileMoniker");if(0===e.read_shift(4))return l+c.replace(/\\/g,"/");var d=e.read_shift(4);if(3!=e.read_shift(2))throw Error("Bad FileMoniker");return l+e.read_shift(d>>1,"utf16le").replace(d2,"");default:throw Error("Unsupported Moniker "+s)}}(e,r-e.l)),8&n&&(u=ms(e,r-e.l)),32&n&&(c=e.read_shift(16)),64&n&&(d=pH(e)),e.l=r;var f=s||o||l||"";f&&u&&(f+="#"+u),f||(f="#"+u),2&n&&"/"==f.charAt(0)&&"/"!=f.charAt(1)&&(f="file://"+f);var h={Target:f};return c&&(h.guid=c),d&&(h.time=d),i&&(h.Tooltip=i),h}(e,t-24)]}},441:{},442:{f:ma},443:{},444:{f:p8},445:{},446:{},448:{f:p3},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:p3},512:{f:mj},513:{f:md},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var a=md(e,6);return a.val=h4(e,8),a}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var a=e.l+t,n=md(e,6);return 2==r.biff&&e.l++,n.val=ma(e,a-e.l,r),n}},517:{f:mE},519:{f:ma},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,7&a&&(t.level=7&a),32&a&&(t.hidden=!0),64&a&&(t.hpt=r/20),t}},523:{},545:{f:mC},549:{f:mw},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),a=mf(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),mn(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var a=mm(e,6);e.l++;var n=e.read_shift(1);return[function(e,t,r){var a,n,i=e.l+t,s=e.read_shift(2),o=x0(e,s,r);return 65535==s?[[],(a=t-2,void(e.l+=a))]:(t!==s+2&&(n=xQ(e,i-s-2,o,r)),[o,n])}(e,t-=8,r),n,a]}},2048:{f:function(e,t){e.read_shift(2);var r=mh(e,8),a=e.read_shift((t-10)/2,"dbcs-cont");return[r,a=a.replace(d2,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:mv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:p3},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(function(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=function(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){e.l+=4}(e,4);break;case 2:t.xclrValue=ml(e,4);break;case 3:t.xclrValue=e.read_shift(4)}return e.l+=8,t}(e,r);break;case 6:a[1]=void(e.l+=r);break;case 14:case 15:a[1]=e.read_shift(1===r?1:2);break;default:throw Error("Unrecognized ExtProp type: "+t+" "+r)}return a}(e,r-e.l));return{ixfe:a,ext:i}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:p5,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2);return[mr(e,a,r),mr(e,n,r)]},r:12},2197:{},2198:{f:function(e,t,r){var a,n=e.l+t;if(124226!==e.read_shift(4)){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;try{a=fa(i,{type:"array"})}catch(e){return}var s=u9(a,"theme/theme/theme1.xml",!0);if(s)return xS(s,r)}},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:p3},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t,r,a=(t=e.read_shift(2),r=e.read_shift(2),e.l+=8,{type:t,flags:r});if(2211!=a.type)throw Error("Invalid Future Record "+a.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:p8},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var a={area:!1};if(5!=r.biff)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,16&n&&(a.area=!0),a}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mc(e,8));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:mj},1:{},2:{f:function(e){var t=md(e,6);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=md(e,6);++e.l;var r=h4(e,8);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var a=md(e,6);++e.l;var n=mn(e,t-7,r);return a.t="str",a.val=n,a}},5:{f:mE},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:mv},11:{},22:{f:p8},30:{f:mn},31:{},32:{},33:{f:mC},36:{},37:{f:mw},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:p8},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var a=e.l+t,n=md(e,6),i=e.read_shift(2),s=mr(e,i,r);return e.l=a,n.t="str",n.val=s,n}},223:{},234:{},354:{},421:{},518:{f:x5},521:{f:mv},536:{f:mA},547:{f:mk},561:{},579:{},1030:{f:x5},1033:{f:mv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function g0(e,t,r,a){if(!isNaN(t)){var n=a||(r||[]).length||0,i=e.next(4);i.write_shift(2,t),i.write_shift(2,n),n>0&&hl(r)&&e.push(r)}}function g1(e,t,r){return e||(e=hj(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function g2(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];a&&a["!ref"]&&hM(a["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var n=t||{};switch(n.biff||2){case 8:case 5:var i=t||{},s=[];e&&!e.SSF&&(e.SSF=uJ(ur)),e&&e.SSF&&(uO(),uC(e.SSF),i.revssf=uz(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,by(i),i.cellXfs=[],gl(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var o=0;o<e.SheetNames.length;++o)s[s.length]=function(e,t,r){var a,n,i,s,o,l,c,d,u,f=hE(),h=r.SheetNames[e],p=r.Sheets[h]||{},m=(r||{}).Workbook||{},x=(m.Sheets||[])[e]||{},g=Array.isArray(p),b=8==t.biff,v="",y=[],w=hF(p["!ref"]||"A1"),j=b?65536:16384;if(w.e.c>255||w.e.r>=j){if(t.WTF)throw Error("Range "+(p["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,j-1)}g0(f,2057,my(r,16,t)),g0(f,13,p7(1)),g0(f,12,p7(100)),g0(f,15,p6(!0)),g0(f,17,p6(!1)),g0(f,16,h3(.001)),g0(f,95,p6(!0)),g0(f,42,p6(!1)),g0(f,43,p6(!1)),g0(f,130,p7(1)),g0(f,128,(a=[0,0],(n=hj(8)).write_shift(4,0),n.write_shift(2,a[0]?a[0]+1:0),n.write_shift(2,a[1]?a[1]+1:0),n)),g0(f,131,p6(!1)),g0(f,132,p6(!1)),b&&function(e,t){if(t){var r=0;t.forEach(function(t,a){var n,i,s;++r<=256&&t&&g0(e,125,(n=gs(a,t),(i=hj(12)).write_shift(2,a),i.write_shift(2,a),i.write_shift(2,256*n.width),i.write_shift(2,0),s=0,n.hidden&&(s|=1),i.write_shift(1,s),s=n.level||0,i.write_shift(1,s),i.write_shift(2,0),i))})}}(f,p["!cols"]),g0(f,512,((s=hj(2*(i=8!=t.biff&&t.biff?2:4)+6)).write_shift(i,w.s.r),s.write_shift(i,w.e.r+1),s.write_shift(2,w.s.c),s.write_shift(2,w.e.c+1),s.write_shift(2,0),s)),b&&(p["!links"]=[]);for(var N=w.s.r;N<=w.e.r;++N){v=hO(N);for(var E=w.s.c;E<=w.e.c;++E){N===w.s.r&&(y[E]=hR(E)),u=y[E]+v;var S=g?(p[N]||[])[E]:p[u];S&&(!function(e,t,r,a,n){var i=16+gl(n.cellXfs,t,n);if(null==t.v&&!t.bf)return g0(e,513,mu(r,a,i));if(t.bf)g0(e,6,function(e,t,r,a,n){var i=mu(t,r,n),s=function(e){if(null==e){var t=hj(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return"number"==typeof e?h3(e):h3(0)}(e.v),o=hj(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=hj(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return d1([i,s,o,l])}(t,r,a,0,i));else switch(t.t){case"d":case"n":var s,o="d"==t.t?uV(uX(t.v)):t.v;g0(e,515,(mu(r,a,i,s=hj(14)),h3(o,s),s));break;case"b":case"e":g0(e,517,(l=t.v,c=t.t,mu(r,a,i,d=hj(8)),me(l,c,d),d));break;case"s":case"str":if(n.bookSST){var l,c,d,u,f,h,p,m=gi(n.Strings,t.v,n.revStrings);g0(e,253,(mu(r,a,i,p=hj(10)),p.write_shift(4,m),p))}else g0(e,516,(u=(t.v||"").slice(0,255),mu(r,a,i,h=hj(8+ +(f=!n||8==n.biff)+(1+f)*u.length)),h.write_shift(2,u.length),f&&h.write_shift(1,1),h.write_shift((1+f)*u.length,u,f?"utf16le":"sbcs"),h));break;default:g0(e,513,mu(r,a,i))}}(f,S,N,E,t),b&&S.l&&p["!links"].push([u,S.l]))}}var k=x.CodeName||x.name||h;return b&&g0(f,574,(o=(m.Views||[])[0],l=hj(18),c=1718,o&&o.RTL&&(c|=64),l.write_shift(2,c),l.write_shift(4,0),l.write_shift(4,64),l.write_shift(4,0),l.write_shift(4,0),l)),b&&(p["!merges"]||[]).length&&g0(f,229,function(e){var t=hj(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)mp(e[r],t);return t}(p["!merges"])),b&&function(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];g0(e,440,function(e){var t=hj(24),r=hI(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return d1([t,function(e){var t=hj(512),r=0,a=e.Target;"file://"==a.slice(0,7)&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(28==i)mo(a=a.slice(1),t);else if(2&i){for(r=0,s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&i&&mo(n>-1?a.slice(n+1):"",t)}else{for(r=0,s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" ");r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;"../"==a.slice(3*l,3*l+3)||"..\\"==a.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,a.length-3*l+1),r=0;r<a.length-3*l;++r)t.write_shift(1,255&a.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}(e[1])])}(a)),a[1].Tooltip&&g0(e,2048,function(e){var t=e[1].Tooltip,r=hj(10+2*(t.length+1));r.write_shift(2,2048);var a=hI(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}(a))}delete t["!links"]}(f,p),g0(f,442,mi(k,t)),b&&((d=hj(19)).write_shift(4,2151),d.write_shift(4,0),d.write_shift(4,0),d.write_shift(2,3),d.write_shift(1,1),d.write_shift(4,0),g0(f,2151,d),(d=hj(39)).write_shift(4,2152),d.write_shift(4,0),d.write_shift(4,0),d.write_shift(2,3),d.write_shift(1,0),d.write_shift(4,0),d.write_shift(2,1),d.write_shift(4,4),d.write_shift(2,0),mp(hF(p["!ref"]||"A1"),d),d.write_shift(4,4),g0(f,2152,d)),g0(f,10),f.end()}(o,i,e);return s.unshift(function(e,t,r){var a,n,i,s,o,l,c,d=hE(),u=(e||{}).Workbook||{},f=u.Sheets||[],h=u.WBProps||{},p=8==r.biff,m=5==r.biff;g0(d,2057,my(e,5,r)),"xla"==r.bookType&&g0(d,135),g0(d,225,p?p7(1200):null),g0(d,193,function(e,t){t||(t=hj(2));for(var r=0;r<2;++r)t.write_shift(1,0);return t}(0)),m&&g0(d,191),m&&g0(d,192),g0(d,226),g0(d,92,function(e,t){var r=!t||8==t.biff,a=hj(r?112:54);for(a.write_shift(8==t.biff?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,0x33336853),a.write_shift(4,5458548|0x20000000*!r);a.l<a.length;)a.write_shift(1,32*!r);return a}(0,r)),g0(d,66,p7(p?1200:1252)),p&&g0(d,353,p7(0)),p&&g0(d,448),g0(d,317,function(e){for(var t=hj(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),p&&e.vbaraw&&g0(d,211),p&&e.vbaraw&&g0(d,442,mi(h.CodeName||"ThisWorkbook",r)),g0(d,156,p7(17)),g0(d,25,p6(!1)),g0(d,18,p6(!1)),g0(d,19,p7(0)),p&&g0(d,431,p6(!1)),p&&g0(d,444,p7(0)),g0(d,61,((a=hj(18)).write_shift(2,0),a.write_shift(2,0),a.write_shift(2,29280),a.write_shift(2,17600),a.write_shift(2,56),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,1),a.write_shift(2,500),a)),g0(d,64,p6(!1)),g0(d,141,p7(0)),g0(d,34,p6("true"==(e.Workbook&&e.Workbook.WBProps&&fN(e.Workbook.WBProps.date1904)?"true":"false"))),g0(d,14,p6(!0)),p&&g0(d,439,p6(!1)),g0(d,218,p7(0)),g0(d,49,(i=(n={sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"}).name||"Arial",(o=hj((s=r&&5==r.biff)?15+i.length:16+2*i.length)).write_shift(2,20*(n.sz||12)),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,i.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*i.length,i,s?"sbcs":"utf16le"),o)),l=e.SSF,l&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var t=e[0];t<=e[1];++t)null!=l[t]&&g0(d,1054,function(e,t,r,a){var n=r&&5==r.biff;a||(a=hj(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return null==i.l&&(i.l=i.length),i}(t,l[t],r))});for(var x=0;x<16;++x)g0(d,224,mN({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(e){g0(d,224,mN(e,0,r))}),p&&g0(d,352,p6(!1));var g=d.end(),b=hE();p&&g0(b,140,(c||(c=hj(4)),c.write_shift(2,1),c.write_shift(2,1),c)),p&&r.Strings&&function(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return g0(e,252,r,n);if(!isNaN(252)){for(var i=r.parts||[],s=0,o=0,l=0;l+(i[s]||8224)<=8224;)l+=i[s]||8224,s++;var c=e.next(4);for(c.write_shift(2,252),c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l;o<n;){for((c=e.next(4)).write_shift(2,60),l=0;l+(i[s]||8224)<=8224;)l+=i[s]||8224,s++;c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l}}}(b,0,function(e,t){var r=hj(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=function(e){var t=e.t||"",r=hj(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=hj(2*t.length);return a.write_shift(2*t.length,t,"utf16le"),d1([r,a])}(e[n],t);var i=d1([r].concat(a));return i.parts=[r.length].concat(a.map(function(e){return e.length})),i}(r.Strings,r)),g0(b,10);var v=b.end(),y=hE(),w=0,j=0;for(j=0;j<e.SheetNames.length;++j)w+=(p?12:11)+(p?2:1)*e.SheetNames[j].length;var N=g.length+w+v.length;for(j=0;j<e.SheetNames.length;++j)g0(y,133,function(e,t){var r=!t||t.biff>=8?2:1,a=hj(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}({pos:N,hs:(f[j]||{}).Hidden||0,dt:0,name:e.SheetNames[j]},r)),N+=t[j].length;var E=y.end();if(w!=E.length)throw Error("BS8 "+w+" != "+E.length);var S=[];return g.length&&S.push(g),E.length&&S.push(E),v.length&&S.push(v),d1(S)}(e,s,i)),d1(s);case 4:case 3:case 2:for(var l=t||{},c=hE(),d=0,u=0;u<e.SheetNames.length;++u)e.SheetNames[u]==l.sheet&&(d=u);if(0==d&&l.sheet&&e.SheetNames[0]!=l.sheet)throw Error("Sheet not found: "+l.sheet);return g0(c,4==l.biff?1033:3==l.biff?521:9,my(e,16,l)),!function(e,t,r,a){var n,i=Array.isArray(t),s=hF(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),n=hL(s)}for(var c=s.s.r;c<=s.e.r;++c){o=hO(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=hR(d)),n=l[d]+o;var u=i?(t[c]||[])[d]:t[n];u&&function(e,t,r,a){if(null!=t.v)switch(t.t){case"d":case"n":var n,i,s,o,l,c,d,u="d"==t.t?uV(uX(t.v)):t.v;u==(0|u)&&u>=0&&u<65536?g0(e,2,(g1(c=hj(9),r,a),c.write_shift(2,u),c)):g0(e,3,(g1(d=hj(15),r,a),d.write_shift(8,u,"f"),d));return;case"b":case"e":g0(e,5,(n=t.v,i=t.t,g1(s=hj(9),r,a),me(n,i||"b",s),s));return;case"s":case"str":g0(e,4,(g1(l=hj(8+2*(o=(t.v||"").slice(0,255)).length),r,a),l.write_shift(1,o.length),l.write_shift(o.length,o,"sbcs"),l.l<l.length?l.slice(0,l.l):l));return}g0(e,1,g1(null,r,a))}(e,u,c,d,a)}}}(c,e.Sheets[e.SheetNames[d]],0,l,e),g0(c,10),c.end()}throw Error("invalid type "+n.bookType+" for BIFF")}function g4(e,t){var r=t||{},a=r.dense?[]:{},n=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!n)throw Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=n.index,o=i&&i.index||e.length,l=u4(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,f=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),x=m.slice(0,3).toLowerCase();if("<tr"==x){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0;continue}if("<td"==x||"<th"==x){var g=m.split(/<\/t[dh]>/i);for(o=0;o<g.length;++o){var b=g[o].trim();if(b.match(/<t[dh]/i)){for(var v=b,y=0;"<"==v.charAt(0)&&(y=v.indexOf(">"))>-1;)v=v.slice(y+1);for(var w=0;w<p.length;++w){var j=p[w];j.s.c==d&&j.s.r<c&&c<=j.e.r&&(d=j.e.c+1,w=-1)}var N=fu(b.slice(0,b.indexOf(">")));f=N.colspan?+N.colspan:1,((u=+N.rowspan)>1||f>1)&&p.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+f-1}});var E=N.t||N["data-t"]||"";if(!v.length||(v=fO(v),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>d&&(h.s.c=d),h.e.c<d&&(h.e.c=d),!v.length)){d+=f;continue}var S={t:"s",v:v};r.raw||!v.trim().length||"s"==E||("TRUE"===v?S={t:"b",v:!0}:"FALSE"===v?S={t:"b",v:!1}:isNaN(u0(v))?isNaN(u2(v).getDate())||(S={t:"d",v:uX(v)},r.cellDates||(S={t:"n",v:uV(S.v)}),S.z=r.dateNF||ur[14]):S={t:"n",v:u0(v)}),r.dense?(a[c]||(a[c]=[]),a[c][d]=S):a[hD({r:c,c:d})]=S,d+=f}}}}return a["!ref"]=hL(h),p.length&&(a["!merges"]=p),a}var g3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function g5(e,t){var r=t||{},a,n,i,s,o,l,c=fB(e),d=[],u={name:""},f="",h=0,p={},m=[],x=r.dense?[]:{},g={value:""},b="",v=0,y=[],w=-1,j=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,S={},k=[],T={},A=0,_=[],C=1,O=1,P=[],R={Names:[]},I={},D=["",""],M=[],L={},F="",U=0,z=!1,B=!1,V=0;for(fV.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=fV.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"":"/"===o[1]?(N.e.c>=N.s.c&&N.e.r>=N.s.r?x["!ref"]=hL(N):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=r.sheetRows-1,x["!ref"]=hL(N)),k.length&&(x["!merges"]=k),_.length&&(x["!rows"]=_),i.name=i[""]||i.name,"undefined"!=typeof JSON&&JSON.stringify(i),m.push(i.name),p[i.name]=x,B=!1):"/"!==o[0].charAt(o[0].length-2)&&(i=fu(o[0],!1),w=j=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,x=r.dense?[]:{},k=[],_=[],B=!0);break;case"table-row-group":"/"===o[1]?--E:++E;break;case"table-row":case"":if("/"===o[1]){w+=C,C=1;break}if((s=fu(o[0],!1))[""]?w=s[""]-1:-1==w&&(w=0),(C=+s["number-rows-repeated"]||1)<10)for(V=0;V<C;++V)E>0&&(_[w+V]={level:E});j=-1;break;case"covered-table-cell":"/"!==o[1]&&++j,r.sheetStubs&&(r.dense?(x[w]||(x[w]=[]),x[w][j]={t:"z"}):x[hD({r:w,c:j})]={t:"z"}),b="",y=[];break;case"table-cell":case"":if("/"===o[0].charAt(o[0].length-2))++j,O=parseInt((g=fu(o[0],!1))["number-columns-repeated"]||"1",10),l={t:"z",v:null},g.formula&&!1!=r.cellFormula&&(l.f=ge(fm(g.formula))),"string"==(g[""]||g["value-type"])&&(l.t="s",l.v=fm(g["string-value"]||""),r.dense?(x[w]||(x[w]=[]),x[w][j]=l):x[hD({r:w,c:j})]=l),j+=O-1;else if("/"!==o[1]){b="",v=0,y=[],O=1;var H=C?w+C-1:w;if(++j>N.e.c&&(N.e.c=j),j<N.s.c&&(N.s.c=j),w<N.s.r&&(N.s.r=w),H>N.e.r&&(N.e.r=H),g=fu(o[0],!1),M=[],L={},l={t:g[""]||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=fm(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(T={s:{r:w,c:j},e:{r:w+(A=parseInt(g["number-matrix-rows-spanned"],10)||0)-1,c:j+(parseInt(g["number-matrix-columns-spanned"],10)||0)-1}},l.F=hL(T),P.push([T,l.F])),g.formula)l.f=ge(g.formula);else for(V=0;V<P.length;++V)w>=P[V][0].s.r&&w<=P[V][0].e.r&&j>=P[V][0].s.c&&j<=P[V][0].e.c&&(l.F=P[V][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(T={s:{r:w,c:j},e:{r:w+(A=parseInt(g["number-rows-spanned"],10)||0)-1,c:j+(parseInt(g["number-columns-spanned"],10)||0)-1}},k.push(T)),g["number-columns-repeated"]&&(O=parseInt(g["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=fN(g["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(g.value);break;case"date":l.t="d",l.v=uX(g["date-value"]),r.cellDates||(l.t="n",l.v=uV(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=function(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}(g["time-value"])/86400,r.cellDates&&(l.t="d",l.v=uG(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(g[""]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw Error("Unsupported value type "+l.t);l.t="s",null!=g["string-value"]&&(b=fm(g["string-value"]),y=[])}}else{if(z=!1,"s"===l.t&&(l.v=b||"",y.length&&(l.R=y),z=0==v),I.Target&&(l.l=I),M.length>0&&(l.c=M,M=[]),b&&!1!==r.cellText&&(l.w=b),z&&(l.t="z",delete l.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var W=0;W<C;++W){if(O=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(x[w+W]||(x[w+W]=[]),x[w+W][j]=0==W?l:uJ(l);--O>0;)x[w+W][j+O]=uJ(l);else for(x[hD({r:w+W,c:j})]=l;--O>0;)x[hD({r:w+W,c:j+O})]=uJ(l);N.e.c<=j&&(N.e.c=j)}j+=(O=parseInt(g["number-columns-repeated"]||"1",10))-1,O=0,l={},b="",y=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((a=d.pop())[0]!==o[3])throw"Bad state: "+a}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((a=d.pop())[0]!==o[3])throw"Bad state: "+a;L.t=b,y.length&&(L.R=y),L.a=F,M.push(L)}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!1]);F="",U=0,b="",v=0,y=[];break;case"creator":"/"===o[1]?F=c.slice(U,o.index):U=o.index+o[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((a=d.pop())[0]!==o[3])throw"Bad state: "+a}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!1]);b="",v=0,y=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(S[u.name]=f,(a=d.pop())[0]!==o[3])throw"Bad state: "+a}else"/"!==o[0].charAt(o[0].length-2)&&(f="",u=fu(o[0],!1),d.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":n=fu(o[0],!1),f+=g3[o[3]][+("long"===n.style)]}break;case"text":if("/>"===o[0].slice(-2));else if("/"===o[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":f+=c.slice(h,o.index)}else h=o.index+o[0].length;break;case"named-range":D=gt((n=fu(o[0],!1))["cell-range-address"]);var G={Name:n.name,Ref:D[0]+"!"+D[1]};B&&(G.Sheet=m.length),R.Names.push(G);break;case"p":case"":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==o[1]||g&&g["string-value"])fu(o[0],!1),v=o.index+o[0].length;else{var q=[fm(c.slice(v,o.index).replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,"\n").replace(/<[^>]*>/g,""))];b=(b.length>0?b+"\n":"")+q[0]}break;case"database-range":if("/"===o[1])break;try{p[(D=gt(fu(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:D[1]}}catch(e){}break;case"a":if("/"!==o[1]){if(!(I=fu(o[0],!1)).href)break;I.Target=fm(I.href),delete I.href,"#"==I.Target.charAt(0)&&I.Target.indexOf(".")>-1?(D=gt(I.Target.slice(1)),I.Target="#"+D[0]+"!"+D[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw Error(o)}}var K={Sheets:p,SheetNames:m,Workbook:R};return r.bookSheets&&delete K.Sheets,K}var g6=(J="<office:document-styles "+fF({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+'><office:master-styles><style:master-page style:name="mp1" style:page-layout-name="mp1"><style:header/><style:header-left style:display="false"/><style:footer/><style:footer-left style:display="false"/></style:master-page></office:master-styles></office:document-styles>',function(){return fi+J}),g8=(Q="          <table:table-cell />\n",ee=function(e,t,r){var a=[];a.push('      <table:table table:name="'+fb(t.SheetNames[r])+'" table:style-name="ta1">\n');var n=0,i=0,s=hM(e["!ref"]||"A1"),o=e["!merges"]||[],l=0,c=Array.isArray(e);if(e["!cols"])for(i=0;i<=s.e.c;++i)a.push("        <table:table-column"+(e["!cols"][i]?' table:style-name="co'+e["!cols"][i].ods+'"':"")+"></table:table-column>\n");var d="",u=e["!rows"]||[];for(n=0;n<s.s.r;++n)d=u[n]?' table:style-name="ro'+u[n].ods+'"':"",a.push("        <table:table-row"+d+"></table:table-row>\n");for(;n<=s.e.r;++n){for(d=u[n]?' table:style-name="ro'+u[n].ods+'"':"",a.push("        <table:table-row"+d+">\n"),i=0;i<s.s.c;++i)a.push(Q);for(;i<=s.e.c;++i){var f=!1,h={},p="";for(l=0;l!=o.length;++l)if(!(o[l].s.c>i)&&!(o[l].s.r>n)&&!(o[l].e.c<i)&&!(o[l].e.r<n)){(o[l].s.c!=i||o[l].s.r!=n)&&(f=!0),h["table:number-columns-spanned"]=o[l].e.c-o[l].s.c+1,h["table:number-rows-spanned"]=o[l].e.r-o[l].s.r+1;break}if(f){a.push("          <table:covered-table-cell/>\n");continue}var m=hD({r:n,c:i}),x=c?(e[n]||[])[i]:e[m];if(x&&x.f&&(h["table:formula"]=fb(("of:="+x.f.replace(xI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),x.F&&x.F.slice(0,m.length)==m)){var g=hM(x.F);h["table:number-matrix-columns-spanned"]=g.e.c-g.s.c+1,h["table:number-matrix-rows-spanned"]=g.e.r-g.s.r+1}if(!x){a.push(Q);continue}switch(x.t){case"b":p=x.v?"TRUE":"FALSE",h["office:value-type"]="boolean",h["office:boolean-value"]=x.v?"true":"false";break;case"n":p=x.w||String(x.v||0),h["office:value-type"]="float",h["office:value"]=x.v||0;break;case"s":case"str":p=null==x.v?"":x.v,h["office:value-type"]="string";break;case"d":p=x.w||uX(x.v).toISOString(),h["office:value-type"]="date",h["office:date-value"]=uX(x.v).toISOString(),h["table:style-name"]="ce1";break;default:a.push(Q);continue}var b=fb(p).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(x.l&&x.l.Target){var v=x.l.Target;"#"==(v="#"==v.charAt(0)?"#"+v.slice(1).replace(/\./,"!"):v).charAt(0)||v.match(/^\w+:/)||(v="../"+v),b=fU("text:a",b,{"xlink:href":v.replace(/&/g,"&amp;")})}a.push("          "+fU("table:table-cell",fU("text:p",b,{}),h)+"\n")}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")},et=function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"]){for(var a=0;a<t["!cols"].length;++a)if(t["!cols"][a]){var n=t["!cols"][a];if(null==n.width&&null==n.wpx&&null==n.wch)continue;xi(n),n.ods=r;var i=t["!cols"][a].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}});var a=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"]){for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=a;var n=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+a+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+n+'"/>\n'),e.push("  </style:style>\n"),++a}}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")},function(e,t){var r=[fi],a=fF({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),n=fF({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+a+n+">\n"),r.push(pO().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+a+">\n"),et(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)r.push(ee(e.Sheets[e.SheetNames[i]],e,i,t));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")});function g7(e,t){if("fods"==t.bookType)return g8(e,t);var r=fr(),a="",n=[],i=[];return ft(r,a="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ft(r,a="content.xml",g8(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),ft(r,a="styles.xml",g6(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),ft(r,a="meta.xml",fi+pO()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),ft(r,a="manifest.rdf",function(e){var t=[fi];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(pC(e[r][0],e[r][1])),t.push('  <rdf:Description rdf:about="">\n    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e[r][0]+'"/>\n  </rdf:Description>\n');return t.push(pC("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(i)),n.push([a,"application/rdf+xml"]),ft(r,a="META-INF/manifest.xml",function(e){var t=[fi];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(n)),r}function g9(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function be(e){return"undefined"!=typeof TextDecoder?new TextDecoder().decode(e):fA(dQ(e))}function bt(e){var t=new Uint8Array(e.reduce(function(e,t){return e+t.length},0)),r=0;return e.forEach(function(e){t.set(e,r),r+=e.length}),t}function br(e){return e-=e>>1&0x55555555,((e=(0x33333333&e)+(e>>2&0x33333333))+(e>>4)&0xf0f0f0f)*0x1010101>>>24}function ba(e,t){var r=t?t[0]:0,a=127&e[r];r:if(e[r++]>=128&&(a|=(127&e[r])<<7,e[r++]<128||(a|=(127&e[r])<<14,e[r++]<128)||(a|=(127&e[r])<<21,e[r++]<128)||(a+=(127&e[r])*0x10000000,++r,e[r++]<128)||(a+=(127&e[r])*0x800000000,++r,e[r++]<128)||(a+=(127&e[r])*0x40000000000,++r,e[r++]<128)))break r;return t&&(t[0]=r),a}function bn(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;a:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=0xfffffff)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=0x7ffffffff)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=0x3ffffffffff))break a;t[r-1]|=128,t[r]=e/0x1000000>>>21&127,++r}return t.slice(0,r)}function bi(e){var t=0,r=127&e[0];r:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128||(r|=(127&e[t])<<14,e[t++]<128)||(r|=(127&e[t])<<21,e[t++]<128))break r;r|=(127&e[t])<<28}return r}function bs(e){for(var t=[],r=[0];r[0]<e.length;){var a,n=r[0],i=ba(e,r),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var l=r[0];e[r[0]++]>=128;);a=e.slice(l,r[0]);break;case 5:o=4,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=ba(e,r),a=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:a,type:s};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function bo(e){var t=[];return e.forEach(function(e,r){e.forEach(function(e){e.data&&(t.push(bn(8*r+e.type)),2==e.type&&t.push(bn(e.data.length)),t.push(e.data))})}),bt(t)}function bl(e,t){return(null==e?void 0:e.map(function(e){return t(e.data)}))||[]}function bc(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=ba(e,a),i=bs(e.slice(a[0],a[0]+n));a[0]+=n;var s={id:bi(i[1][0].data),messages:[]};i[2].forEach(function(t){var r=bs(t.data),n=bi(r[3][0].data);s.messages.push({meta:r,data:e.slice(a[0],a[0]+n)}),a[0]+=n}),(null==(t=i[3])?void 0:t[0])&&(s.merge=bi(i[3][0].data)>>>0>0),r.push(s)}return r}function bd(e){var t=[];return e.forEach(function(e){var r=[];r[1]=[{data:bn(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:bn(+!!e.merge),type:0}]);var a=[];e.messages.forEach(function(e){a.push(e.data),e.meta[3]=[{type:0,data:bn(e.data.length)}],r[2].push({data:bo(e.meta),type:2})});var n=bo(r);t.push(bn(n.length)),t.push(n),a.forEach(function(e){return t.push(e)})}),bt(t)}function bu(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(function(e,t){if(0!=e)throw Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=ba(t,r),n=[];r[0]<t.length;){var i=3&t[r[0]];if(0==i){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}n.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}var l=0,c=0;if(1==i?(c=(t[r[0]]>>2&7)+4,l=(224&t[r[0]++])<<3|t[r[0]++]):(c=(t[r[0]++]>>2)+1,2==i?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[bt(n)],0==l)throw Error("Invalid offset 0");if(l>n[0].length)throw Error("Invalid offset beyond length");if(c>=l)for(n.push(n[0].slice(-l)),c-=l;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-l,-l+c))}var d=bt(n);if(d.length!=a)throw Error("Unexpected length: ".concat(d.length," != ").concat(a));return d}(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw Error("data is not a valid framed stream!");return bt(t)}function bf(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,0xfffffff),n=new Uint8Array(4);t.push(n);var i=bn(a),s=i.length;t.push(i),a<=60?(s++,t.push(new Uint8Array([a-1<<2]))):a<=256?(s+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(s+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=0x1000000?(s+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=0x100000000&&(s+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),s+=a,n[0]=0,n[1]=255&s,n[2]=s>>8&255,n[3]=s>>16&255,r+=a}return bt(t)}function bh(e,t){var r=new Uint8Array(32),a=g9(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var a=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(127&a)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=255&n;e[t+15]|=r>=0?0:128}(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,+!!e.v,!0),i|=2,n+=8;break;case"s":if(-1==t.indexOf(e.v))throw Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function bp(e,t){var r=new Uint8Array(32),a=g9(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,+!!e.v,!0),i|=32,n+=8;break;case"s":if(-1==t.indexOf(e.v))throw Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function bm(e){return ba(bs(e)[1][0].data)}function bx(e,t){var r=bs(t.data),a=bi(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(t){var r=bs(t.data),n=bi(r[1][0].data)>>>0;switch(a){case 1:i[n]=be(r[3][0].data);break;case 8:var s=bs(e[bm(r[9][0].data)][0].data),o=e[bm(s[1][0].data)][0],l=bi(o.meta[1][0].data);if(2001!=l)throw Error("2000 unexpected reference to ".concat(l));var c=bs(o.data);i[n]=c[3].map(function(e){return be(e.data)}).join("")}}),i}function bg(e){var t,r,a,n,i={},s=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw Error("Unsupported password protection")}),e.FileIndex.forEach(function(e){var t,r;if(e.name.match(/\.iwa$/)){try{t=bu(e.content)}catch(t){return console.log("?? "+e.content.length+" "+(t.message||t))}try{r=bc(t)}catch(e){return console.log("## "+(e.message||e))}r.forEach(function(e){i[e.id]=e.messages,s.push(e.id)})}}),!s.length)throw Error("File has no messages");var o=(null==(n=null==(a=null==(r=null==(t=null==i?void 0:i[1])?void 0:t[0])?void 0:r.meta)?void 0:a[1])?void 0:n[0].data)&&1==bi(i[1][0].meta[1][0].data)&&i[1][0];if(o||s.forEach(function(e){i[e].forEach(function(e){if(1==bi(e.meta[1][0].data)>>>0)if(o)throw Error("Document has multiple roots");else o=e})}),!o)throw Error("Cannot find Document root");var l=o,c=bO();if(bl(bs(l.data)[1],bm).forEach(function(e){i[e].forEach(function(e){if(2==bi(e.meta[1][0].data)){var t,r,a,n=(a={name:(null==(t=(r=bs(e.data))[1])?void 0:t[0])?be(r[1][0].data):"",sheets:[]},bl(r[2],bm).forEach(function(e){i[e].forEach(function(e){6e3==bi(e.meta[1][0].data)&&a.sheets.push(function(e,t){var r=bs(t.data),a={"!ref":"A1"},n=e[bm(r[2][0].data)],i=bi(n[0].meta[1][0].data);if(6001!=i)throw Error("6000 unexpected reference to ".concat(i));return!function(e,t,r){var a,n=bs(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(bi(n[6][0].data)>>>0)-1,i.e.r<0)throw Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(bi(n[7][0].data)>>>0)-1,i.e.c<0)throw Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=hL(i);var s=bs(n[4][0].data),o=bx(e,e[bm(s[4][0].data)][0]),l=(null==(a=s[17])?void 0:a[0])?bx(e,e[bm(s[17][0].data)][0]):[],c=bs(s[3][0].data),d=0;c[1].forEach(function(t){var a,n,i,s,c=e[bm(bs(t.data)[2][0].data)][0],u=bi(c.meta[1][0].data);if(6002!=u)throw Error("6001 unexpected reference to ".concat(u));var f=(i=(null==(a=null==(n=bs(c.data))?void 0:n[7])?void 0:a[0])?+(bi(n[7][0].data)>>>0>0):-1,s=bl(n[5],function(e){return function(e,t){var r,a,n,i,s,o,l,c,d,u,f,h,p,m,x,g,b=bs(e),v=bi(b[1][0].data)>>>0,y=bi(b[2][0].data)>>>0,w=(null==(a=null==(r=b[8])?void 0:r[0])?void 0:a.data)&&bi(b[8][0].data)>0||!1;if((null==(i=null==(n=b[7])?void 0:n[0])?void 0:i.data)&&0!=t)x=null==(o=null==(s=b[7])?void 0:s[0])?void 0:o.data,g=null==(c=null==(l=b[6])?void 0:l[0])?void 0:c.data;else if((null==(u=null==(d=b[4])?void 0:d[0])?void 0:u.data)&&1!=t)x=null==(h=null==(f=b[4])?void 0:f[0])?void 0:h.data,g=null==(m=null==(p=b[3])?void 0:p[0])?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=w?4:1,N=g9(x),E=[],S=0;S<x.length/2;++S){var k=N.getUint16(2*S,!0);k<65535&&E.push([S,k])}if(E.length!=y)throw"Expected ".concat(y," cells, found ").concat(E.length);var T=[];for(S=0;S<E.length-1;++S)T[E[S][0]]=g.subarray(E[S][1]*j,E[S+1][1]*j);return E.length>=1&&(T[E[E.length-1][0]]=g.subarray(E[E.length-1][1]*j)),{R:v,cells:T}}(e,i)}),{nrows:bi(n[4][0].data)>>>0,data:s.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(r,a){if(e[t.R][a])throw Error("Duplicate cell r=".concat(t.R," c=").concat(a));e[t.R][a]=r}),e},[])});f.data.forEach(function(e,t){e.forEach(function(e,a){var n=hD({r:d+t,c:a}),i=function(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,a){var n,i=g9(e),s=i.getUint32(4,!0),o=(a>1?12:8)+4*br(s&(a>1?3470:398)),l=-1,c=-1,d=NaN,u=new Date(2001,0,1);switch(512&s&&(l=i.getUint32(o,!0),o+=4),o+=4*br(s&(a>1?12288:4096)),16&s&&(c=i.getUint32(o,!0),o+=4),32&s&&(d=i.getFloat64(o,!0),o+=8),64&s&&(u.setTime(u.getTime()+1e3*i.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:n={t:"n",v:d};break;case 3:n={t:"s",v:t[c]};break;case 5:n={t:"d",v:u};break;case 6:n={t:"b",v:d>0};break;case 7:n={t:"n",v:d/86400};break;case 8:n={t:"e",v:0};break;case 9:if(l>-1)n={t:"s",v:r[l]};else if(c>-1)n={t:"s",v:t[c]};else if(isNaN(d))throw Error("Unsupported cell type ".concat(e.slice(0,4)));else n={t:"n",v:d};break;default:throw Error("Unsupported cell type ".concat(e.slice(0,4)))}return n}(e,t,r,e[0]);case 5:return function(e,t,r){var a,n=g9(e),i=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);switch(1&i&&(c=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,a=1&e[t+14],n=t+13;n>=t;--n)a=256*a+e[n];return(128&e[t+15]?-a:a)*Math.pow(10,r-6176)}(e,s),s+=16),2&i&&(d=n.getFloat64(s,!0),s+=8),4&i&&(u.setTime(u.getTime()+1e3*n.getFloat64(s,!0)),s+=8),8&i&&(l=n.getUint32(s,!0),s+=4),16&i&&(o=n.getUint32(s,!0),s+=4),e[1]){case 0:break;case 2:case 10:a={t:"n",v:c};break;case 3:a={t:"s",v:t[l]};break;case 5:a={t:"d",v:u};break;case 6:a={t:"b",v:d>0};break;case 7:a={t:"n",v:d/86400};break;case 8:a={t:"e",v:0};break;case 9:if(o>-1)a={t:"s",v:r[o]};else throw Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)));break;default:throw Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)))}return a}(e,t,r);default:throw Error("Unsupported payload version ".concat(e[0]))}}(e,o,l);i&&(r[n]=i)})}),d+=f.nrows})}(e,n[0],a),a}(i,e))})}),a);n.sheets.forEach(function(e,t){bP(c,e,0==t?n.name:n.name+"_"+t,!0)})}})}),0==c.SheetNames.length)throw Error("Empty NUMBERS file");return c}function bb(e){return function(t){for(var r=0;r!=e.length;++r){var a=e[r];void 0===t[a[0]]&&(t[a[0]]=a[1]),"n"===a[2]&&(t[a[0]]=Number(t[a[0]]))}}}function bv(e){bb([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function by(e){bb([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function bw(e){return"/"==e.charAt(0)?e.slice(1):e}function bj(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=dG(e.slice(0,12));break;case"binary":r=e;break;default:throw Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function bN(e,t){var r=0;n:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return gH(e.slice(r),t);default:break n}return mF.to_workbook(e,t)}function bE(e,t,r,a){return a?(r.type="string",mF.to_workbook(e,r)):mF.to_workbook(t,r)}function bS(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return uM(t.file,uD.write(e,{type:dq?"buffer":""}));case"string":throw Error("'string' output type invalid for '"+t.bookType+"' files");default:throw Error("Unrecognized type "+t.type)}return uD.write(e,t)}function bk(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return dW(f_(a));case"binary":return f_(a);case"string":return e;case"file":return uM(t.file,a,"utf8");case"buffer":if(dq)return dK(a,"utf8");if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(a);return bk(a,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw Error("Unrecognized type "+t.type)}function bT(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return"base64"==t.type?dW(r):"string"==t.type?fA(r):r;case"file":return uM(t.file,e);case"buffer":return e;default:throw Error("Unrecognized type "+t.type)}}function bA(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},a=0,n=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?a=1:"A"===c.header?a=2:Array.isArray(c.header)?a=3:null==c.header&&(a=0),typeof d){case"string":l=hF(d);break;case"number":(l=hF(e["!ref"])).s.r=d;break;default:l=d}a>0&&(n=0);var u=hO(l.s.r),f=[],h=[],p=0,m=0,x=Array.isArray(e),g=l.s.r,b=0,v={};x&&!e[g]&&(e[g]=[]);var y=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(y[b]||{}).hidden)switch(f[b]=hR(b),r=x?e[g][b]:e[f[b]+u],a){case 1:i[b]=b-l.s.c;break;case 2:i[b]=f[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=s=hz(r,null,c),m=v[s]||0){do o=s+"_"+m++;while(v[o])v[s]=m,v[o]=1}else v[s]=1;i[b]=o}for(g=l.s.r+n;g<=l.e.r;++g)if(!(w[g]||{}).hidden){var j=function(e,t,r,a,n,i,s,o){var l=hO(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,f=1===n?[]:{};if(1!==n)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch(e){f.__rowNum__=r}else f.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var p=s?e[r][h]:e[a[h]+l];if(void 0===p||void 0===p.t){if(void 0===c)continue;null!=i[h]&&(f[i[h]]=c);continue}var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw Error("unrecognized type "+p.t)}if(null!=i[h]){if(null==m)if("e"==p.t&&null===m)f[i[h]]=null;else if(void 0!==c)f[i[h]]=c;else{if(!d||null!==m)continue;f[i[h]]=null}else f[i[h]]=d&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:hz(p,m,o);null!=m&&(u=!1)}}return{row:f,isempty:u}}(e,l,g,f,a,i,x,c);(!1===j.isempty||(1===a?!1!==c.blankrows:c.blankrows))&&(h[p++]=j.row)}return h.length=p,h}var b_=/"/g;function bC(e,t){var r=[],a=null==t?{}:t;if(null==e||null==e["!ref"])return"";var n=hF(e["!ref"]),i=void 0!==a.FS?a.FS:",",s=i.charCodeAt(0),o=void 0!==a.RS?a.RS:"\n",l=o.charCodeAt(0),c=RegExp(("|"==i?"\\|":i)+"+$"),d="",u=[];a.dense=Array.isArray(e);for(var f=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(f[p]||{}).hidden||(u[p]=hR(p));for(var m=0,x=n.s.r;x<=n.e.r;++x)!(h[x]||{}).hidden&&null!=(d=function(e,t,r,a,n,i,s,o){for(var l=!0,c=[],d="",u=hO(r),f=t.s.c;f<=t.e.c;++f)if(a[f]){var h=o.dense?(e[r]||[])[f]:e[a[f]+u];if(null==h)d="";else if(null!=h.v){l=!1,d=""+(o.rawNumbers&&"n"==h.t?h.v:hz(h,null,o));for(var p=0,m=0;p!==d.length;++p)if((m=d.charCodeAt(p))===n||m===i||34===m||o.forceQuotes){d='"'+d.replace(b_,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==h.f||h.F?d="":(l=!1,(d="="+h.f).indexOf(",")>=0&&(d='"'+d.replace(b_,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(s)}(e,n,x,u,s,l,i,a))&&(a.strip&&(d=d.replace(c,"")),(d||!1!==a.blankrows)&&r.push((m++?o:"")+d));return delete a.dense,r.join("")}function bO(){return{SheetNames:[],Sheets:{}}}function bP(e,t,r,a){var n=1;if(!r)for(;n<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+n);++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var s=i&&i[1]||r;for(++n;n<=65535&&-1!=e.SheetNames.indexOf(r=s+n);++n);}if(gM(r),e.SheetNames.indexOf(r)>=0)throw Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}dO.version;let bR="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bI=new Uint8Array(16),bD=[];for(let e=0;e<256;++e)bD.push((e+256).toString(16).slice(1));let bM=function(e,t,a){if(bR&&!t&&!e)return bR();var n=e,i=a;let s=(n=n||{}).random??n.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(bI)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((i=i||0)<0||i+16>t.length)throw RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[i+e]=s[e];return t}return function(e,t=0){return(bD[e[t+0]]+bD[e[t+1]]+bD[e[t+2]]+bD[e[t+3]]+"-"+bD[e[t+4]]+bD[e[t+5]]+"-"+bD[e[t+6]]+bD[e[t+7]]+"-"+bD[e[t+8]]+bD[e[t+9]]+"-"+bD[e[t+10]]+bD[e[t+11]]+bD[e[t+12]]+bD[e[t+13]]+bD[e[t+14]]+bD[e[t+15]]).toLowerCase()}(s)},bL=({isOpen:e,onClose:t})=>{let{importInventory:r}=o4(),[a,i]=(0,ev.useState)("UPLOAD"),[s,o]=(0,ev.useState)([]),[l,c]=(0,ev.useState)(!1),{getRootProps:d,getInputProps:u,isDragActive:f}=dT({onDrop:(0,ev.useCallback)(e=>{let t=e[0];if(!t)return;c(!0);let r=new FileReader;r.onload=e=>{try{let t=new Uint8Array(e.target?.result),r=function e(t,r){dF();var a,i,s,o,l,c,d,u=r||{};if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return e(new Uint8Array(t),((u=uJ(u)).type="array",u));"undefined"!=typeof Uint8Array&&t instanceof Uint8Array&&!u.type&&(u.type="undefined"!=typeof Deno?"buffer":"array");var f=t,h=[0,0,0,0],p=!1;if(u.cellStyles&&(u.cellNF=!0,u.sheetStubs=!0),ga={},u.dateNF&&(ga.dateNF=u.dateNF),u.type||(u.type=dq&&dC.Buffer.isBuffer(t)?"buffer":"base64"),"file"==u.type&&(u.type=dq?"buffer":"binary",f=function(e){if(void 0!==n)return n.readFileSync(e);if("undefined"!=typeof Deno)return Deno.readFileSync(e);if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw Error("Cannot access file "+e)}(t),"undefined"==typeof Uint8Array||dq||(u.type="array")),"string"==u.type&&(p=!0,u.type="binary",u.codepage=65001,f=t.match(/[^\x00-\x7F]/)?f_(t):t),"array"==u.type&&"undefined"!=typeof Uint8Array&&t instanceof Uint8Array&&"undefined"!=typeof ArrayBuffer){var m=new Uint8Array(new ArrayBuffer(3));if(m.foo="bar",!m.foo)return(u=uJ(u)).type="array",e(d0(f),u)}switch((h=bj(f,u))[0]){case 208:if(207===h[1]&&17===h[2]&&224===h[3]&&161===h[4]&&177===h[5]&&26===h[6]&&225===h[7])return s=uD.read(f,u),o=u,uD.find(s,"EncryptedPackage")?function(e,t){var r=t||{},a="Workbook",n=uD.find(e,a);try{if(a="/!DataSpaces/Version",!(n=uD.find(e,a))||!n.content||(i=n.content,(s={}).id=i.read_shift(0,"lpp4"),s.R=mQ(i,4),s.U=mQ(i,4),s.W=mQ(i,4),a="/!DataSpaces/DataSpaceMap",!(n=uD.find(e,a))||!n.content))throw Error("ECMA-376 Encrypted file missing "+a);var i,s,o=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(function(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}(e));return t}(n.content);if(1!==o.length||1!==o[0].comps.length||0!==o[0].comps[0].t||"StrongEncryptionDataSpace"!==o[0].name||"EncryptedPackage"!==o[0].comps[0].v)throw Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(n=uD.find(e,a))||!n.content)throw Error("ECMA-376 Encrypted file missing "+a);var l=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(n.content);if(1!=l.length||"StrongEncryptionTransform"!=l[0])throw Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(n=uD.find(e,a))||!n.content)throw Error("ECMA-376 Encrypted file missing "+a);!function(e){var t,r=(t={},e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=mQ(e,4),t.U=mQ(e,4),t.W=mQ(e,4),t);if(r.ename=e.read_shift(0,"8lpp4"),r.blksz=e.read_shift(4),r.cmode=e.read_shift(4),4!=e.read_shift(4))throw Error("Bad !Primary record")}(n.content)}catch(e){}if(a="/EncryptionInfo",!(n=uD.find(e,a))||!n.content)throw Error("ECMA-376 Encrypted file missing "+a);var c=function(e){var t,r,a,n,i=mQ(e);switch(i.Minor){case 2:return[i.Minor,function(e){if((63&e.read_shift(4))!=36)throw Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:m0(e,t),v:m1(e,e.length-e.l)}}(e,i)];case 3:return[i.Minor,function(){throw Error("File is password-protected: ECMA-376 Extensible")}(e,i)];case 4:return[i.Minor,(t=e,r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"],t.l+=4,a=t.read_shift(t.length-t.l,"utf8"),n={},a.replace(fl,function(e){var t=fu(e);switch(ff(t[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":r.forEach(function(e){n[e]=t[e]});break;case"<dataIntegrity":n.encryptedHmacKey=t.encryptedHmacKey,n.encryptedHmacValue=t.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=t.uri;break;case"<encryptedKey":n.encs.push(t);break;default:throw t[0]}}),n)]}throw Error("ECMA-376 Encrypted file unrecognized Version: "+i.Minor)}(n.content);if(a="/EncryptedPackage",!(n=uD.find(e,a))||!n.content)throw Error("ECMA-376 Encrypted file missing "+a);if(4==c[0]&&"undefined"!=typeof decrypt_agile)return decrypt_agile(c[1],n.content,r.password||"",r);if(2==c[0]&&"undefined"!=typeof decrypt_std76)return decrypt_std76(c[1],n.content,r.password||"",r);throw Error("File is password-protected")}(s,o):gZ(s,o);break;case 9:if(h[1]<=8)return gZ(f,u);break;case 60:return gH(f,u);case 73:if(73===h[1]&&42===h[2]&&0===h[3])throw Error("TIFF Image File is not a spreadsheet");if(68===h[1]){var x=f,g=u,b=g||{},v=!!b.WTF;b.WTF=!0;try{var y=mD.to_workbook(x,b);return b.WTF=v,y}catch(e){if(b.WTF=v,!e.message.match(/SYLK bad record ID/)&&v)throw e;return mF.to_workbook(x,g)}}break;case 84:if(65===h[1]&&66===h[2]&&76===h[3])return mM.to_workbook(f,u);break;case 80:return 75===h[1]&&h[2]<9&&h[3]<9?(a=f,(i=u||{}).type||(i.type=dq&&dC.Buffer.isBuffer(a)?"buffer":"base64"),function(e,t){if(uO(),bv(t=t||{}),u6(e,"META-INF/manifest.xml")||u6(e,"objectdata.xml")){var r=e,a=t;a=a||{},u6(r,"META-INF/manifest.xml")&&function(e,t){for(var r,a,n=fB(e);r=fV.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(a=fu(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==a.type)throw Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(u7(r,"META-INF/manifest.xml"),a);var n=u9(r,"content.xml");if(!n)throw Error("Missing content.xml in ODS / UOF file");var i=g5(fA(n),a);return u6(r,"meta.xml")&&(i.Props=pI(u7(r,"meta.xml"))),i}if(u6(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return bg(e);var s,o,l,c,d,u,f,h,p,m,x,g,b,v=uD.utils.cfb_new();return fe(e).forEach(function(t){ft(v,t,function e(t,r,a){if(!a)return u5(u8(t,r));if(!r)return null;try{return e(t,r)}catch(e){return null}}(e,t))}),bg(v)}if(!u6(e,"[Content_Types].xml")){if(u6(e,"index.xml.gz"))throw Error("Unsupported NUMBERS 08 file");if(u6(e,"index.xml"))throw Error("Unsupported NUMBERS 09 file");throw Error("Unsupported ZIP file")}var y=fe(e),w=function(e){var t=po();if(!e||!e.match)return t;var r={};if((e.match(fl)||[]).forEach(function(e){var a=fu(e);switch(a[0].replace(fc,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":void 0!==t[pi[a.ContentType]]&&t[pi[a.ContentType]].push(a.PartName)}}),t.xmlns!==f$)throw Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(u9(e,"[Content_Types].xml")),j=!1;if(0===w.workbooks.length&&u7(e,x="xl/workbook.xml",!0)&&w.workbooks.push(x),0===w.workbooks.length){if(!u7(e,x="xl/workbook.bin",!0))throw Error("Could not find workbook");w.workbooks.push(x),j=!0}"bin"==w.workbooks[0].slice(-3)&&(j=!0);var N={},E={};if(!t.bookSheets&&!t.bookProps){if(gr=[],w.sst)try{gr=function(e,t,r){if(".bin"===t.slice(-4)){var a,n;return a=[],n=!1,hN(e,function(e,t,i){switch(i){case 159:a.Count=e[0],a.Unique=e[1];break;case 19:a.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(t.T,!n||r.WTF)throw Error("Unexpected record 0x"+i.toString(16))}}),a}return function(e,t){var r=[],a="";if(!e)return r;var n=e.match(mG);if(n){a=n[2].replace(mq,"").split(mK);for(var i=0;i!=a.length;++i){var s=mW(a[i].trim(),t);null!=s&&(r[r.length]=s)}r.Count=(n=fu(n[1])).count,r.Unique=n.uniqueCount}return r}(e,r)}(u7(e,bw(w.sst)),w.sst,t)}catch(e){if(t.WTF)throw e}t.cellStyles&&w.themes.length&&(s=u9(e,w.themes[0].replace(/^\//,""),!0)||"",w.themes[0],N=xS(s,t)),w.style&&(E=function(e,t,r,a){if(".bin"===t.slice(-4)){var n={};for(var i in n.NumberFmt=[],ur)n.NumberFmt[i]=ur[i];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return hN(e,function(e,t,i){switch(i){case 44:n.NumberFmt[e[0]]=e[1],u_(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&r&&r.themeElements&&r.themeElements.clrScheme&&(e.color.rgb=m7(r.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&n.CellXf.push(e);break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(i),o=!0;break;case 38:s.pop(),o=!1;break;default:if(t.T>0)s.push(i);else if(t.T<0)s.pop();else if(!o||a.WTF&&37!=s[s.length-1])throw Error("Unexpected record 0x"+i.toString(16))}}),n}return xu(e,r,a)}(u7(e,bw(w.style)),w.style,N,t))}w.links.map(function(r){try{pT(u9(e,pk(bw(r))),r);var a=u7(e,bw(r)),n=r,i=t;if(".bin"===n.slice(-4)){if(!a)return a;var s=i||{},o=!1;return void hN(a,function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(t.T);else if(!o||s.WTF)throw Error("Unexpected record 0x"+r.toString(16))}},s)}return}catch(e){}});var S=function(e,t,r){if(".bin"===t.slice(-4)){var a,n,i,s,o,l;return n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],s=!1,(a=r)||(a={}),a.biff=12,o=[],(l=[[]]).SheetNames=[],l.XTI=[],gJ[16]={n:"BrtFRTArchID$",f:gU},hN(e,function(e,t,r){switch(r){case 156:l.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(a.SID=e.Sheet),e.Ref=x3(e.Ptg,null,null,l,a),delete a.SID,delete e.Ptg,o.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:l[0].length?l.push([r,e]):l[0]=[r,e],l[l.length-1].XTI=[];break;case 362:0===l.length&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(e),l.XTI=l.XTI.concat(e);break;case 35:case 37:i.push(r),s=!0;break;case 36:case 38:i.pop(),s=!1;break;default:if(t.T);else if(!s||a.WTF&&37!=i[i.length-1]&&35!=i[i.length-1])throw Error("Unexpected record 0x"+r.toString(16))}},a),gI(n),n.Names=o,n.supbooks=l,n}return function(e,t){if(!e)throw Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},s=0;if(e.replace(fl,function(o,l){var c=fu(o);switch(ff(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(gL)&&(n="xmlns"+o.match(/<(\w+):/)[1]),r.xmlns=c[n];break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":gA.forEach(function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=fN(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}}),c.codeName&&(r.WBProps.CodeName=fA(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=fm(fA(c.name)),delete c[0],r.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":a=!1;break;case"<definedName":(i={}).Name=fA(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),fN(c.hidden||"0")&&(i.Hidden=!0),s=l+o.length;break;case"</definedName>":i.Ref=fm(fA(e.slice(s,l))),r.Names.push(i);break;case"<calcPr":case"<calcPr/>":delete c[0],r.CalcPr=c;break;default:if(!a&&t.WTF)throw Error("unrecognized "+c[0]+" in workbook")}return o}),-1===fK.indexOf(r.xmlns))throw Error("Unknown Namespace: "+r.xmlns);return gI(r),r}(e,r)}(u7(e,bw(w.workbooks[0])),w.workbooks[0],t),k={},T="";w.coreprops.length&&((T=u7(e,bw(w.coreprops[0]),!0))&&(k=pI(T)),0!==w.extprops.length)&&(T=u7(e,bw(w.extprops[0]),!0))&&(o=T,l=k,c=t,d={},l||(l={}),o=fA(o),pL.forEach(function(e){var t=(o.match(fC(e[0]))||[])[1];switch(e[2]){case"string":t&&(l[e[1]]=fm(t));break;case"bool":l[e[1]]="true"===t;break;case"raw":var r=o.match(RegExp("<"+e[0]+"[^>]*>([\\s\\S]*?)</"+e[0]+">"));r&&r.length>0&&(d[e[1]]=r[1])}}),d.HeadingPairs&&d.TitlesOfParts&&pU(d.HeadingPairs,d.TitlesOfParts,l,c));var A={};(!t.bookSheets||t.bookProps)&&0!==w.custprops.length&&(T=u9(e,bw(w.custprops[0]),!0))&&(A=function(e,t){var r={},a="",n=e.match(pB);if(n)for(var i=0;i!=n.length;++i){var s=n[i],o=fu(s);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":a=fm(o.name);break;case"</property>":a=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[a]=fm(d);break;case"bool":r[a]=fN(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(d);break;case"filetime":case"date":r[a]=uX(d);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!=typeof console&&console.warn("Unexpected",s,c,l)}}else if("</"===s.slice(0,2));else if(t.WTF)throw Error(s)}}return r}(T,t));var _={};if((t.bookSheets||t.bookProps)&&(S.Sheets?m=S.Sheets.map(function(e){return e.name}):k.Worksheets&&k.SheetNames.length>0&&(m=k.SheetNames),t.bookProps&&(_.Props=k,_.Custprops=A),t.bookSheets&&void 0!==m&&(_.SheetNames=m),t.bookSheets?_.SheetNames:t.bookProps))return _;m={};var C={};t.bookDeps&&w.calcchain&&(C=function(e,t,r){if(".bin"===t.slice(-4)){var a;return a=[],hN(e,function(e,t,r){if(63===r)a.push(e);else if(t.T);else if(1)throw Error("Unexpected record 0x"+r.toString(16))}),a}var n=[];if(!e)return n;var i=1;return(e.match(fl)||[]).forEach(function(e){var t=fu(e);switch(t[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete t[0],t.i?i=t.i:t.i=i,n.push(t)}}),n}(u7(e,bw(w.calcchain)),w.calcchain,0));var O=0,P={},R=S.Sheets;k.Worksheets=R.length,k.SheetNames=[];for(var I=0;I!=R.length;++I)k.SheetNames[I]=R[I].name;var D=j?"bin":"xml",M=w.workbooks[0].lastIndexOf("/"),L=(w.workbooks[0].slice(0,M+1)+"_rels/"+w.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");u6(e,L)||(L="xl/_rels/workbook."+D+".rels");var F=pT(u9(e,L,!0),L.replace(/_rels.*/,"s5s"));(w.metadata||[]).length>=1&&(t.xlmeta=function(e,t,r){if(".bin"===t.slice(-4)){var a,n,i,s,o;return a={Types:[],Cell:[],Value:[]},n=r||{},i=[],s=!1,o=2,hN(e,function(e,t,r){switch(r){case 335:a.Types.push({name:e.name});break;case 51:e.forEach(function(e){1==o?a.Cell.push({type:a.Types[e[0]-1].name,index:e[1]}):0==o&&a.Value.push({type:a.Types[e[0]-1].name,index:e[1]})});break;case 337:o=+!!e;break;case 338:o=2;break;case 35:i.push(r),s=!0;break;case 36:i.pop(),s=!1;break;default:if(t.T);else if(!s||n.WTF&&35!=i[i.length-1])throw Error("Unexpected record 0x"+r.toString(16))}}),a}var l,c={Types:[],Cell:[],Value:[]};if(!e)return c;var d=!1,u=2;return e.replace(fl,function(e){var t=fu(e);switch(ff(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":c.Types.push({name:t.name});break;case"<futureMetadata":for(var a=0;a<c.Types.length;++a)c.Types[a].name==t.name&&(l=c.Types[a]);break;case"<rc":1==u?c.Cell.push({type:c.Types[t.t-1].name,index:+t.v}):0==u&&c.Value.push({type:c.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":u=1;break;case"</cellMetadata>":case"</valueMetadata>":u=2;break;case"<valueMetadata":u=0;break;case"<ext":d=!0;break;case"</ext>":d=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+t.i);break;default:if(!d&&r.WTF)throw Error("unrecognized "+t[0]+" in metadata")}return e}),c}(u7(e,bw(w.metadata[0])),w.metadata[0],t)),(w.people||[]).length>=1&&(t.people=(u=u7(e,bw(w.people[0])),f=t,h=[],p=!1,u.replace(fl,function(e){var t=fu(e);switch(ff(t[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":h.push({name:t.displayname,id:t.id});break;case"<ext":p=!0;break;case"</ext>":p=!1;break;default:if(!p&&f.WTF)throw Error("unrecognized "+t[0]+" in threaded comments")}return e}),h)),F&&(F=function(e,t){if(!e)return 0;try{e=t.map(function(t){var r;return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,py.indexOf(r)>-1?"sheet":pv&&r==pv?"chart":pw&&r==pw?"dialog":pj&&r==pj?"macro":r&&r.length?r:"sheet")]})}catch(e){return null}return e&&0!==e.length?e:null}(F,S.Sheets));var U=+!!u7(e,"xl/worksheets/sheet.xml",!0);for(O=0;O!=k.Worksheets;++O){var z="sheet";if(F&&F[O]?(u6(e,g="xl/"+F[O][1].replace(/[\/]?xl\//,""))||(g=F[O][1]),u6(e,g)||(g=L.replace(/_rels\/.*$/,"")+F[O][1]),z=F[O][2]):g=(g="xl/worksheets/sheet"+(O+1-U)+"."+D).replace(/sheet0\./,"sheet."),b=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(O!=t.sheets)continue;break;case"string":if(k.SheetNames[O].toLowerCase()!=t.sheets.toLowerCase())continue;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var B=!1,V=0;V!=t.sheets.length;++V)"number"==typeof t.sheets[V]&&t.sheets[V]==O&&(B=1),"string"==typeof t.sheets[V]&&t.sheets[V].toLowerCase()==k.SheetNames[O].toLowerCase()&&(B=1);if(!B)continue}}!function(e,t,r,a,n,i,s,o,l,c,d,u){try{i[a]=pT(u9(e,r,!0),t);var f,h,p=u7(e,t);switch(o){case"sheet":f=i[a],h=".bin"===t.slice(-4)?function(e,t,r,a,n,i,s){if(!e)return e;var o,l,c,d,u,f,h,p,m,x,g,b,v=t||{};a||(a={"!id":{}});var y=v.dense?[]:{},w={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=[],N=!1,E=!1,S=[];v.biff=12,v["!row"]=0;var k=0,T=!1,A=[],_={},C=v.supbooks||n.supbooks||[[]];if(C.sharedf=_,C.arrayf=A,C.SheetNames=n.SheetNames||n.Sheets.map(function(e){return e.name}),!v.supbooks&&(v.supbooks=C,n.Names))for(var O=0;O<n.Names.length;++O)C[0][O+1]=n.Names[O];var P=[],R=[],I=!1;if(gJ[16]={n:"BrtShortReal",f:gk},hN(e,function(e,t,O){if(!E)switch(O){case 148:o=e;break;case 0:l=e,v.sheetRows&&v.sheetRows<=l.r&&(E=!0),m=hO(u=l.r),v["!row"]=l.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=xo(e.hpt)),R[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(c={t:e[2]},e[2]){case"n":c.v=e[1];break;case"s":p=gr[e[1]],c.v=p.t,c.r=p.r;break;case"b":c.v=!!e[1];break;case"e":c.v=e[1],!1!==v.cellText&&(c.w=pa[c.v]);break;case"str":c.t="s",c.v=e[1];break;case"is":c.t="s",c.v=e[1].t}if((d=s.CellXf[e[0].iStyleRef])&&gc(c,d.numFmtId,null,v,i,s),f=-1==e[0].c?f+1:e[0].c,v.dense?(y[u]||(y[u]=[]),y[u][f]=c):y[hR(f)+m]=c,v.cellFormula){for(k=0,T=!1;k<A.length;++k){var D=A[k];l.r>=D[0].s.r&&l.r<=D[0].e.r&&f>=D[0].s.c&&f<=D[0].e.c&&(c.F=hL(D[0]),T=!0)}!T&&e.length>3&&(c.f=e[3])}if(w.s.r>l.r&&(w.s.r=l.r),w.s.c>f&&(w.s.c=f),w.e.r<l.r&&(w.e.r=l.r),w.e.c<f&&(w.e.c=f),v.cellDates&&d&&"n"==c.t&&uS(ur[d.numFmtId])){var M=us(c.v);M&&(c.t="d",c.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}g&&("XLDAPR"==g.type&&(c.D=!0),g=void 0),b&&(b=void 0);break;case 1:case 12:if(!v.sheetStubs||N)break;c={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,v.dense?(y[u]||(y[u]=[]),y[u][f]=c):y[hR(f)+m]=c,w.s.r>l.r&&(w.s.r=l.r),w.s.c>f&&(w.s.c=f),w.e.r<l.r&&(w.e.r=l.r),w.e.c<f&&(w.e.c=f),g&&("XLDAPR"==g.type&&(c.D=!0),g=void 0),b&&(b=void 0);break;case 176:S.push(e);break;case 49:g=((v.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=a["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),u=e.rfx.s.r;u<=e.rfx.e.r;++u)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)v.dense?(y[u]||(y[u]=[]),y[u][f]||(y[u][f]={t:"z",v:void 0}),y[u][f].l=e):(y[h=hD({c:f,r:u})]||(y[h]={t:"z",v:void 0}),y[h].l=e);break;case 426:if(!v.cellFormula)break;A.push(e),(x=v.dense?y[u][f]:y[hR(f)+m]).f=x3(e[1],w,{r:l.r,c:f},C,v),x.F=hL(e[0]);break;case 427:if(!v.cellFormula)break;_[hD(e[0].s)]=e[1],(x=v.dense?y[u][f]:y[hR(f)+m]).f=x3(e[1],w,{r:l.r,c:f},C,v);break;case 60:if(!v.cellStyles)break;for(;e.e>=e.s;)P[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},I||(I=!0,xn(e.w/256)),xi(P[e.e+1]);break;case 161:y["!autofilter"]={ref:hL(e)};break;case 476:y["!margins"]=e;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),e.name&&(n.Sheets[r].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),e.RTL&&(n.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:N=!0;break;case 36:N=!1;break;case 37:j.push(O),N=!0;break;case 38:j.pop(),N=!1;break;default:if(t.T);else if(!N||v.WTF)throw Error("Unexpected record 0x"+O.toString(16))}},v),delete v.supbooks,delete v["!row"],!y["!ref"]&&(w.s.r<2e6||o&&(o.e.r>0||o.e.c>0||o.s.r>0||o.s.c>0))&&(y["!ref"]=hL(o||w)),v.sheetRows&&y["!ref"]){var D=hF(y["!ref"]);v.sheetRows<=+D.e.r&&(D.e.r=v.sheetRows-1,D.e.r>w.e.r&&(D.e.r=w.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>w.e.c&&(D.e.c=w.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),y["!fullref"]=y["!ref"],y["!ref"]=hL(D))}return S.length>0&&(y["!merges"]=S),P.length>0&&(y["!cols"]=P),R.length>0&&(y["!rows"]=R),y}(p,l,n,f,c,d,u):function(e,t,r,a,n,i,s){if(!e)return e;a||(a={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(gu);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var f=c.match(gg);f?gy(f[0],o,n,r):(f=c.match(gb))&&(p=f[0],m=f[1],x=o,g=n,b=r,gy(p.slice(0,p.indexOf(">")),x,g,b));var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p,m,x,g,b,v,y=c.slice(h,h+50).match(gh);y&&(v=hF(y[1])).s.r<=v.e.r&&v.s.c<=v.e.c&&v.s.r>=0&&v.s.c>=0&&(o["!ref"]=hL(v))}var w=c.match(gv);w&&w[1]&&function(e,t){t.Views||(t.Views=[{}]),(e.match(gN)||[]).forEach(function(e,r){var a=fu(e);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),fN(a.rightToLeft)&&(t.Views[r].RTL=!0)})}(w[1],n);var j=[];if(t.cellStyles){var N=c.match(gp);N&&function(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=fu(t[a],!0);n.hidden&&(n.hidden=fN(n.hidden));var i=parseInt(n.min,10)-1,s=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,xn(n.width)),xi(n);i<=s;)e[i++]=uJ(n)}}(j,N)}u&&gE(u[1],o,t,l,i,s);var E=d.match(gm);E&&(o["!autofilter"]={ref:(E[0].match(/ref="([^"]*)"/)||[])[1]});var S=[],k=d.match(gd);if(k)for(h=0;h!=k.length;++h)S[h]=hF(k[h].slice(k[h].indexOf('"')+1));var T=d.match(gf);T&&function(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=fu(fA(t[n]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+fm(i.location))):(i.Target="#"+fm(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=hF(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=hD({c:c,r:l});a?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}(o,T,a);var A=d.match(gx);if(A&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}(fu(A[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=hL(l)),t.sheetRows>0&&o["!ref"]){var _=hF(o["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),o["!fullref"]=o["!ref"],o["!ref"]=hL(_))}return j.length>0&&(o["!cols"]=j),S.length>0&&(o["!merges"]=S),o}(p,l,n,f,c,d,u);break;case"chart":if(!(h=function(e,t,r,a,n,i,s,o){if(".bin"===t.slice(-4)){var l=n;if(!e)return e;l||(l={"!id":{}});var c={"!type":"chart","!drawel":null,"!rel":""},d=[],u=!1;return hN(e,function(e,t,n){switch(n){case 550:c["!rel"]=e;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),e.name&&(i.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:u=!0;break;case 36:u=!1;break;case 37:d.push(n);break;case 38:d.pop();break;default:if(t.T>0)d.push(n);else if(t.T<0)d.pop();else if(!u||a.WTF)throw Error("Unexpected record 0x"+n.toString(16))}},a),l["!id"][c["!rel"]]&&(c["!drawel"]=l["!id"][c["!rel"]]),c}var f=n;if(!e)return e;f||(f={"!id":{}});var h,p={"!type":"chart","!drawel":null,"!rel":""},m=e.match(gg);return m&&gy(m[0],p,i,r),(h=e.match(/drawing r:id="(.*?)"/))&&(p["!rel"]=h[1]),f["!id"][p["!rel"]]&&(p["!drawel"]=f["!id"][p["!rel"]]),p}(p,t,n,l,i[a],c,0,0))||!h["!drawel"])break;var m=fn(h["!drawel"].Target,t),x=pk(m),g=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(u9(e,m,!0),pT(u9(e,x,!0),m)),b=fn(g,m),v=pk(b);h=function(e,t,r,a,n,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t,r,a,n,i=(r=[],a=e.match(/^<c:numCache>/),(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=a?+t[2]:t[2])}),n=fm((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]),(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(e){t=e.replace(/<.*?>/g,"")}),[r,n,t]);d.s.r=d.s.c=0,d.e.c=o,c=hR(o),i[0].forEach(function(e,t){s[c+hO(t)]={t:"n",v:e,z:i[1]},l=t}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(s["!ref"]=hL(d)),s}(u9(e,b,!0),0,0,pT(u9(e,v,!0),b),0,h);break;case"macro":i[a],t.slice(-4),h={"!type":"macro"};break;case"dialog":i[a],t.slice(-4),h={"!type":"dialog"};break;default:throw Error("Unrecognized sheet type "+o)}s[a]=h;var y=[];i&&i[a]&&uL(i[a]).forEach(function(r){var n,s,o,c,d,u="";if(i[a][r].Type==pf){u=fn(i[a][r].Target,t);var f=function(e,t,r){if(".bin"===t.slice(-4)){var a,n,i,s;return a=[],n=[],i={},s=!1,hN(e,function(e,t,o){switch(o){case 632:n.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,r.sheetRows&&i.rfx&&r.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,a.push(i);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(t.T);else if(!s||r.WTF)throw Error("Unexpected record 0x"+o.toString(16))}}),a}if(e.match(/<(?:\w+:)?comments *\/>/))return[];var o=[],l=[],c=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);c&&c[1]&&c[1].split(/<\/\w*:?author>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&o.push(t[1])}});var d=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return d&&d[1]&&d[1].split(/<\/\w*:?comment>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?comment[^>]*>/);if(t){var a=fu(t[0]),n={author:a.authorId&&o[a.authorId]||"sheetjsghost",ref:a.ref,guid:a.guid},i=hI(a.ref);if(!r.sheetRows||!(r.sheetRows<=i.r)){var s=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!s&&!!s[1]&&mW(s[1])||{r:"",t:"",h:""};n.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),n.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r.cellHTML&&(n.h=c.h),l.push(n)}}}}),l}(u7(e,u,!0),u,l);if(!f||!f.length)return;xC(h,f,!1)}i[a][r].Type==pE&&(u=fn(i[a][r].Target,t),y=y.concat((n=u7(e,u,!0),s=[],o=!1,c={},d=0,n.replace(fl,function(e,t){var r=fu(e);switch(ff(r[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":c={author:r.personId,guid:r.id,ref:r.ref,T:1};break;case"</threadedComment>":null!=c.t&&s.push(c);break;case"<text>":case"<text":d=t+e.length;break;case"</text>":c.t=n.slice(d,t).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":o=!0;break;case"</mentions>":case"</ext>":o=!1;break;default:if(!o&&l.WTF)throw Error("unrecognized "+r[0]+" in threaded comments")}return e}),s)))}),y&&y.length&&xC(h,y,!0,l.people||[])}catch(e){if(l.WTF)throw e}}(e,g,b,k.SheetNames[O],O,P,m,z,t,S,N,E)}return _={Directory:w,Workbook:S,Props:k,Custprops:A,Deps:C,Sheets:m,SheetNames:k.SheetNames,Strings:gr,Styles:E,Themes:N,SSF:uJ(ur)},t&&t.bookFiles&&(e.files?(_.keys=y,_.files=e.files):(_.keys=[],_.files={},e.FullPaths.forEach(function(t,r){t=t.replace(/^Root Entry[\/]/,""),_.keys.push(t),_.files[t]=e.FileIndex[r]}))),t&&t.bookVBA&&(w.vba.length>0?_.vbaraw=u7(e,bw(w.vba[0]),!0):w.defaults&&"application/vnd.ms-office.vbaProject"===w.defaults.bin&&(_.vbaraw=u7(e,"xl/vbaProject.bin",!0))),_}(fa(a,i),i)):bE(t,f,u,p);case 239:return 60===h[3]?gH(f,u):bE(t,f,u,p);case 255:if(254===h[1])return l=f,c=u,d=l,"base64"==c.type&&(d=dG(d)),d=en.utils.decode(1200,d.slice(2),"str"),c.type="binary",bN(d,c);if(0===h[1]&&2===h[2]&&0===h[3])return mU.to_workbook(f,u);break;case 0:if(0===h[1]&&(h[2]>=2&&0===h[3]||0===h[2]&&(8===h[3]||9===h[3])))return mU.to_workbook(f,u);break;case 3:case 131:case 139:case 140:return mI.to_workbook(f,u);case 123:if(92===h[1]&&114===h[2]&&116===h[3])return m6.to_workbook(f,u);break;case 10:case 13:case 32:var w=f,j=u,N="",E=bj(w,j);switch(j.type){case"base64":N=dG(w);break;case"binary":N=w;break;case"buffer":N=w.toString("binary");break;case"array":N=uZ(w);break;default:throw Error("Unrecognized type "+j.type)}return 239==E[0]&&187==E[1]&&191==E[2]&&(N=fA(N)),j.type="binary",bN(N,j);case 137:if(80===h[1]&&78===h[2]&&71===h[3])throw Error("PNG Image File is not a spreadsheet")}return mR.indexOf(h[0])>-1&&h[2]<=12&&h[3]<=31?mI.to_workbook(f,u):bE(t,f,u,p)}(t,{type:"array"}),a=r.SheetNames[0],s=r.Sheets[a],l=bA(s,{header:1}).slice(1).map((e,t)=>{let r=[],a=e[0]?.toString()||"",n=e[1]?.toString()||"",i=parseFloat(e[4])||0;return a||r.push("Falta SKU"),n||r.push("Falta Nombre"),i<=0&&r.push("Precio invlido"),{sku:a,name:n,dci:e[2]?.toString(),laboratory:e[3]?.toString(),price_sell:i,cost_net:parseFloat(e[5])||0,stock:parseInt(e[6])||0,lot_number:e[7]?.toString()||"S/L",expiry_date:e[8]?.toString(),location:e[9]?.toString(),is_refrigerated:e[10]?.toString(),isValid:0===r.length,errors:r}}).filter(e=>e.sku||e.name);o(l),i("PREVIEW")}catch(e){console.error(e),o3.toast.error("Error al procesar el archivo Excel")}finally{c(!1)}},r.readAsArrayBuffer(t)},[]),accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"]},maxFiles:1}),h=async()=>{c(!0);try{let e=s.filter(e=>e.isValid);if(0===e.length)return void o3.toast.error("No hay datos vlidos para importar");let a=e.map(e=>{let t=Date.now()+31536e6;if(e.expiry_date){let r=e.expiry_date.split("/");3===r.length&&(t=new Date(parseInt(r[2]),parseInt(r[1])-1,parseInt(r[0])).getTime())}return{id:bM(),sku:e.sku,name:e.name,dci:e.dci,laboratory:e.laboratory,price_sell:e.price_sell,cost_net:e.cost_net,stock_actual:e.stock,lot_number:e.lot_number,expiry_date:t,location_id:"BODEGA_CENTRAL",is_refrigerated:e.is_refrigerated?.toUpperCase()==="SI",status:"AVAILABLE"}});await r(a),o3.toast.success(`${a.length} productos importados exitosamente`),t(),i("UPLOAD"),o([])}catch(e){console.error(e),o3.toast.error("Error al guardar en la base de datos")}finally{c(!1)}};if(!e)return null;let p=s.filter(e=>e.isValid).length,m=s.length-p;return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(cR,{className:"text-green-600"}),"Importacin Masiva"]}),(0,eb.jsx)("p",{className:"text-sm text-gray-500",children:"Carga de inventario desde Excel"})]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:20,className:"text-gray-500"})})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-hidden p-8",children:"UPLOAD"===a?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center gap-8",children:[(0,eb.jsxs)("div",{className:"text-center max-w-md",children:[(0,eb.jsx)("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:(0,eb.jsx)(cU.Upload,{size:32})}),(0,eb.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sube tu archivo Excel"}),(0,eb.jsx)("p",{className:"text-gray-500 mb-6",children:"Para asegurar una carga correcta, descargue nuestra plantilla oficial y copie sus datos en ella."}),(0,eb.jsxs)("button",{onClick:()=>{let e=hV([["SKU","Nombre","DCI","Laboratorio","Precio Venta","Costo Neto","Stock","Lote","Vencimiento (DD/MM/AAAA)","Ubicacin","Es Refrigerado (SI/NO)"],["780001","Paracetamol 500mg","Paracetamol","Mintlab",1990,500,100,"L-2024","31/12/2025","ESTANTE-A","NO"]]),t=bO();bP(t,e,"Plantilla"),function(e,t,r){var a={};a.type="file",a.file=t;if(!a.bookType){var n=a.file.slice(a.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(a.bookType=n.slice(1)),a.bookType=({xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"})[a.bookType]||a.bookType}!function e(t,r){dF(),function(e){if(!e||!e.SheetNames||!e.Sheets)throw Error("Invalid Workbook");if(!e.SheetNames.length)throw Error("Workbook is empty");var t,r,a=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,r=!!e.vbaraw,t.forEach(function(e,n){gM(e);for(var i=0;i<n;++i)if(e==t[i])throw Error("Duplicate Sheet Name: "+e);if(r){var s=a&&a[n]&&a[n].CodeName||e;if(95==s.charCodeAt(0)&&s.length>22)throw Error("Bad Code Name: Worksheet"+s)}});for(var n=0;n<e.SheetNames.length;++n)!function(e,t,r){if(e&&e["!ref"]){var a=hF(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw Error("Bad range ("+r+"): "+e["!ref"])}}(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}(t);var a,n,i=uJ(r||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),"array"==i.type){i.type="binary";var s=e(t,i);return i.type="array",dJ(s)}var o=0;if(i.sheet&&(o="number"==typeof i.sheet?i.sheet:t.SheetNames.indexOf(i.sheet),!t.SheetNames[o]))throw Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return bk(function(e,t){t||(t={}),e.SSF||(e.SSF=uJ(ur)),e.SSF&&(uO(),uC(e.SSF),t.revssf=uz(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],gl(t.cellXfs,{},{revssf:{General:0}}));var r,a,n,i,s,o,l,c,d,u,f=[];f.push((r=t,a=[],e.Props&&a.push((n=e.Props,i=[],uL(p$).map(function(e){for(var t=0;t<pP.length;++t)if(pP[t][1]==e)return pP[t];for(t=0;t<pL.length;++t)if(pL[t][1]==e)return pL[t];throw e}).forEach(function(e){if(null!=n[e[1]]){var t=r&&r.Props&&null!=r.Props[e[1]]?r.Props[e[1]]:n[e[1]];"date"===e[2]&&(t=new Date(t).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof t?t=String(t):!0===t||!1===t?t=t?"1":"0":t instanceof Date&&(t=new Date(t).toISOString().replace(/\.\d*Z/,"")),i.push(fL(p$[e[1]]||e[1],t))}}),fU("DocumentProperties",i.join(""),{xmlns:fY}))),e.Custprops&&a.push((s=e.Props,o=e.Custprops,l=["Worksheets","SheetNames"],c="CustomDocumentProperties",d=[],s&&uL(s).forEach(function(e){if(Object.prototype.hasOwnProperty.call(s,e)){for(var t=0;t<pP.length;++t)if(e==pP[t][1])return;for(t=0;t<pL.length;++t)if(e==pL[t][1])return;for(t=0;t<l.length;++t)if(e==l[t])return;var r=s[e],a="string";"number"==typeof r?(a="float",r=String(r)):!0===r||!1===r?(a="boolean",r=r?"1":"0"):r=String(r),d.push(fU(fv(e),r,{"dt:dt":a}))}}),o&&uL(o).forEach(function(e){if(Object.prototype.hasOwnProperty.call(o,e)&&!(s&&Object.prototype.hasOwnProperty.call(s,e))){var t=o[e],r="string";"number"==typeof t?(r="float",t=String(t)):!0===t||!1===t?(r="boolean",t=t?"1":"0"):t instanceof Date?(r="dateTime.tz",t=t.toISOString()):t=String(t),d.push(fU(fv(e),t,{"dt:dt":r}))}}),"<"+c+' xmlns="'+fY+'">'+d.join("")+"</"+c+">")),a.join(""))),f.push(""),f.push(""),f.push("");for(var h=0;h<e.SheetNames.length;++h)f.push(fU("Worksheet",function(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],s=i?function(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],s=0;s<n.length;++s){var o=n[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(gW(o)))}return i.join("")}(i,0,e,r):"";return s.length>0&&a.push("<Names>"+s+"</Names>"),(s=i?function(e,t,r,a){if(!e["!ref"])return"";var n=hF(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(e,t){xi(e);var r=!!e.width,a=gs(t,e),n={"ss:Index":t+1};r&&(n["ss:Width"]=xe(a.width)),e.hidden&&(n["ss:Hidden"]="1"),o.push(fU("Column",null,n))});for(var l=Array.isArray(e),c=n.s.r;c<=n.e.r;++c){for(var d=[function(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=xo(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}(c,(e["!rows"]||[])[c])],u=n.s.c;u<=n.e.c;++u){var f=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>u)&&!(i[s].s.r>c)&&!(i[s].e.c<u)&&!(i[s].e.r<c)){(i[s].s.c!=u||i[s].s.r!=c)&&(f=!0);break}if(!f){var h={r:c,c:u},p=hD(h),m=l?(e[c]||[])[u]:e[p];d.push(function(e,t,r,a,n,i,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+fb(xD(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=hI(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=fb(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=fb(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c==s.c&&c[d].s.r==s.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",f="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":u="Number",f=String(e.v);break;case"b":u="Boolean",f=e.v?"1":"0";break;case"e":u="Error",f=pa[e.v];break;case"d":u="DateTime",f=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||ur[14]);break;case"s":u="String",f=((e.v||"")+"").replace(fx,function(e){return fp[e]}).replace(fy,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var h=gl(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var p=null!=e.v?f:"",m="z"==e.t?"":'<Data ss:Type="'+u+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=fU("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return fU("Comment",t,{"ss:Author":e.a})}).join("")),fU("Cell",m,o)}(m,p,e,t,0,0,h))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}(i,t,0,0):"").length>0&&a.push("<Table>"+s+"</Table>"),a.push(function(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(fU("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(fU("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(fU("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(fU("Visible",1==a.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&(!a.Workbook.Sheets[i]||a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return(((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(fL("ProtectContents","True")),e["!protect"].objects&&n.push(fL("ProtectObjects","True")),e["!protect"].scenarios&&n.push(fL("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||n.push(fL("EnableSelection","UnlockedCells")):n.push(fL("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&n.push("<"+t[1]+"/>")})),0==n.length)?"":fU("WorksheetOptions",n.join(""),{xmlns:fX})}(i,0,e,r)),a.join("")}(h,t,e),{"ss:Name":fb(e.SheetNames[h])}));return f[2]=(u=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'],t.cellXfs.forEach(function(e,t){var r=[];r.push(fU("NumberFormat",null,{"ss:Format":fb(ur[e.numFmtId])})),u.push(fU("Style",r.join(""),{"ss:ID":"s"+(21+t)}))}),fU("Styles",u.join(""))),f[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];null==n.Sheet&&(n.Name.match(/^_xlfn\./)||r.push(gW(n)))}return fU("Names",r.join(""))}(e,t),fi+fU("Workbook",f.join(""),{xmlns:fZ,"xmlns:o":fY,"xmlns:x":fX,"xmlns:ss":fZ,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}(t,i),i);case"slk":case"sylk":return bk(mD.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"htm":case"html":return bk(function(e,t){var r=t||{},a=null!=r.header?r.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',n=null!=r.footer?r.footer:"</body></html>",i=[a],s=hM(e["!ref"]);r.dense=Array.isArray(e),i.push("<table"+(r&&r.id?' id="'+r.id+'"':"")+">");for(var o=s.s.r;o<=s.e.r;++o)i.push(function(e,t,r,a){for(var n=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<n.length;++c)if(!(n[c].s.r>r)&&!(n[c].s.c>s)&&!(n[c].e.r<r)&&!(n[c].e.c<s)){if(n[c].s.r<r||n[c].s.c<s){o=-1;break}o=n[c].e.r-n[c].s.r+1,l=n[c].e.c-n[c].s.c+1;break}if(!(o<0)){var d=hD({r:r,c:s}),u=a.dense?(e[r]||[])[s]:e[d],f=u&&null!=u.v&&(u.h||fw(u.w||(hz(u),u.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),a.editable?f='<span contenteditable="true">'+f+"</span>":u&&(h["data-t"]=u&&u.t||"z",null!=u.v&&(h["data-v"]=u.v),null!=u.z&&(h["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(f='<a href="'+u.l.Target+'">'+f+"</a>")),h.id=(a.id||"sjs")+"-"+d,i.push(fU("td",f,h))}}return"<tr>"+i.join("")+"</tr>"}(e,s,o,r));return i.push("</table>"+n),i.join("")}(t.Sheets[t.SheetNames[o]],i),i);case"txt":var l=function(e,t){t||(t={}),t.FS="	",t.RS="\n";var r=bC(e,t);if(void 0===en||"string"==t.type)return r;var a=en.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+a}(t.Sheets[t.SheetNames[o]],i);switch(i.type){case"base64":return dW(l);case"binary":case"string":return l;case"file":return uM(i.file,l,"binary");case"buffer":if(dq)return dK(l,"binary");return l.split("").map(function(e){return e.charCodeAt(0)})}throw Error("Unrecognized type "+i.type);case"csv":return bk(bC(t.Sheets[t.SheetNames[o]],i),i,"\uFEFF");case"dif":return bk(mM.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"dbf":return bT(mI.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"prn":return bk(mF.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"rtf":return bk(m6.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"eth":return bk(mL.from_sheet(t.Sheets[t.SheetNames[o]],i),i);case"fods":return bk(g7(t,i),i);case"wk1":return bT(mU.sheet_to_wk1(t.Sheets[t.SheetNames[o]],i),i);case"wk3":return bT(mU.book_to_wk3(t,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),bT(g2(t,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),bS(function(e,t){var r,a=t||{},n=uD.utils.cfb_new({root:"R"}),i="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":i="/Workbook",a.biff=8;break;case"biff5":i="/Book",a.biff=5;break;default:throw Error("invalid type "+a.bookType+" for XLS CFB")}return uD.utils.cfb_add(n,i,g2(e,a)),8==a.biff&&(e.Props||e.Custprops)&&function(e,t){var r,a=[],n=[],i=[],s=0,o=uF(h7,"n"),l=uF(h9,"n");if(e.Props)for(s=0,r=uL(e.Props);s<r.length;++s)(Object.prototype.hasOwnProperty.call(o,r[s])?a:Object.prototype.hasOwnProperty.call(l,r[s])?n:i).push([r[s],e.Props[r[s]]]);if(e.Custprops)for(s=0,r=uL(e.Custprops);s<r.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},r[s])||(Object.prototype.hasOwnProperty.call(o,r[s])?a:Object.prototype.hasOwnProperty.call(l,r[s])?n:i).push([r[s],e.Custprops[r[s]]]);var c=[];for(s=0;s<i.length;++s)p0.indexOf(i[s][0])>-1||pF.indexOf(i[s][0])>-1||null!=i[s][1]&&c.push(i[s]);n.length&&uD.utils.cfb_add(t,"/\x05SummaryInformation",p4(n,gY,l,h9)),(a.length||c.length)&&uD.utils.cfb_add(t,"/\x05DocumentSummaryInformation",p4(a,gX,o,h7,c.length?c:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(e,n),8==a.biff&&e.vbaraw&&(r=uD.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})).FullPaths.forEach(function(e,t){if(0!=t){var a=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&uD.utils.cfb_add(n,a,r.FileIndex[t].content)}}),n}(t,a=i||{}),a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r={},a=dq?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw Error("Unrecognized type "+t.type)}var n=e.FullPaths?uD.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!=typeof Deno&&"string"==typeof n){if("binary"==t.type||"base64"==t.type)return n;n=new Uint8Array(dJ(n))}return t.password&&"undefined"!=typeof encrypt_agile?bS(encrypt_agile(n,t.password),t):"file"===t.type?uM(t.file,n):"string"==t.type?fA(n):n}("ods"==(n=uJ(i||{})).bookType?g7(t,n):"numbers"==n.bookType?function(e,t){if(!t||!t.numbers)throw Error("Must pass a `numbers` option -- check the README");var r,a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=hM(a["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(hL(n)));var s=bA(a,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&o.push(e)})});var l={},c=[],d=uD.read(t.numbers,{type:"base64"});d.FileIndex.map(function(e,t){return[e,d.FullPaths[t]]}).forEach(function(e){var t=e[0],r=e[1];2!=t.type||t.name.match(/\.iwa/)&&bc(bu(t.content)).forEach(function(e){c.push(e.id),l[e.id]={deps:[],location:r,type:bi(e.messages[0].meta[1][0].data)}})}),c.sort(function(e,t){return e-t});var u=c.filter(function(e){return e>1}).map(function(e){return[e,bn(e)]});d.FileIndex.map(function(e,t){return[e,d.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&bc(bu(t.content)).forEach(function(e){e.messages.forEach(function(t){u.forEach(function(t){e.messages.some(function(e){return 11006!=bi(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}(e.data,t[1])})&&l[t[0]].deps.push(e.id)})})})});for(var f=uD.find(d,l[1].location),h=bc(bu(f.content)),p=0;p<h.length;++p){var m=h[p];1==m.id&&(r=m)}var x=bm(bs(r.messages[0].data)[1][0].data);for(p=0,h=bc(bu((f=uD.find(d,l[x].location)).content));p<h.length;++p)(m=h[p]).id==x&&(r=m);for(p=0,x=bm(bs(r.messages[0].data)[2][0].data),h=bc(bu((f=uD.find(d,l[x].location)).content));p<h.length;++p)(m=h[p]).id==x&&(r=m);for(p=0,x=bm(bs(r.messages[0].data)[2][0].data),h=bc(bu((f=uD.find(d,l[x].location)).content));p<h.length;++p)(m=h[p]).id==x&&(r=m);var g=bs(r.messages[0].data);g[6][0].data=bn(n.e.r+1),g[7][0].data=bn(n.e.c+1);for(var b=bm(g[46][0].data),v=uD.find(d,l[b].location),y=bc(bu(v.content)),w=0;w<y.length&&y[w].id!=b;++w);if(y[w].id!=b)throw"Bad ColumnRowUIDMapArchive";var j=bs(y[w].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var N=0;N<=n.e.c;++N){var E=[];E[1]=E[2]=[{type:0,data:bn(N+420690)}],j[1].push({type:2,data:bo(E)}),j[2].push({type:0,data:bn(N)}),j[3].push({type:0,data:bn(N)})}j[4]=[],j[5]=[],j[6]=[];for(var S=0;S<=n.e.r;++S)(E=[])[1]=E[2]=[{type:0,data:bn(S+726270)}],j[4].push({type:2,data:bo(E)}),j[5].push({type:0,data:bn(S)}),j[6].push({type:0,data:bn(S)});y[w].messages[0].data=bo(j),v.content=bf(bd(y)),v.size=v.content.length,delete g[46];var k=bs(g[4][0].data);k[7][0].data=bn(n.e.r+1);var T=bm(bs(k[1][0].data)[2][0].data);if((y=bc(bu((v=uD.find(d,l[T].location)).content)))[0].id!=T)throw"Bad HeaderStorageBucket";var A=bs(y[0].messages[0].data);for(S=0;S<s.length;++S){var _=bs(A[2][0].data);_[1][0].data=bn(S),_[4][0].data=bn(s[S].length),A[2][S]={type:A[2][0].type,data:bo(_)}}y[0].messages[0].data=bo(A),v.content=bf(bd(y)),v.size=v.content.length;var C=bm(k[2][0].data);if((y=bc(bu((v=uD.find(d,l[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";for(N=0,A=bs(y[0].messages[0].data);N<=n.e.c;++N)(_=bs(A[2][0].data))[1][0].data=bn(N),_[4][0].data=bn(n.e.r+1),A[2][N]={type:A[2][0].type,data:bo(_)};y[0].messages[0].data=bo(A),v.content=bf(bd(y)),v.size=v.content.length;var O=bm(k[4][0].data);!function(){for(var e,t=uD.find(d,l[O].location),r=bc(bu(t.content)),a=0;a<r.length;++a){var n=r[a];n.id==O&&(e=n)}var i=bs(e.messages[0].data);i[3]=[];var s=[];o.forEach(function(e,t){s[1]=[{type:0,data:bn(t)}],s[2]=[{type:0,data:bn(1)}],s[3]=[{type:2,data:"undefined"!=typeof TextEncoder?new TextEncoder().encode(e):dZ(f_(e))}],i[3].push({type:2,data:bo(s)})}),e.messages[0].data=bo(i),t.content=bf(bd(r)),t.size=t.content.length}();var P=bs(k[3][0].data),R=P[1][0];delete P[2];var I=bs(R.data),D=bm(I[2][0].data);!function(){for(var e,t=uD.find(d,l[D].location),r=bc(bu(t.content)),a=0;a<r.length;++a){var i=r[a];i.id==D&&(e=i)}var c=bs(e.messages[0].data);delete c[6],delete P[7];var u=new Uint8Array(c[5][0].data);c[5]=[];for(var f=0,h=0;h<=n.e.r;++h){var p=bs(u);f+=function(e,t,r){if(!(null==(a=e[6])?void 0:a[0])||!(null==(n=e[7])?void 0:n[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(i=e[8])?void 0:i[0])?void 0:s.data)&&bi(e[8][0].data)>0)throw"Math only works with normal offsets";for(var a,n,i,s,o,l,c=0,d=g9(e[7][0].data),u=0,f=[],h=g9(e[4][0].data),p=0,m=[],x=0;x<t.length;++x){if(null==t[x]){d.setUint16(2*x,65535,!0),h.setUint16(2*x,65535);continue}switch(d.setUint16(2*x,u,!0),h.setUint16(2*x,p,!0),typeof t[x]){case"string":o=bh({t:"s",v:t[x]},r),l=bp({t:"s",v:t[x]},r);break;case"number":o=bh({t:"n",v:t[x]},r),l=bp({t:"n",v:t[x]},r);break;case"boolean":o=bh({t:"b",v:t[x]},r),l=bp({t:"b",v:t[x]},r);break;default:throw Error("Unsupported value "+t[x])}f.push(o),u+=o.length,m.push(l),p+=l.length,++c}for(e[2][0].data=bn(c);x<e[7][0].data.length/2;++x)d.setUint16(2*x,65535,!0),h.setUint16(2*x,65535,!0);return e[6][0].data=bt(f),e[3][0].data=bt(m),c}(p,s[h],o),p[1][0].data=bn(h),c[5].push({data:bo(p),type:2})}c[1]=[{type:0,data:bn(n.e.c+1)}],c[2]=[{type:0,data:bn(n.e.r+1)}],c[3]=[{type:0,data:bn(f)}],c[4]=[{type:0,data:bn(n.e.r+1)}],e.messages[0].data=bo(c),t.content=bf(bd(r)),t.size=t.content.length}(),R.data=bo(I),k[3][0].data=bo(P),g[4][0].data=bo(k),r.messages[0].data=bo(g);var M=bf(bd(h));return f.content=M,f.size=f.content.length,d}(t,n):"xlsb"==n.bookType?function(e,t){xA=1024,e&&!e.SSF&&(e.SSF=uJ(ur)),e&&e.SSF&&(uO(),uC(e.SSF),t.revssf=uz(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gn?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r,a,n,i,s,o,l,c="xlsb"==t.bookType?"bin":"xml",d=xP.indexOf(t.bookType)>-1,u=po();by(t=t||{});var f=fr(),h="",p=0;if(t.cellXfs=[],gl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ft(f,h="docProps/core.xml",pM(e.Props,t)),u.coreprops.push(h),p_(t.rels,2,h,ph),h="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var m=[],x=0;x<e.SheetNames.length;++x)2!=(e.Workbook.Sheets[x]||{}).Hidden&&m.push(e.SheetNames[x]);e.Props.SheetNames=m}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,ft(f,h,pz(e.Props,t)),u.extprops.push(h),p_(t.rels,3,h,pp),e.Custprops!==e.Props&&uL(e.Custprops||{}).length>0&&(ft(f,h="docProps/custom.xml",pV(e.Custprops,t)),u.custprops.push(h),p_(t.rels,4,h,pm)),p=1;p<=e.SheetNames.length;++p){var g={"!id":{}},b=e.Sheets[e.SheetNames[p-1]];if((b||{})["!type"],ft(f,h="xl/worksheets/sheet"+p+"."+c,(v=p-1,y=h,w=t,(".bin"===y.slice(-4)?function(e,t,r,a){var n,i,s,o,l,c,d,u,f,h=hE(),p=r.SheetNames[e],m=r.Sheets[p]||{},x=p;try{r&&r.Workbook&&(x=r.Workbook.Sheets[e].CodeName||x)}catch(e){}var g=hF(m["!ref"]||"A1");if(g.e.c>16383||g.e.r>1048575){if(t.WTF)throw Error("Range "+(m["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575)}m["!links"]=[],m["!comments"]=[],hS(h,129),(r.vbaraw||m["!outline"])&&hS(h,147,function(e,t,r){null==r&&(r=hj(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return h5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hW(e,r),r.slice(0,r.l)}(x,m["!outline"])),hS(h,148,h2(g)),n=r.Workbook,hS(h,133),hS(h,137,(null==i&&(i=hj(30)),s=924,(((n||{}).Views||[])[0]||{}).RTL&&(s|=32),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i)),hS(h,138),hS(h,134),m&&m["!cols"]&&(hS(h,390),m["!cols"].forEach(function(e,t){var r,a,n;e&&hS(h,60,(null==r&&(r=hj(18)),a=gs(t,e),r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,256*(a.width||10)),r.write_shift(4,0),n=0,e.hidden&&(n|=1),"number"==typeof a.width&&(n|=2),e.level&&(n|=e.level<<8),r.write_shift(2,n),r))}),hS(h,391)),function(e,t,r,a){var n,i=hF(t["!ref"]||"A1"),s="",o=[];hS(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=c;++d){s=hO(d),function(e,t,r,a){var n=function(e,t,r){var a=hj(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=20*xs(n.hpx):n.hpt&&(i=20*n.hpt),a.write_shift(2,i),a.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),a.write_shift(1,s),a.write_shift(1,0);var o=0,l=a.l;a.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10)&&!(t.e.c<d<<10)){for(var u=-1,f=-1,h=d<<10;h<d+1<<10;++h)c.c=h,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[hD(c)])&&(u<0&&(u=h),f=h);u<0||(++o,a.write_shift(4,u),a.write_shift(4,f))}var p=a.l;return a.l=l,a.write_shift(4,o),a.l=p,a.length>a.l?a.slice(0,a.l):a}(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&hS(e,0,n)}(e,t,i,d);var u=!1;if(d<=i.e.r)for(var f=i.s.c;f<=i.e.c;++f){d===i.s.r&&(o[f]=hR(f)),n=o[f]+s;var h=l?(t[d]||[])[f]:t[n];if(!h){u=!1;continue}u=function(e,t,r,a,n,i,s){if(void 0===t.v)return!1;var o,l,c,d,u,f,h,p,m,x,g,b,v,y,w,j,N,E,S,k,T,A,_,C,O="";switch(t.t){case"b":O=t.v?"1":"0";break;case"d":(t=uJ(t)).z=t.z||ur[14],t.v=uV(uX(t.v)),t.t="n";break;case"n":case"e":O=""+t.v;break;default:O=t.v}var P={r:r,c:a};switch(P.s=gl(n.cellXfs,t,n),t.l&&i["!links"].push([hD(P),t.l]),t.c&&i["!comments"].push([hD(P),t.c]),t.t){case"s":case"str":return n.bookSST?(O=gi(n.Strings,t.v,n.revStrings),P.t="s",P.v=O,s)?hS(e,18,(null==o&&(o=hj(8)),hX(P,o),o.write_shift(4,P.v),o)):hS(e,7,(null==l&&(l=hj(12)),hK(P,l),l.write_shift(4,P.v),l)):(P.t="str",s)?hS(e,17,(c=t,null==d&&(d=hj(8+4*c.v.length)),hX(P,d),hW(c.v,d),d.length>d.l?d.slice(0,d.l):d)):hS(e,6,(u=t,null==f&&(f=hj(12+4*u.v.length)),hK(P,f),hW(u.v,f),f.length>f.l?f.slice(0,f.l):f)),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?hS(e,13,(h=t,null==p&&(p=hj(8)),hX(P,p),h0(h.v,p),p)):hS(e,2,(m=t,null==x&&(x=hj(12)),hK(P,x),h0(m.v,x),x)):s?hS(e,16,(g=t,null==b&&(b=hj(12)),hX(P,b),h3(g.v,b),b)):hS(e,5,(v=t,null==y&&(y=hj(16)),hK(P,y),h3(v.v,y),y)),!0;case"b":return(P.t="b",s)?hS(e,15,(w=t,null==j&&(j=hj(5)),hX(P,j),j.write_shift(1,+!!w.v),j)):hS(e,4,(N=t,null==E&&(E=hj(9)),hK(P,E),E.write_shift(1,+!!N.v),E)),!0;case"e":return(P.t="e",s)?hS(e,14,(S=t,null==k&&(k=hj(8)),hX(P,k),k.write_shift(1,S.v),k.write_shift(2,0),k.write_shift(1,0),k)):hS(e,3,(T=t,null==A&&(A=hj(9)),hK(P,A),A.write_shift(1,T.v),A)),!0}return s?hS(e,12,(null==_&&(_=hj(4)),hX(P,_))):hS(e,1,(null==C&&(C=hj(8)),hK(P,C))),!0}(e,h,d,f,a,t,u)}}hS(e,146)}(h,m,0,t,r);m["!protect"]&&hS(h,535,(o=m["!protect"],null==l&&(l=hj(66)),l.write_shift(2,o.password?m2(o.password):0),l.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?l.write_shift(4,+(null!=o[e[0]]&&!o[e[0]])):l.write_shift(4,null!=o[e[0]]&&o[e[0]]?0:1)}),l)),!function(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i="string"==typeof n.ref?n.ref:hL(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=hM(i);o.s.r==o.e.r&&(o.e.r=hM(t["!ref"]).e.r,i=hL(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),hS(e,161,h2(hF(i))),hS(e,162)}}(h,m,r,e);m&&m["!merges"]&&(hS(h,177,(c=m["!merges"].length,null==d&&(d=hj(4)),d.write_shift(4,c),d)),m["!merges"].forEach(function(e){hS(h,176,h2(e))}),hS(h,178)),m["!links"].forEach(function(e){if(e[1].Target){var t,r,n=p_(a,-1,e[1].Target.replace(/#.*$/,""),pd);hS(h,494,(t=hj(50+4*(e[1].Target.length+(e[1].Tooltip||"").length)),h2({s:hI(e[0]),e:hI(e[0])},t),hJ("rId"+n,t),hW((-1==(r=e[1].Target.indexOf("#"))?"":e[1].Target.slice(r+1))||"",t),hW(e[1].Tooltip||"",t),hW("",t),t.slice(0,t.l)))}}),delete m["!links"],m["!margins"]&&hS(h,476,(u=m["!margins"],null==f&&(f=hj(48)),go(u),gT.forEach(function(e){h3(u[e],f)}),f)),(!t||t.ignoreEC||void 0==t.ignoreEC)&&function(e,t){if(t&&t["!ref"]){var r,a;hS(e,648),hS(e,649,(r=hF(t["!ref"]),(a=hj(24)).write_shift(4,4),a.write_shift(4,1),h2(r,a),a)),hS(e,650)}}(h,m);if(m["!comments"].length>0){var b=p_(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",pu);hS(h,551,hJ("rId"+b)),m["!legacy"]=b}return hS(h,130),h.end()}:gS)(v,w,e,g))),u.sheets.push(h),p_(t.wbrels,-1,"worksheets/sheet"+p+"."+c,py[0]),b){var v,y,w,j,N,E=b["!comments"],S=!1,k="";E&&E.length>0&&(ft(f,k="xl/comments"+p+"."+c,(j=k,N=t,(".bin"===j.slice(-4)?function(e){var t=hE(),r=[];return hS(t,628),hS(t,630),e.forEach(function(e){e[1].forEach(function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),hS(t,632,hW(e.a.slice(0,54))))})}),hS(t,631),hS(t,633),e.forEach(function(e){e[1].forEach(function(a){var n,i,s,o,l,c;a.iauthor=r.indexOf(a.a),hS(t,635,(n=[{s:hI(e[0]),e:hI(e[0])},a],null==i&&(i=hj(36)),i.write_shift(4,n[1].iauthor),h2(n[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i)),a.t&&a.t.length>0&&hS(t,637,(o=!1,null==s&&(o=!0,s=hj(23+4*a.t.length)),s.write_shift(1,1),hW(a.t,s),s.write_shift(4,1),l={ich:0,ifnt:0},(c=s)||(c=hj(4)),c.write_shift(2,l.ich||0),c.write_shift(2,l.ifnt||0),o?s.slice(0,s.l):s)),hS(t,636),delete a.iauthor})}),hS(t,634),hS(t,629),t.end()}:xO)(E,N))),u.comments.push(k),p_(g,-1,"../comments"+p+"."+c,pf),S=!0),b["!legacy"]&&S&&ft(f,"xl/drawings/vmlDrawing"+p+".vml",x_(p,b["!comments"])),delete b["!comments"],delete b["!legacy"]}g["!id"].rId1&&ft(f,pk(h),pA(g))}return null!=t.Strings&&t.Strings.length>0&&(ft(f,h="xl/sharedStrings."+c,(r=t.Strings,a=h,n=t,(".bin"===a.slice(-4)?function(e){var t,r=hE();hS(r,159,(t||(t=hj(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t));for(var a=0;a<e.length;++a)hS(r,19,mZ(e[a]));return hS(r,160),r.end()}:mX)(r,n))),u.strs.push(h),p_(t.wbrels,-1,"sharedStrings."+c,px)),ft(f,h="xl/workbook."+c,(i=h,s=t,(".bin"===i.slice(-4)?function(e,t){var r=hE();hS(r,131),hS(r,128,function(e,t){t||(t=hj(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return hW("SheetJS",t),hW(dO.version,t),hW(dO.version,t),hW("7262",t),t.length>t.l?t.slice(0,t.l):t}()),hS(r,153,(n=e.Workbook&&e.Workbook.WBProps||null,i||(i=hj(72)),s=0,n&&n.filterPrivacy&&(s|=8),i.write_shift(4,s),i.write_shift(4,0),hW(n&&n.CodeName||"ThisWorkbook",i),i.slice(0,i.l))),function(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,a,n=t.Workbook.Sheets,i=0,s=-1,o=-1;i<n.length;++i)n[i]&&(n[i].Hidden||-1!=s)?1==n[i].Hidden&&-1==o&&(o=i):s=i;o>s||(hS(e,135),hS(e,158,(r=s,a||(a=hj(29)),a.write_shift(-4,0),a.write_shift(-4,460),a.write_shift(4,28800),a.write_shift(4,17600),a.write_shift(4,500),a.write_shift(4,r),a.write_shift(4,r),a.write_shift(1,120),a.length>a.l?a.slice(0,a.l):a)),hS(e,136))}}(r,e,t);hS(r,143);for(var a=0;a!=e.SheetNames.length;++a){var n,i,s,o={Hidden:e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[a]&&e.Workbook.Sheets[a].Hidden||0,iTabID:a+1,strRelID:"rId"+(a+1),name:e.SheetNames[a]},l=void 0;hS(r,156,(l||(l=hj(127)),l.write_shift(4,o.Hidden),l.write_shift(4,o.iTabID),hJ(o.strRelID,l),hW(o.name.slice(0,31),l),l.length>l.l?l.slice(0,l.l):l))}return hS(r,144),hS(r,132),r.end()}:gF)(e,s))),u.workbooks.push(h),p_(t.rels,1,h,pc),ft(f,h="xl/theme/theme1.xml",xk(e.Themes,t)),u.themes.push(h),p_(t.wbrels,-1,"theme/theme1.xml",pb),ft(f,h="xl/styles."+c,(o=h,l=t,(".bin"===o.slice(-4)?function(e,t){var r,a,n,i,s,o,l,c,d,u,f,h=hE();return hS(h,278),!function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var a=e[0];a<=e[1];++a)null!=t[a]&&++r}),0!=r&&(hS(e,615,h$(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&hS(e,44,function(e,t,r){r||(r=hj(6+4*t.length)),r.write_shift(2,e),hW(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),a}(a,t[a]))}),hS(e,616))}}(h,e.SSF),hS(h,611,h$(1)),hS(h,43,(r={sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"},a||(a=hj(153)),a.write_shift(2,20*r.sz),(n=a)||(n=hj(2)),i=2*!!r.italic|8*!!r.strike|16*!!r.outline|32*!!r.shadow|64*!!r.condense|128*!!r.extend,n.write_shift(1,i),n.write_shift(1,0),a.write_shift(2,r.bold?700:400),s=0,"superscript"==r.vertAlign?s=1:"subscript"==r.vertAlign&&(s=2),a.write_shift(2,s),a.write_shift(1,r.underline||0),a.write_shift(1,r.family||0),a.write_shift(1,r.charset||0),a.write_shift(1,0),h5(r.color,a),o=0,"major"==r.scheme&&(o=1),"minor"==r.scheme&&(o=2),a.write_shift(1,o),hW(r.name,a),a.length>a.l?a.slice(0,a.l):a)),hS(h,612),hS(h,603,h$(2)),hS(h,45,xp({patternType:"none"})),hS(h,45,xp({patternType:"gray125"})),hS(h,604),hS(h,613,h$(1)),hS(h,46,(l||(l=hj(51)),l.write_shift(1,0),xx(null,l),xx(null,l),xx(null,l),xx(null,l),xx(null,l),l.length>l.l?l.slice(0,l.l):l)),hS(h,614),hS(h,626,h$(1)),hS(h,47,xm({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),hS(h,627),hS(h,617,h$((c=t.cellXfs).length)),c.forEach(function(e){hS(h,47,xm(e,0))}),hS(h,618),hS(h,619,h$(1)),hS(h,48,(d={xfId:0,builtinId:0,name:"Normal"},u||(u=hj(52)),u.write_shift(4,d.xfId),u.write_shift(2,1),u.write_shift(1,+d.builtinId),u.write_shift(1,0),hJ(d.name||"",u),u.length>u.l?u.slice(0,u.l):u)),hS(h,620),hS(h,505,h$(0)),hS(h,506),hS(h,508,((f=hj(2052)).write_shift(4,0),hJ("TableStyleMedium9",f),hJ("PivotStyleMedium4",f),f.length>f.l?f.slice(0,f.l):f)),hS(h,509),hS(h,279),h.end()}:xf)(e,l))),u.styles.push(h),p_(t.wbrels,-1,"styles."+c,pg),e.vbaraw&&d&&(ft(f,h="xl/vbaProject.bin",e.vbaraw),u.vba.push(h),p_(t.wbrels,-1,"vbaProject.bin",pS)),ft(f,h="xl/metadata."+c,(".bin"===h.slice(-4)?function(){var e,t,r,a,n=hE();return hS(n,332),hS(n,334,h$(1)),hS(n,335,((t=hj(12+2*(e={name:"XLDAPR",version:12e4,flags:0xd06ac0b0}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),hW(e.name,t),t.slice(0,t.l))),hS(n,336),hS(n,339,((r=hj(20)).write_shift(4,1),hW("XLDAPR",r),r.slice(0,r.l))),hS(n,52),hS(n,35,h$(514)),hS(n,4096,h$(0)),hS(n,4097,p7(1)),hS(n,36),hS(n,53),hS(n,340),hS(n,337,((a=hj(8)).write_shift(4,1),a.write_shift(4,1),a)),hS(n,51,function(e){var t=hj(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),hS(n,338),hS(n,333),n.end()}:xT)()),u.metadata.push(h),p_(t.wbrels,-1,"metadata."+c,pN),ft(f,"[Content_Types].xml",pl(u,t)),ft(f,"_rels/.rels",pA(t.rels)),ft(f,"xl/_rels/workbook."+c+".rels",pA(t.wbrels)),delete t.revssf,delete t.ssf,f}(t,n):function(e,t){xA=1024,e&&!e.SSF&&(e.SSF=uJ(ur)),e&&e.SSF&&(uO(),uC(e.SSF),t.revssf=uz(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gn?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r,a=xP.indexOf(t.bookType)>-1,n=po();by(t=t||{});var i=fr(),s="",o=0;if(t.cellXfs=[],gl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ft(i,s="docProps/core.xml",pM(e.Props,t)),n.coreprops.push(s),p_(t.rels,2,s,ph),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ft(i,s,pz(e.Props,t)),n.extprops.push(s),p_(t.rels,3,s,pp),e.Custprops!==e.Props&&uL(e.Custprops||{}).length>0&&(ft(i,s="docProps/custom.xml",pV(e.Custprops,t)),n.custprops.push(s),p_(t.rels,4,s,pm));var d=["SheetJ5"];for(o=1,t.tcid=0;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]];if((f||{})["!type"],ft(i,s="xl/worksheets/sheet"+o+".xml",gS(o-1,t,e,u)),n.sheets.push(s),p_(t.wbrels,-1,"worksheets/sheet"+o+".xml",py[0]),f){var h=f["!comments"],p=!1,m="";if(h&&h.length>0){var x=!1;h.forEach(function(e){e[1].forEach(function(e){!0==e.T&&(x=!0)})}),x&&(ft(i,m="xl/threadedComments/threadedComment"+o+".xml",function(e,t,r){var a=[fi,fU("ThreadedComments",null,{xmlns:fH}).replace(/[\/]>/,">")];return e.forEach(function(e){var n="";(e[1]||[]).forEach(function(i,s){if(!i.T)return void delete i.ID;i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==s?n=o.id:o.parentId=n,i.ID=o.id,i.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),a.push(fU("threadedComment",fL("text",i.t||""),o))})}),a.push("</ThreadedComments>"),a.join("")}(h,d,t)),n.threadedcomments.push(m),p_(u,-1,"../threadedComments/threadedComment"+o+".xml",pE)),ft(i,m="xl/comments"+o+".xml",xO(h,t)),n.comments.push(m),p_(u,-1,"../comments"+o+".xml",pf),p=!0}f["!legacy"]&&p&&ft(i,"xl/drawings/vmlDrawing"+o+".vml",x_(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&ft(i,pk(s),pA(u))}return null!=t.Strings&&t.Strings.length>0&&(ft(i,s="xl/sharedStrings.xml",mX(t.Strings,t)),n.strs.push(s),p_(t.wbrels,-1,"sharedStrings.xml",px)),ft(i,s="xl/workbook.xml",gF(e,t)),n.workbooks.push(s),p_(t.rels,1,s,pc),ft(i,s="xl/theme/theme1.xml",xk(e.Themes,t)),n.themes.push(s),p_(t.wbrels,-1,"theme/theme1.xml",pb),ft(i,s="xl/styles.xml",xf(e,t)),n.styles.push(s),p_(t.wbrels,-1,"styles.xml",pg),e.vbaraw&&a&&(ft(i,s="xl/vbaProject.bin",e.vbaraw),n.vba.push(s),p_(t.wbrels,-1,"vbaProject.bin",pS)),ft(i,s="xl/metadata.xml",xT()),n.metadata.push(s),p_(t.wbrels,-1,"metadata.xml",pN),d.length>1&&(ft(i,s="xl/persons/person.xml",(r=[fi,fU("personList",null,{xmlns:fH,"xmlns:x":fK[0]}).replace(/[\/]>/,">")],d.forEach(function(e,t){r.push(fU("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+t).slice(-12)+"}",userId:e,providerId:"None"}))}),r.push("</personList>"),r.join(""))),n.people.push(s),p_(t.wbrels,-1,"persons/person.xml","http://schemas.microsoft.com/office/2017/10/relationships/person")),ft(i,"[Content_Types].xml",pl(n,t)),ft(i,"_rels/.rels",pA(t.rels)),ft(i,"xl/_rels/workbook.xml.rels",pA(t.wbrels)),delete t.revssf,delete t.ssf,i}(t,n),n);default:throw Error("Unrecognized bookType |"+i.bookType+"|")}}(e,a)}(t,"Formato_Vallenar.xlsx")},className:"px-6 py-3 bg-white border-2 border-green-500 text-green-600 font-bold rounded-xl hover:bg-green-50 transition-colors flex items-center gap-2 mx-auto",children:[(0,eb.jsx)(co.Download,{size:20}),"Descargar Plantilla Excel (.xlsx)"]})]}),(0,eb.jsx)("div",{className:"w-full max-w-2xl",children:(0,eb.jsxs)("div",{...d(),className:`border-3 border-dashed rounded-2xl p-12 text-center cursor-pointer transition-all ${f?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-400 hover:bg-gray-50"}`,children:[(0,eb.jsx)("input",{...u()}),l?(0,eb.jsxs)("div",{className:"flex flex-col items-center gap-3 text-gray-500",children:[(0,eb.jsx)(cz.Loader2,{className:"animate-spin",size:32}),(0,eb.jsx)("p",{children:"Procesando archivo..."})]}):(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsx)("p",{className:"font-bold text-gray-700 text-lg mb-2",children:"Arrastra y suelta tu archivo aqu"}),(0,eb.jsx)("p",{className:"text-gray-400 text-sm",children:"o haz clic para seleccionar"})]})]})})]}):(0,eb.jsxs)("div",{className:"h-full flex flex-col",children:[(0,eb.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,eb.jsxs)("div",{className:"flex-1 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,eb.jsx)(lo.CheckCircle,{className:"text-green-600",size:24}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm text-green-800 font-bold",children:"Registros Vlidos"}),(0,eb.jsx)("p",{className:"text-2xl font-bold text-green-700",children:p})]})]}),(0,eb.jsxs)("div",{className:"flex-1 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[(0,eb.jsx)(li.AlertTriangle,{className:"text-red-600",size:24}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm text-red-800 font-bold",children:"Errores Encontrados"}),(0,eb.jsx)("p",{className:"text-2xl font-bold text-red-700",children:m})]})]})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-xl",children:[(0,eb.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,eb.jsx)("thead",{className:"bg-gray-50 text-gray-700 font-bold sticky top-0",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-3",children:"Estado"}),(0,eb.jsx)("th",{className:"p-3",children:"SKU"}),(0,eb.jsx)("th",{className:"p-3",children:"Nombre"}),(0,eb.jsx)("th",{className:"p-3",children:"Precio"}),(0,eb.jsx)("th",{className:"p-3",children:"Stock"}),(0,eb.jsx)("th",{className:"p-3",children:"Lote"}),(0,eb.jsx)("th",{className:"p-3",children:"Vencimiento"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-gray-100",children:s.slice(0,100).map((e,t)=>(0,eb.jsxs)("tr",{className:e.isValid?"hover:bg-gray-50":"bg-red-50 hover:bg-red-100",children:[(0,eb.jsx)("td",{className:"p-3",children:e.isValid?(0,eb.jsx)(lo.CheckCircle,{size:16,className:"text-green-500"}):(0,eb.jsxs)("div",{className:"group relative",children:[(0,eb.jsx)(li.AlertTriangle,{size:16,className:"text-red-500 cursor-help"}),(0,eb.jsx)("div",{className:"absolute left-6 top-0 bg-red-800 text-white text-xs p-2 rounded shadow-lg w-48 hidden group-hover:block z-10",children:e.errors.join(", ")})]})}),(0,eb.jsx)("td",{className:"p-3 font-mono",children:e.sku}),(0,eb.jsx)("td",{className:"p-3 font-bold text-gray-800",children:e.name}),(0,eb.jsxs)("td",{className:"p-3",children:["$",e.price_sell.toLocaleString()]}),(0,eb.jsx)("td",{className:"p-3",children:e.stock}),(0,eb.jsx)("td",{className:"p-3",children:e.lot_number}),(0,eb.jsx)("td",{className:"p-3",children:e.expiry_date})]},t))})]}),s.length>100&&(0,eb.jsxs)("div",{className:"p-4 text-center text-gray-500 text-sm bg-gray-50 border-t border-gray-200",children:["Mostrando primeros 100 de ",s.length," registros"]})]})]})}),(0,eb.jsx)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl flex justify-between items-center",children:"PREVIEW"===a?(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsx)("button",{onClick:()=>{i("UPLOAD"),o([])},className:"px-6 py-3 text-gray-600 font-bold hover:bg-gray-200 rounded-xl transition-colors",children:"Cancelar"}),(0,eb.jsxs)("button",{onClick:h,disabled:0===p||l,className:"px-8 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l?(0,eb.jsx)(cz.Loader2,{className:"animate-spin"}):(0,eb.jsx)(cU.Upload,{size:20}),"Importar ",p," Productos"]})]}):(0,eb.jsx)("div",{})})]})})},bF=()=>{var e;let{inventory:t,user:r}=o4(),[a,n]=(0,ev.useState)(""),[i,s]=(0,ev.useState)("MEDS"),[o,l]=(0,ev.useState)(!1),[c,d]=(0,ev.useState)(!1),[u,f]=(0,ev.useState)(!1),[h,p]=(0,ev.useState)(!1),[m,x]=(0,ev.useState)(null),g=(e="MANAGE_INVENTORY",!!r&&!!((cs[r.role]||[]).includes(e)||r.allowed_modules?.includes(e))),b=r?.role==="MANAGER"||r?.role==="ADMIN",[v,y]=(0,ev.useState)({coldChain:!1,expiring:!1,critical:!1}),w=(0,ev.useMemo)(()=>t.filter(e=>!(!(e.name.toLowerCase().includes(a.toLowerCase())||e.sku.includes(a)||e.dci.toLowerCase().includes(a.toLowerCase()))||"MEDS"===i&&"MEDICAMENTO"!==e.category||"RETAIL"===i&&"MEDICAMENTO"===e.category||"CONTROLLED"===i&&!["R","RR","RCH"].includes(e.condition)||v.expiring&&(e.expiry_date-Date.now())/2592e6>6)&&(!v.critical||!(e.stock_actual>e.stock_min))),[t,a,i,v]);return(0,eb.jsxs)("div",{className:"p-6 bg-slate-50 min-h-screen",children:[(0,eb.jsxs)("header",{className:"mb-8 flex justify-between items-end",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h1",{className:"text-3xl font-extrabold text-slate-900 flex items-center gap-3",children:[(0,eb.jsx)(oB,{className:"text-cyan-600"})," Maestro de Inventario"]}),(0,eb.jsx)("p",{className:"text-slate-500 mt-1",children:"WMS & Control de Stock"})]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsxs)("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-white text-slate-700 font-bold rounded-xl border border-slate-200 hover:bg-slate-50 transition flex items-center gap-2",children:[(0,eb.jsx)(cP,{size:18})," Transferir"]}),g&&(0,eb.jsxs)(eb.Fragment,{children:[(0,eb.jsxs)("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-white text-green-700 font-bold rounded-xl border border-green-200 hover:bg-green-50 transition flex items-center gap-2",children:[(0,eb.jsx)(cR,{size:18})," Importar Excel"]}),(0,eb.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center gap-2",children:[(0,eb.jsx)(lg.Plus,{size:18})," Nuevo Producto / Ingreso"]})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden mb-6",children:[(0,eb.jsxs)("div",{className:"border-b border-slate-100 flex",children:[(0,eb.jsx)("button",{onClick:()=>s("MEDS"),className:`flex-1 py-4 text-sm font-bold border-b-2 transition-colors ${"MEDS"===i?"border-cyan-500 text-cyan-700 bg-cyan-50":"border-transparent text-slate-500 hover:text-slate-700"}`,children:" MEDICAMENTOS"}),(0,eb.jsx)("button",{onClick:()=>s("RETAIL"),className:`flex-1 py-4 text-sm font-bold border-b-2 transition-colors ${"RETAIL"===i?"border-pink-500 text-pink-700 bg-pink-50":"border-transparent text-slate-500 hover:text-slate-700"}`,children:" RETAIL"}),(0,eb.jsx)("button",{onClick:()=>s("CONTROLLED"),className:`flex-1 py-4 text-sm font-bold border-b-2 transition-colors ${"CONTROLLED"===i?"border-purple-500 text-purple-700 bg-purple-50":"border-transparent text-slate-500 hover:text-slate-700"}`,children:" CONTROLADOS"})]}),(0,eb.jsxs)("div",{className:"p-4 flex gap-4 items-center bg-slate-50/50",children:[(0,eb.jsxs)("div",{className:"relative flex-1",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar por SKU, Nombre, DCI...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none",value:a,onChange:e=>n(e.target.value)})]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsxs)("button",{onClick:()=>y(e=>({...e,expiring:!e.expiring})),className:`px-3 py-2 rounded-lg text-xs font-bold border flex items-center gap-2 transition ${v.expiring?"bg-amber-100 text-amber-700 border-amber-200":"bg-white text-slate-500 border-slate-200"}`,children:[(0,eb.jsx)(li.AlertTriangle,{size:14})," Por Vencer"]}),(0,eb.jsxs)("button",{onClick:()=>y(e=>({...e,critical:!e.critical})),className:`px-3 py-2 rounded-lg text-xs font-bold border flex items-center gap-2 transition ${v.critical?"bg-red-100 text-red-700 border-red-200":"bg-white text-slate-500 border-slate-200"}`,children:[(0,eb.jsx)(cO.Filter,{size:14})," Stock Crtico"]})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,eb.jsxs)("table",{className:"w-full text-left",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold text-xs uppercase tracking-wider",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"p-4",children:"Producto"}),(0,eb.jsx)("th",{className:"p-4",children:"Detalle"}),(0,eb.jsx)("th",{className:"p-4",children:"Atributos"}),(0,eb.jsx)("th",{className:"p-4",children:"Stock"}),(0,eb.jsx)("th",{className:"p-4 text-right",children:"Precio"}),(0,eb.jsx)("th",{className:"p-4 text-center",children:"Acciones"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-100 text-sm",children:w.map(e=>(0,eb.jsxs)("tr",{className:"hover:bg-slate-50 transition group",children:[(0,eb.jsxs)("td",{className:"p-4",children:[(0,eb.jsx)("div",{className:"font-bold text-slate-800 text-lg",children:e.name}),(0,eb.jsx)("div",{className:"text-sm text-slate-500 font-bold",children:e.dci}),(0,eb.jsx)("div",{className:"text-xs text-slate-400 font-mono mt-1",children:e.sku})]}),(0,eb.jsxs)("td",{className:"p-4",children:[(0,eb.jsx)("div",{className:"text-sm font-bold text-slate-700",children:e.laboratory}),(0,eb.jsx)("div",{className:"text-xs text-slate-500 font-mono",children:e.isp_register||"SIN REGISTRO"}),(0,eb.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:[e.format," x",e.unit_count]})]}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[e.bioequivalent&&(0,eb.jsx)("span",{title:"Bioequivalente",className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-bold border border-emerald-200",children:"BIO"}),"REFRIGERADO"===e.storage_condition&&(0,eb.jsx)("span",{title:"Cadena de Fro",className:"px-2 py-1 bg-cyan-100 text-cyan-700 rounded-lg text-xs font-bold border border-cyan-200",children:"FRIO"}),["R","RR","RCH"].includes(e.condition)&&(0,eb.jsx)("span",{title:"Receta Retenida",className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-lg text-xs font-bold border border-purple-200",children:"RET"}),e.is_generic&&(0,eb.jsx)("span",{title:"Genrico",className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold border border-slate-200",children:"GEN"})]})}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"flex flex-col items-start",children:[(0,eb.jsxs)("span",{className:`text-lg font-bold ${e.stock_actual<=e.stock_min?"text-red-600":"text-slate-800"}`,children:[e.stock_actual," un."]}),(0,eb.jsxs)("span",{className:`text-xs font-bold ${e.stock_actual<=e.stock_min?"text-red-500":"text-slate-400"}`,children:["Min: ",e.stock_min]}),(0,eb.jsxs)("span",{className:`text-xs mt-1 px-1.5 py-0.5 rounded ${new Date(e.expiry_date).getTime()-Date.now()<7776e6?"bg-red-100 text-red-700":"bg-slate-100 text-slate-500"}`,children:["Vence: ",new Date(e.expiry_date).toLocaleDateString()]})]})}),(0,eb.jsx)("td",{className:"p-4 text-right",children:(0,eb.jsxs)("div",{className:"flex flex-col items-end",children:[(0,eb.jsxs)("span",{className:"font-bold text-slate-800 text-lg",children:["$",(e.price_sell_box||e.price).toLocaleString()]}),(0,eb.jsxs)("span",{className:"text-xs font-bold text-slate-400",children:["($",e.price_sell_unit?e.price_sell_unit.toLocaleString():Math.round((e.price_sell_box||e.price)/(e.units_per_box||e.unit_count||1)).toLocaleString()," / un)"]}),(r?.role==="MANAGER"||r?.role==="ADMIN")&&(0,eb.jsxs)("span",{className:"text-[10px] font-mono text-slate-300 mt-1",children:["Costo: $",(e.cost_net||e.cost_price).toLocaleString()]})]})}),(0,eb.jsx)("td",{className:"p-4",children:(0,eb.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[g&&(0,eb.jsx)("button",{onClick:()=>{x(e),f(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,eb.jsx)(ca.Edit,{size:16})}),b&&(0,eb.jsx)("button",{className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,eb.jsx)(ln.Trash2,{size:16})})]})})]},e.id))})]}),0===w.length&&(0,eb.jsxs)("div",{className:"p-12 text-center text-slate-400",children:[(0,eb.jsx)(oB,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,eb.jsx)("p",{children:"No se encontraron productos con los filtros actuales."})]})]}),(0,eb.jsx)(cI,{isOpen:o,onClose:()=>l(!1)}),(0,eb.jsx)(cM,{isOpen:c,onClose:()=>d(!1)}),(0,eb.jsx)(cF,{isOpen:u,onClose:()=>{f(!1),x(null)},product:m}),(0,eb.jsx)(bL,{isOpen:h,onClose:()=>p(!1)})]})},bU=({onFilterChange:e,initialRange:t})=>{let[r,a]=(0,ev.useState)(t?.from.toISOString().split("T")[0]||new Date(Date.now()-6048e5).toISOString().split("T")[0]),[n,i]=(0,ev.useState)(t?.to.toISOString().split("T")[0]||new Date().toISOString().split("T")[0]),[s,o]=(0,ev.useState)(!1);return(0,eb.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,eb.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,eb.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Desde"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,eb.jsx)("input",{type:"date",value:r,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,eb.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Hasta"}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)(lZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,eb.jsx)("input",{type:"date",value:n,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsxs)("button",{onClick:()=>o(!s),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2 font-medium text-sm border border-gray-300",children:["Presets",(0,eb.jsx)(o9,{className:"w-4 h-4"})]}),s&&(0,eb.jsx)("div",{className:"absolute top-full mt-2 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[180px]",children:[{label:"ltimos 7 das",days:7},{label:"ltimos 30 das",days:30},{label:"Este mes",days:"current_month"},{label:"Mes anterior",days:"last_month"},{label:"Este trimestre",days:"current_quarter"},{label:"Este ao",days:"current_year"}].map((e,t)=>(0,eb.jsx)("button",{onClick:()=>(e=>{let t,r=new Date,n=r;if("number"==typeof e.days)t=new Date(r.getTime()-24*e.days*36e5);else switch(e.days){case"current_month":t=new Date(r.getFullYear(),r.getMonth(),1);break;case"last_month":t=new Date(r.getFullYear(),r.getMonth()-1,1),n=new Date(r.getFullYear(),r.getMonth(),0);break;case"current_quarter":let s=Math.floor(r.getMonth()/3);t=new Date(r.getFullYear(),3*s,1);break;case"current_year":t=new Date(r.getFullYear(),0,1);break;default:t=new Date(r.getTime()-6048e5)}a(t.toISOString().split("T")[0]),i(n.toISOString().split("T")[0]),o(!1)})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm text-gray-700 first:rounded-t-lg last:rounded-b-lg",children:e.label},t))})]}),(0,eb.jsx)("button",{onClick:()=>{e({from:new Date(r),to:new Date(n+"T23:59:59")})},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold text-sm shadow-lg shadow-blue-200",children:"Aplicar Filtros"})]})})};class bz{static filterByDateRange(e,t,r){let a=t.getTime(),n=r.getTime();return e.filter(e=>{let t=e.date||e.timestamp||0;return t>=a&&t<=n})}static getSalesSummary(e){let t=0,r=0,a={CASH:0,DEBIT:0,CREDIT:0,TRANSFER:0};return e.forEach(e=>{t+=e.total,a[e.payment_method]=(a[e.payment_method]||0)+e.total}),r=Math.round(t/1.19),{grossSales:t,netSales:r,paymentMethods:a}}static getExpensesSummary(e){let t=0,r=0,a=0,n={};return e.forEach(e=>{t+=e.amount,e.is_deductible?r+=e.amount:a+=e.amount,n[e.category]=(n[e.category]||0)+e.amount}),{totalExpenses:t,deductibleExpenses:r,nonDeductibleExpenses:a,byCategory:n}}static calculateEBITDA(e,t){return e-t}static getTaxCompliance(e,t,r=.015){let a=this.getSalesSummary(e),n=this.getExpensesSummary(t),i=a.grossSales-a.netSales,s=Math.round(.19*t.filter(e=>"FACTURA"===e.document_type).reduce((e,t)=>e+t.amount,0)/1.19),o=Math.max(0,i-s);return{debitFiscal:i,creditFiscal:s,ivaToPay:o,ppm:Math.round(a.netSales*r),nonDeductibleWarning:n.nonDeductibleExpenses}}static getLaborCosts(e){let t=0,r=0,a=0;return e.forEach(e=>{if("ACTIVE"===e.status){let n=e.base_salary||0;t+=n;let i=Math.round(.22*n);r+=i,a+=n+i}}),{totalSalaries:t,totalSocialLaws:r,totalCost:a}}static calculateMetrics(e,t,r){let a=this.filterByDateRange(e,r.from,r.to),n=this.filterByDateRange(t,r.from,r.to),i=a.reduce((e,t)=>e+t.total,0),s=a.reduce((e,t)=>e+t.items.reduce((e,t)=>e+(t.cost_price||0)*t.quantity,0),0),o=n.reduce((e,t)=>e+t.amount,0),l=i-s;return{totalSales:i,totalExpenses:o,netProfit:l-o,grossMargin:i>0?l/i*100:0,transactionCount:a.length,averageTicket:a.length>0?i/a.length:0}}static getTopProducts(e,t,r=10){let a=this.filterByDateRange(e,t.from,t.to),n=new Map;return a.forEach(e=>{e.items.forEach(e=>{let t=n.get(e.sku);t?(t.quantity+=e.quantity,t.revenue+=e.price*e.quantity):n.set(e.sku,{sku:e.sku,name:e.name,quantity:e.quantity,revenue:e.price*e.quantity})})}),Array.from(n.values()).sort((e,t)=>t.revenue-e.revenue).slice(0,r)}static getDailySales(e,t){let r=this.filterByDateRange(e,t.from,t.to),a=new Map;return r.forEach(e=>{let t=new Date(e.timestamp).toISOString().split("T")[0],r=a.get(t);r?(r.sales+=e.total,r.transactions+=1):a.set(t,{sales:e.total,transactions:1})}),Array.from(a.entries()).map(([e,t])=>({date:e,...t})).sort((e,t)=>e.date.localeCompare(t.date))}static calculateInventoryValue(e){return e.reduce((e,t)=>e+t.cost_price*t.stock_actual,0)}static getLowStockItems(e){return e.filter(e=>e.stock_actual<=e.stock_min&&e.stock_actual>0).sort((e,t)=>e.stock_actual/e.stock_min-t.stock_actual/t.stock_min)}static getExpiringItems(e,t=30){let r=Date.now(),a=r+24*t*36e5;return e.filter(e=>e.expiry_date&&e.expiry_date<=a&&e.expiry_date>=r).sort((e,t)=>(e.expiry_date||0)-(t.expiry_date||0))}}var bB=Symbol.for("immer-nothing"),bV=Symbol.for("immer-draftable"),b$=Symbol.for("immer-state");function bH(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bW=Object,bG=bW.getPrototypeOf,bq="constructor",bK="prototype",bY="configurable",bX="enumerable",bZ="writable",bJ="value",bQ=e=>!!e&&!!e[b$];function b0(e){return!!e&&(b4(e)||b9(e)||!!e[bV]||!!e[bq]?.[bV]||ve(e)||vt(e))}var b1=bW[bK][bq].toString(),b2=new WeakMap;function b4(e){if(!e||!vr(e))return!1;let t=bG(e);if(null===t||t===bW[bK])return!0;let r=bW.hasOwnProperty.call(t,bq)&&t[bq];if(r===Object)return!0;if(!va(r))return!1;let a=b2.get(r);return void 0===a&&(a=Function.toString.call(r),b2.set(r,a)),a===b1}function b3(e,t,r=!0){0===b5(e)?(r?Reflect.ownKeys(e):bW.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function b5(e){let t=e[b$];return t?t.type_:b9(e)?1:ve(e)?2:3*!!vt(e)}var b6=(e,t,r=b5(e))=>2===r?e.has(t):bW[bK].hasOwnProperty.call(e,t),b8=(e,t,r=b5(e))=>2===r?e.get(t):e[t],b7=(e,t,r,a=b5(e))=>{2===a?e.set(t,r):3===a?e.add(r):e[t]=r},b9=Array.isArray,ve=e=>e instanceof Map,vt=e=>e instanceof Set,vr=e=>"object"==typeof e,va=e=>"function"==typeof e,vn=e=>e.modified_?e.copy_:e.base_;function vi(e,t){if(ve(e))return new Map(e);if(vt(e))return new Set(e);if(b9(e))return Array[bK].slice.call(e);let r=b4(e);if(!0!==t&&("class_only"!==t||r)){let t=bG(e);if(null!==t&&r)return{...e};let a=bW.create(t);return bW.assign(a,e)}{let t=bW.getOwnPropertyDescriptors(e);delete t[b$];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){let n=r[a],i=t[n];!1===i[bZ]&&(i[bZ]=!0,i[bY]=!0),(i.get||i.set)&&(t[n]={[bY]:!0,[bZ]:!0,[bX]:i[bX],[bJ]:e[n]})}return bW.create(bG(e),t)}}function vs(e,t=!1){return vl(e)||bQ(e)||(b5(e)>1&&bW.defineProperties(e,{set:vo,add:vo,clear:vo,delete:vo}),bW.freeze(e),t&&b3(e,(e,t)=>{vs(t,!0)},!1)),e}var vo={[bJ]:function(){bH(2)}};function vl(e){return!(null!==e&&vr(e))||bW.isFrozen(e)}var vc="MapSet",vd="Patches",vu={};function vf(e){let t=vu[e];return t||bH(0,e),t}function vh(e,t){t&&(e.patchPlugin_=vf(vd),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vp(e){vm(e),e.drafts_.forEach(vg),e.drafts_=null}function vm(e){e===el&&(el=e.parent_)}var vx=e=>{let t;return t=el,el={drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vu[vc]?vf(vc):void 0}};function vg(e){let t=e[b$];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vb(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];if(void 0!==e&&e!==r){r[b$].modified_&&(vp(t),bH(4)),b0(e)&&(e=vv(t,e));let{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[b$].base_,e,t)}else e=vv(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vs(t,r)}(t,e,!0),vp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bB?e:void 0}function vv(e,t){if(vl(t))return t;let r=t[b$];if(!r)return vS(t,e.handledSet_,e);if(!vw(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){let{callbacks_:t}=r;if(t)for(;t.length>0;)t.pop()(e);vE(r,e)}return r.copy_}function vy(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var vw=(e,t)=>e.scope_===t,vj=[];function vN(e,t,r,a){let n=e.copy_||e.base_,i=e.type_;if(void 0!==a&&b8(n,a,i)===t)return void b7(n,a,r,i);if(!e.draftLocations_){let t=e.draftLocations_=new Map;b3(n,(e,r)=>{if(bQ(r)){let a=t.get(r)||[];a.push(e),t.set(r,a)}})}for(let a of e.draftLocations_.get(t)??vj)b7(n,a,r,i)}function vE(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||(e.assigned_?.size??0)>0)){let{patchPlugin_:r}=t;if(r){let a=r.getPath(e);a&&r.generatePatches_(e,a,t)}vy(e)}}function vS(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||bQ(e)||t.has(e)||!b0(e)||vl(e)||(t.add(e),b3(e,(a,n)=>{if(bQ(n)){let t=n[b$];vw(t,r)&&(b7(e,a,vn(t),e.type_),vy(t))}else b0(n)&&vS(n,t,r)})),e}var vk={get(e,t){if(t===b$)return e;let r=e.copy_||e.base_;if(!b6(r,t,e.type_)){var a;let n;return a=e,(n=v_(r,t))?bJ in n?n[bJ]:n.get?.call(a.draft_):void 0}let n=r[t];if(e.finalized_||!b0(n))return n;if(n===vA(e.base_,t)){vO(e);let r=1===e.type_?+t:t,a=vP(e.scope_,n,e,r);return e.copy_[r]=a}return n},has:(e,t)=>t in(e.copy_||e.base_),ownKeys:e=>Reflect.ownKeys(e.copy_||e.base_),set(e,t,r){let a=v_(e.copy_||e.base_,t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){let a=vA(e.copy_||e.base_,t),n=a?.[b$];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if((r===a?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==r||b6(e.base_,t,e.type_)))return!0;vO(e),vC(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_.set(t,!0),!function(e,t,r){let{scope_:a}=e;if(bQ(r)){let n=r[b$];vw(n,a)&&n.callbacks_.push(function(){vO(e),vN(e,r,vn(n),t)})}else b0(r)&&e.callbacks_.push(function(){b8(e.copy_||e.base_,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&vS(b8(e.copy_,t,e.type_),a.handledSet_,a)})}(e,t,r),!0)},deleteProperty:(e,t)=>(vO(e),void 0!==vA(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),vC(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=e.copy_||e.base_,a=Reflect.getOwnPropertyDescriptor(r,t);return a?{[bZ]:!0,[bY]:1!==e.type_||"length"!==t,[bX]:a[bX],[bJ]:r[t]}:a},defineProperty(){bH(11)},getPrototypeOf:e=>bG(e.base_),setPrototypeOf(){bH(12)}},vT={};function vA(e,t){let r=e[b$];return(r?r.copy_||r.base_:e)[t]}function v_(e,t){if(!(t in e))return;let r=bG(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=bG(r)}}function vC(e){!e.modified_&&(e.modified_=!0,e.parent_&&vC(e.parent_))}function vO(e){e.copy_||(e.assigned_=new Map,e.copy_=vi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function vP(e,t,r,a){let[n,i]=ve(t)?vf(vc).proxyMap_(t,r):vt(t)?vf(vc).proxySet_(t,r):function(e,t){let r=b9(e),a={type_:+!!r,scope_:t?t.scope_:el,modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},n=a,i=vk;r&&(n=[a],i=vT);let{revoke:s,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=s,[o,a]}(t,r);if((r?.scope_??el).drafts_.push(n),i.callbacks_=r?.callbacks_??[],i.key_=a,r&&void 0!==a)r.callbacks_.push(function(e){if(!i||!vw(i,e))return;e.mapSetPlugin_?.fixSetContents(i);let t=vn(i);vN(r,i.draft_??i,t,a),vE(i,e)});else i.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(i);let{patchPlugin_:t}=e;i.modified_&&t&&t.generatePatches_(i,[],e)});return n}function vR(e){return bQ(e)||bH(10,e),function e(t){let r;if(!b0(t)||vl(t))return t;let a=t[b$],n=!0;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,r=vi(t,a.scope_.immer_.useStrictShallowCopy_),n=a.scope_.immer_.shouldUseStrictIteration()}else r=vi(t,!0);return b3(r,(t,a)=>{b7(r,t,e(a))},n),a&&(a.finalized_=!1),r}(e)}b3(vk,(e,t)=>{vT[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),vT.deleteProperty=function(e,t){return vT.set.call(this,e,t,void 0)},vT.set=function(e,t,r){return vk.set.call(this,e[0],t,r,e[0])};var vI=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{let a;if(va(e)&&!va(t)){let r=t;t=e;let a=this;return function(e=r,...n){return a.produce(e,e=>t.call(this,e,...n))}}if(va(t)||bH(6),void 0===r||va(r)||bH(7),b0(e)){let n=vx(this),i=vP(n,e,void 0),s=!0;try{a=t(i),s=!1}finally{s?vp(n):vm(n)}return vh(n,r),vb(a,n)}if(e&&vr(e))bH(1,e);else{if(void 0===(a=t(e))&&(a=e),a===bB&&(a=void 0),this.autoFreeze_&&vs(a,!0),r){let t=[],n=[];vf(vd).generateReplacementPatches_(e,a,{patches_:t,inversePatches_:n}),r(t,n)}return a}},this.produceWithPatches=(e,t)=>{let r,a;return va(e)?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,a=t}),r,a]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){b0(e)||bH(8),bQ(e)&&(e=vR(e));let t=vx(this),r=vP(t,e,void 0);return r[b$].isManual_=!0,vm(t),r}finishDraft(e,t){let r=e&&e[b$];r&&r.isManual_||bH(9);let{scope_:a}=r;return vh(a,t),vb(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));let a=vf(vd).applyPatches_;return bQ(e)?a(e,t):this.produce(e,e=>a(e,t))}}().produce,vD=e=>Array.isArray(e)?e:[e],vM=0,vL=class{revision=vM;_value;_lastValue;_isEqual=vF;constructor(e,t=vF){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++vM)}};function vF(e,t){return e===t}function vU(e){return e instanceof vL||console.warn("Not a valid cell! ",e),e.value}var vz=(e,t)=>!1;function vB(){return function(e,t=vF){return new vL(null,t)}(0,vz)}var vV=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=vB()),vU(t)};Symbol();var v$=0,vH=Object.getPrototypeOf({}),vW=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,vG);tag=vB();tags={};children={};collectionTag=null;id=v$++},vG={get:(e,t)=>(function(){let{value:r}=e,a=Reflect.get(r,t);if("symbol"==typeof t||t in vH)return a;if("object"==typeof a&&null!==a){var n;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(n=a)?new vq(n):new vW(n)),r.tag&&vU(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=vB()).value=a),vU(r),a}})(),ownKeys:e=>(vV(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},vq=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],vK);tag=vB();tags={};children={};collectionTag=null;id=v$++},vK={get:([e],t)=>("length"===t&&vV(e),vG.get(e,t)),ownKeys:([e])=>vG.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>vG.getOwnPropertyDescriptor(e,t),has:([e],t)=>vG.has(e,t)},vY="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function vX(){return{s:0,v:void 0,o:null,p:null}}function vZ(e,t={}){let r,a=vX(),{resultEqualityCheck:n}=t,i=0;function s(){let t,s=a,{length:o}=arguments;for(let e=0;e<o;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=s.o;null===e&&(s.o=e=new WeakMap);let r=e.get(t);void 0===r?(s=vX(),e.set(t,s)):s=r}else{let e=s.p;null===e&&(s.p=e=new Map);let r=e.get(t);void 0===r?(s=vX(),e.set(t,s)):s=r}}let l=s;if(1===s.s)t=s.v;else if(t=e.apply(null,arguments),i++,n){let e=r?.deref?.()??r;null!=e&&n(e,t)&&(t=e,0!==i&&i--),r="object"==typeof t&&null!==t||"function"==typeof t?new vY(t):t}return l.s=1,l.v=t,t}return s.clearCache=()=>{a=vX(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}var vJ=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,a=(...e)=>{let t,a,n=0,i=0,s={},o=e.pop();"object"==typeof o&&(s=o,o=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);let{memoize:l,memoizeOptions:c=[],argsMemoize:d=vZ,argsMemoizeOptions:u=[],devModeChecks:f={}}={...r,...s},h=vD(c),p=vD(u),m=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),x=l(function(){return n++,o.apply(null,arguments)},...h);return Object.assign(d(function(){i++;let e=function(e,t){let r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}(m,arguments);return a=x.apply(null,e)},...p),{resultFunc:o,memoizedResultFunc:x,dependencies:m,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:l,argsMemoize:d})};return Object.assign(a,{withTypes:()=>a}),a}(vZ),vQ=Object.assign((e,t=vJ)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,a)=>(e[r[a]]=t,e),{}))},{withTypes:()=>vQ});function v0(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v1="function"==typeof Symbol&&Symbol.observable||"@@observable",v2=()=>Math.random().toString(36).substring(7).split("").join("."),v4={INIT:`@@redux/INIT${v2()}`,REPLACE:`@@redux/REPLACE${v2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${v2()}`};function v3(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function v5(e){let t,r=Object.keys(e),a={};for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof e[n]&&(a[n]=e[n])}let n=Object.keys(a);try{Object.keys(a).forEach(e=>{let t=a[e];if(void 0===t(void 0,{type:v4.INIT}))throw Error(v0(12));if(void 0===t(void 0,{type:v4.PROBE_UNKNOWN_ACTION()}))throw Error(v0(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let i=!1,s={};for(let t=0;t<n.length;t++){let o=n[t],l=a[o],c=e[o],d=l(c,r);if(void 0===d)throw r&&r.type,Error(v0(14));s[o]=d,i=i||d!==c}return(i=i||n.length!==Object.keys(e).length)?s:e}}function v6(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function v8(e){return v3(e)&&"type"in e&&"string"==typeof e.type}function v7(e){return({dispatch:t,getState:r})=>a=>n=>"function"==typeof n?n(t,r,e):a(n)}var v9=v7(),ye="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?v6:v6.apply(null,arguments)};function yt(e,t){function r(...a){if(t){let r=t(...a);if(!r)throw Error(yW(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>v8(t)&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var yr=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function ya(e){return b0(e)?vI(e,()=>{}):e}function yn(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var yi="RTK_autoBatch",ys=()=>e=>({payload:e,meta:{[yi]:!0}}),yo=e=>t=>{setTimeout(t,e)},yl=(e={type:"raf"})=>t=>(...r)=>{let a=t(...r),n=!0,i=!1,s=!1,o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:yo(10):"callback"===e.type?e.queueNotification:yo(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},a,{subscribe(e){let t=a.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return(i=!(n=!e?.meta?.[yi]))&&!s&&(s=!0,l(c)),a.dispatch(e)}finally{n=!0}}})};function yc(e){let t,r={},a=[],n={addCase(e,t){let a="string"==typeof e?e:e.type;if(!a)throw Error(yW(28));if(a in r)throw Error(yW(29));return r[a]=t,n},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&a.push({matcher:e.settled,reducer:t.settled}),n),addMatcher:(e,t)=>(a.push({matcher:e,reducer:t}),n),addDefaultCase:e=>(t=e,n)};return e(n),[r,a,t]}var yd=Symbol.for("rtk-slice-createasyncthunk"),yu=((er=yu||{}).reducer="reducer",er.reducerWithPrepare="reducerWithPrepare",er.asyncThunk="asyncThunk",er),yf=function({creators:e}={}){let t=e?.asyncThunk?.[yd];return function(e){let r,{name:a,reducerPath:n=a}=e;if(!a)throw Error(yW(11));let i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={},l={},c={},d=[],u={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(yW(12));if(r in l)throw Error(yW(13));return l[r]=t,u},addMatcher:(e,t)=>(d.push({matcher:e,reducer:t}),u),exposeAction:(e,t)=>(c[e]=t,u),exposeCaseReducer:(e,t)=>(o[e]=t,u)};function f(){let[t={},r=[],a]="function"==typeof e.extraReducers?yc(e.extraReducers):[e.extraReducers],n={...t,...l};return function(e,t){let r,[a,n,i]=yc(t);if("function"==typeof e)r=()=>ya(e());else{let t=ya(e);r=()=>t}function s(e=r(),t){let o=[a[t.type],...n.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,r)=>{if(r)if(bQ(e)){let a=r(e,t);return void 0===a?e:a}else{if(b0(e))return vI(e,e=>r(e,t));let a=r(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in n)e.addCase(t,n[t]);for(let t of d)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);a&&e.addDefaultCase(a)})}s.forEach(r=>{let n=i[r],s={reducerName:r,type:`${a}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===n._reducerDefinitionType?function({type:e,reducerName:t},r,a,n){if(!n)throw Error(yW(18));let{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=r,u=n(e,i,d);a.exposeAction(t,u),s&&a.addCase(u.fulfilled,s),o&&a.addCase(u.pending,o),l&&a.addCase(u.rejected,l),c&&a.addMatcher(u.settled,c),a.exposeCaseReducer(t,{fulfilled:s||yh,pending:o||yh,rejected:l||yh,settled:c||yh})}(s,n,u,t):function({type:e,reducerName:t,createNotation:r},a,n){let i,s;if("reducer"in a){if(r&&"reducerWithPrepare"!==a._reducerDefinitionType)throw Error(yW(17));i=a.reducer,s=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?yt(e,s):yt(e))}(s,n,u)});let h=e=>e,p=new Map,m=new WeakMap;function x(e,t){return r||(r=f()),r(e,t)}function g(){return r||(r=f()),r.getInitialState()}function b(t,r=!1){function a(e){let n=e[t];return void 0===n&&r&&(n=yn(m,a,g)),n}function n(t=h){let a=yn(p,r,()=>new WeakMap);return yn(a,t,()=>{let a={};for(let[n,i]of Object.entries(e.selectors??{}))a[n]=function(e,t,r,a){function n(i,...s){let o=t(i);return void 0===o&&a&&(o=r()),e(o,...s)}return n.unwrapped=e,n}(i,t,()=>yn(m,t,g),r);return a})}return{reducerPath:t,getSelectors:n,get selectors(){return n(a)},selectSlice:a}}let v={name:a,reducer:x,actions:c,caseReducers:o,getInitialState:g,...b(n),injectInto(e,{reducerPath:t,...r}={}){let a=t??n;return e.inject({reducerPath:a,reducer:x},r),{...v,...b(a,!0)}}};return v}}();function yh(){}var yp="listener",ym="completed",yx="cancelled",yg=`task-${yx}`,yb=`task-${ym}`,yv=`${yp}-${yx}`,yy=`${yp}-${ym}`,yw=class{constructor(e){this.code=e,this.message=`task ${yx} (reason: ${e})`}name="TaskAbortError";message},yj=(e,t)=>{if("function"!=typeof e)throw TypeError(yW(32))},yN=()=>{},yE=(e,t=yN)=>(e.catch(t),e),yS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yk=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},yT=e=>{if(e.aborted){let{reason:t}=e;throw new yw(t)}};function yA(e,t){let r=yN;return new Promise((a,n)=>{let i=()=>n(new yw(e.reason));e.aborted?i():(r=yS(e,i),t.finally(()=>r()).then(a,n))}).finally(()=>{r=yN})}var y_=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof yw?"cancelled":"rejected",error:e}}finally{t?.()}},yC=e=>t=>yE(yA(e,t).then(t=>(yT(e),t))),yO=e=>{let t=yC(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:yP}=Object,yR={},yI="listenerMiddleware",yD=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:i}=e;if(t)n=yt(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(n);else throw Error(yW(21));return yj(i,"options.listener"),{predicate:n,type:t,effect:i}},yM=yP(e=>{let{type:t,predicate:r,effect:a}=yD(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(yW(22))}}},{withTypes:()=>yM}),yL=(e,t)=>{let{type:r,effect:a,predicate:n}=yD(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===n)&&e.effect===a)},yF=e=>{e.pending.forEach(e=>{yk(e,yv)})},yU=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},yz=yP(yt(`${yI}/add`),{withTypes:()=>yz}),yB=yt(`${yI}/removeAll`),yV=yP(yt(`${yI}/remove`),{withTypes:()=>yV}),y$=(...e)=>{console.error(`${yI}/error`,...e)},yH=(e={})=>{let t=new Map,r=new Map,{extra:a,onError:n=y$}=e;yj(n,"onError");let i=e=>{var r;return(r=yL(t,e)??yM(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&yF(r)}};yP(i,{withTypes:()=>i});let s=e=>{let r=yL(t,e);return r&&(r.unsubscribe(),e.cancelActive&&yF(r)),!!r};yP(s,{withTypes:()=>s});let o=async(e,s,o,l)=>{var c,d;let u,f=new AbortController,h=(c=f.signal,u=async(e,t)=>{yT(c);let r=()=>{},a=[new Promise((t,a)=>{let n=i({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{n(),a()}})];null!=t&&a.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await yA(c,Promise.race(a));return yT(c),e}finally{r()}},(e,t)=>yE(u(e,t))),p=[];try{let n;e.pending.add(f),n=r.get(e)??0,r.set(e,n+1),await Promise.resolve(e.effect(s,yP({},o,{getOriginalState:l,condition:(e,t)=>h(e,t).then(Boolean),take:h,delay:yO(f.signal),pause:yC(f.signal),extra:a,signal:f.signal,fork:(d=f.signal,(e,t)=>{yj(e,"taskExecutor");let r=new AbortController;yS(d,()=>yk(r,d.reason));let a=y_(async()=>{yT(d),yT(r.signal);let t=await e({pause:yC(r.signal),delay:yO(r.signal),signal:r.signal});return yT(r.signal),t},()=>yk(r,yb));return t?.autoJoin&&p.push(a.catch(yN)),{result:yC(d)(a),cancel(){yk(r,yg)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==f&&(yk(e,yv),r.delete(e))})},cancel:()=>{yk(f,yv),e.pending.delete(f)},throwIfCancelled:()=>{yT(f.signal)}})))}catch(e){e instanceof yw||yU(n,e,{raisedBy:"effect"})}finally{let t;await Promise.all(p),yk(f,yy),1===(t=r.get(e)??1)?r.delete(e):r.set(e,t-1),e.pending.delete(f)}},l=()=>{for(let e of r.keys())yF(e);t.clear()};return{middleware:e=>r=>a=>{let c;if(!v8(a))return r(a);if(yz.match(a))return i(a.payload);if(yB.match(a))return void l();if(yV.match(a))return s(a.payload);let d=e.getState(),u=()=>{if(d===yR)throw Error(yW(23));return d};try{if(c=r(a),t.size>0){let r=e.getState();for(let i of Array.from(t.values())){let t=!1;try{t=i.predicate(a,r,d)}catch(e){t=!1,yU(n,e,{raisedBy:"predicate"})}t&&o(i,a,e,u)}}}finally{d=yR}return c},startListening:i,stopListening:s,clearListeners:l}};function yW(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var yG=e.i(92068),yq=e=>0===e?0:e>0?1:-1,yK=e=>"number"==typeof e&&e!=+e,yY=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,yX=e=>("number"==typeof e||e instanceof Number)&&!yK(e),yZ=e=>yX(e)||"string"==typeof e,yJ=0,yQ=e=>{var t=++yJ;return"".concat(e||"").concat(t)},y0=function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!yX(e)&&"string"!=typeof e)return a;if(yY(e)){if(null==t)return a;var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return yK(r)&&(r=a),n&&null!=t&&r>t&&(r=t),r},y1=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(r[e[a]])return!0;else r[e[a]]=!0;return!1};function y2(e,t,r){return yX(e)&&yX(t)?e+r*(t-e):t}function y4(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,yG.default)(e,t))===r)}var y3=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function y5(e){return null!=e}function y6(){}function y8(e,t){if(t){var r=Number.parseInt(t,10);if(!yK(r))return null==e?void 0:e[r]}}var y7=yf({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),y9=y7.reducer,{createEventEmitter:we}=y7.actions,wt=(e.i(13027),{notify(){},get:()=>[]}),wr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,wa="undefined"!=typeof navigator&&"ReactNative"===navigator.product,wn=wr||wa?ev.useLayoutEffect:ev.useEffect;function wi(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var ws=Symbol.for("react-redux-context"),wo="undefined"!=typeof globalThis?globalThis:{},wl=function(){if(!ev.createContext)return{};let e=wo[ws]??=new Map,t=e.get(ev.createContext);return t||(t=ev.createContext(null),e.set(ev.createContext,t)),t}(),wc=function(e){let{children:t,context:r,serverState:a,store:n}=e,i=ev.useMemo(()=>{let e=function(e,t){let r,a=wt,n=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){if(n++,!r){let t,n;r=e.subscribe(s),t=null,n=null,a={clear(){t=null,n=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}}function l(){n--,r&&0===n&&(r(),r=void 0,a.clear(),a=wt)}let c={addNestedSub:function(e){o();let t=a.subscribe(e),r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>a};return c}(n);return{store:n,subscription:e,getServerState:a?()=>a:void 0}},[n,a]),s=ev.useMemo(()=>n.getState(),[n]);return wn(()=>{let{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,s]),ev.createElement((r||wl).Provider,{value:i},t)};function wd(e=wl){return function(){return ev.useContext(e)}}var wu=wd(),wf=Symbol.for("immer-nothing"),wh=Symbol.for("immer-draftable"),wp=Symbol.for("immer-state");function wm(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wx=Object.getPrototypeOf;function wg(e){return!!e&&!!e[wp]}function wb(e){return!!e&&(ww(e)||Array.isArray(e)||!!e[wh]||!!e.constructor?.[wh]||wk(e)||wT(e))}var wv=Object.prototype.constructor.toString(),wy=new WeakMap;function ww(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let a=wy.get(r);return void 0===a&&(a=Function.toString.call(r),wy.set(r,a)),a===wv}function wj(e,t,r=!0){0===wN(e)?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function wN(e){let t=e[wp];return t?t.type_:Array.isArray(e)?1:wk(e)?2:3*!!wT(e)}function wE(e,t){return 2===wN(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wS(e,t,r){let a=wN(e);2===a?e.set(t,r):3===a?e.add(r):e[t]=r}function wk(e){return e instanceof Map}function wT(e){return e instanceof Set}function wA(e){return e.copy_||e.base_}function w_(e,t){if(wk(e))return new Map(e);if(wT(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=ww(e);if(!0!==t&&("class_only"!==t||r)){let t=wx(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[wp];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){let n=r[a],i=t[n];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[n]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[n]})}return Object.create(wx(e),t)}}function wC(e,t=!1){return wP(e)||wg(e)||!wb(e)||(wN(e)>1&&Object.defineProperties(e,{set:wO,add:wO,clear:wO,delete:wO}),Object.freeze(e),t&&Object.values(e).forEach(e=>wC(e,!0))),e}var wO={value:function(){wm(2)}};function wP(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var wR={};function wI(e){let t=wR[e];return t||wm(0,e),t}function wD(e,t){t&&(wI("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wM(e){wL(e),e.drafts_.forEach(wU),e.drafts_=null}function wL(e){e===ec&&(ec=e.parent_)}function wF(e){return ec={drafts_:[],parent_:ec,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wU(e){let t=e[wp];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wz(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[wp].modified_&&(wM(t),wm(4)),wb(e)&&(e=wB(t,e),t.parent_||w$(t,e)),t.patches_&&wI("Patches").generateReplacementPatches_(r[wp].base_,e,t.patches_,t.inversePatches_)):e=wB(t,r,[]),wM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wf?e:void 0}function wB(e,t,r){if(wP(t))return t;let a=e.immer_.shouldUseStrictIteration(),n=t[wp];if(!n)return wj(t,(a,i)=>wV(e,n,t,a,i,r),a),t;if(n.scope_!==e)return t;if(!n.modified_)return w$(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,i=t,s=!1;3===n.type_&&(i=new Set(t),t.clear(),s=!0),wj(i,(a,i)=>wV(e,n,t,a,i,r,s),a),w$(e,t,!1),r&&e.patches_&&wI("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function wV(e,t,r,a,n,i,s){if(null==n||"object"!=typeof n&&!s)return;let o=wP(n);if(!o||s){if(wg(n)){let s=wB(e,n,i&&t&&3!==t.type_&&!wE(t.assigned_,a)?i.concat(a):void 0);if(wS(r,a,s),!wg(s))return;e.canAutoFreeze_=!1}else s&&r.add(n);if(wb(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;wB(e,n),(!t||!t.scope_.parent_)&&"symbol"!=typeof a&&(wk(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&w$(e,n)}}}function w$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wC(t,r)}var wH={get(e,t){if(t===wp)return e;let r=wA(e);if(!wE(r,t)){var a;let n;return a=e,(n=wq(r,t))?"value"in n?n.value:n.get?.call(a.draft_):void 0}let n=r[t];return e.finalized_||!wb(n)?n:n===wG(e.base_,t)?(wY(e),e.copy_[t]=wZ(n,e)):n},has:(e,t)=>t in wA(e),ownKeys:e=>Reflect.ownKeys(wA(e)),set(e,t,r){let a=wq(wA(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){let a=wG(wA(e),t),n=a?.[wp];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===a?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==r||wE(e.base_,t)))return!0;wY(e),wK(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==wG(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,wY(e),wK(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=wA(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:r[t]}:a},defineProperty(){wm(11)},getPrototypeOf:e=>wx(e.base_),setPrototypeOf(){wm(12)}},wW={};function wG(e,t){let r=e[wp];return(r?wA(r):e)[t]}function wq(e,t){if(!(t in e))return;let r=wx(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=wx(r)}}function wK(e){!e.modified_&&(e.modified_=!0,e.parent_&&wK(e.parent_))}function wY(e){e.copy_||(e.copy_=w_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}wj(wH,(e,t)=>{wW[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wW.deleteProperty=function(e,t){return wW.set.call(this,e,t,void 0)},wW.set=function(e,t,r){return wH.set.call(this,e[0],t,r,e[0])};var wX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{let a;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let a=this;return function(e=r,...n){return a.produce(e,e=>t.call(this,e,...n))}}if("function"!=typeof t&&wm(6),void 0!==r&&"function"!=typeof r&&wm(7),wb(e)){let n=wF(this),i=wZ(e,void 0),s=!0;try{a=t(i),s=!1}finally{s?wM(n):wL(n)}return wD(n,r),wz(a,n)}if(e&&"object"==typeof e)wm(1,e);else{if(void 0===(a=t(e))&&(a=e),a===wf&&(a=void 0),this.autoFreeze_&&wC(a,!0),r){let t=[],n=[];wI("Patches").generateReplacementPatches_(e,a,t,n),r(t,n)}return a}},this.produceWithPatches=(e,t)=>{let r,a;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,a=t}),r,a]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;wb(e)||wm(8),wg(e)&&(wg(t=e)||wm(10,t),e=function e(t){let r;if(!wb(t)||wP(t))return t;let a=t[wp],n=!0;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,r=w_(t,a.scope_.immer_.useStrictShallowCopy_),n=a.scope_.immer_.shouldUseStrictIteration()}else r=w_(t,!0);return wj(r,(t,a)=>{wS(r,t,e(a))},n),a&&(a.finalized_=!1),r}(t));let r=wF(this),a=wZ(e,void 0);return a[wp].isManual_=!0,wL(r),a}finishDraft(e,t){let r=e&&e[wp];r&&r.isManual_||wm(9);let{scope_:a}=r;return wD(a,t),wz(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));let a=wI("Patches").applyPatches_;return wg(e)?a(e,t):this.produce(e,e=>a(e,t))}};function wZ(e,t){let r=wk(e)?wI("MapSet").proxyMap_(e,t):wT(e)?wI("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),a={type_:+!!r,scope_:t?t.scope_:ec,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},n=a,i=wH;r&&(n=[a],i=wW);let{revoke:s,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=s,o}(e,t);return(t?t.scope_:ec).drafts_.push(r),r}new wX().produce;var wJ={active:!1,index:null,dataKey:void 0,coordinate:void 0},wQ=yf({name:"tooltip",initialState:{itemInteraction:{click:wJ,hover:wJ},axisInteraction:{click:wJ,hover:wJ},keyboardInteraction:wJ,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ys()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,n=vR(e).tooltipItemPayloads.indexOf(r);n>-1&&(e.tooltipItemPayloads[n]=a)},prepare:ys()},removeTooltipEntrySettings:{reducer(e,t){var r=vR(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ys()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:w0,replaceTooltipEntrySettings:w1,removeTooltipEntrySettings:w2,setTooltipSettingsState:w4,setActiveMouseOverItemIndex:w3,mouseLeaveItem:w5,mouseLeaveChart:w6,setActiveClickItemIndex:w8,setMouseOverAxisIndex:w7,setMouseClickAxisIndex:w9,setSyncInteraction:je,setKeyboardInteraction:jt}=wQ.actions,jr=wQ.reducer,ja=yf({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;null!=r&&(e.dataStartIndex=r),null!=a&&(e.dataEndIndex=a)}}}),{setChartData:jn,setDataStartEndIndexes:ji,setComputedData:js}=ja.actions,jo=ja.reducer,jl=yf({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,i;e.margin.top=null!=(r=t.payload.top)?r:0,e.margin.right=null!=(a=t.payload.right)?a:0,e.margin.bottom=null!=(n=t.payload.bottom)?n:0,e.margin.left=null!=(i=t.payload.left)?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jc,setLayout:jd,setChartSize:ju,setScale:jf}=jl.actions,jh=jl.reducer,jp=e.i(30224),jm=(0,ev.createContext)(null),jx=e=>e,jg=()=>{var e=(0,ev.useContext)(jm);return e?e.store.dispatch:jx},jb=()=>{},jv=()=>jb,jy=(e,t)=>e===t;function jw(e){var t=(0,ev.useContext)(jm);return(0,jp.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:jv,t?t.store.getState:jb,t?t.store.getState:jb,t?e:jb,jy)}var jj=e.i(42342),jN=e=>e.legend.settings,jE=vJ([e=>e.legend.payload,jN],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?(0,jj.default)(a,r):a});function jS(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function jk(e){return function(){return e}}function jT(e,t){if((n=e.length)>1)for(var r,a,n,i=1,s=e[t[0]],o=s.length;i<n;++i)for(a=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function jA(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function j_(e,t){return e[t]}function jC(e){let t=[];return t.key=e,t}function jO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jI(e,t,r){return null==e||null==t?r:yZ(t)?(0,yG.default)(e,t,r):"function"==typeof t?t(e):r}Array.prototype.slice;var jD=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,jM=(e,t,r,a)=>{if(a)return e.map(e=>e.coordinate);var n,i,s=e.map(e=>(e.coordinate===t&&(n=!0),e.coordinate===r&&(i=!0),e.coordinate));return n||s.push(t),i||s.push(r),s},jL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:f,axisType:h}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||r)&&"category"===n&&s.bandwidth?s.bandwidth()/p:0;return(m="angleAxis"===h&&i&&i.length>=2?2*yq(i[0]-i[1])*m:m,t&&(u||f))?(u||f||[]).map((e,t)=>({coordinate:s(a?a.indexOf(e):e)+m,value:e,offset:m,index:t})).filter(e=>!yK(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!r&&null!=d?s.ticks(d).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:a?a[e]:e,index:t,offset:m}))},jF={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0,s=0;s<t;++s){var o=yK(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=n,e[s][r][1]=n+o,n=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((a=e.length)>0){for(var r,a,n,i=0,s=e[0].length;i<s;++i){for(n=r=0;r<a;++r)n+=e[r][i][1]||0;if(n)for(r=0;r<a;++r)e[r][i][1]/=n}jT(e,t)}},none:jT,silhouette:function(e,t){if((r=e.length)>0){for(var r,a=0,n=e[t[0]],i=n.length;a<i;++a){for(var s=0,o=0;s<r;++s)o+=e[s][a][1]||0;n[a][1]+=n[a][0]=-o/2}jT(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(a=(r=e[t[0]]).length)>0){for(var r,a,n,i=0,s=1;s<a;++s){for(var o=0,l=0,c=0;o<n;++o){for(var d=e[t[o]],u=d[s][1]||0,f=(u-(d[s-1][1]||0))/2,h=0;h<o;++h){var p=e[t[h]];f+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,c+=f*u}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,jT(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0;i<t;++i){var s=yK(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=n,e[i][r][1]=n+s,n=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}};function jU(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:i,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&null!=n[t.dataKey]){var o=y4(r,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var l=jI(n,null==s?t.dataKey:s);return null==l?null:t.scale(l)}var jz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jV=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=(0,jj.default)(t,e=>e.coordinate),i=1/0,s=1,o=n.length;s<o;s++){var l=n[s],c=n[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function j$(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:i}=e;return jR(jR({},t),{},{dataKey:r,payload:a,value:n,name:i})}function jH(e,t){return e?String(e):"string"==typeof t?t:void 0}var jW=e=>e.layout.width,jG=e=>e.layout.height,jq=e=>e.layout.scale,jK=e=>e.layout.margin,jY=vJ(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jX=vJ(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),jZ="data-recharts-item-index",jJ="data-recharts-item-data-key";function jQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function j0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jQ(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j1=vJ([jW,jG,jK,e=>e.brush.height,function(e){return jX(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return jX(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return jY(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return jY(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},jN,e=>e.legend.size],(e,t,r,a,n,i,s,o,l,c)=>{var d={left:(r.left||0)+n,right:(r.right||0)+i},u=j0(j0({},{top:(r.top||0)+s,bottom:(r.bottom||0)+o}),d),f=u.bottom;u.bottom+=a;var h=e-(u=((e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:i,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==i&&yX(e[i]))return jR(jR({},e),{},{[i]:e[i]+(a||0)});if(("horizontal"===o||"vertical"===o&&"center"===i)&&"middle"!==s&&yX(e[s]))return jR(jR({},e),{},{[s]:e[s]+(n||0)})}return e})(u,l,c)).left-u.right,p=t-u.top-u.bottom;return j0(j0({brushBottom:f},u),{},{width:Math.max(h,0),height:Math.max(p,0)})}),j2=vJ(j1,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),j4=vJ(jW,jG,(e,t)=>({x:0,y:0,width:e,height:t})),j3=(0,ev.createContext)(null),j5=()=>null!=(0,ev.useContext)(j3),j6=e=>e.brush,j8=vJ([j6,j1,jK],(e,t,r)=>({height:e.height,x:yX(e.x)?e.x:t.left,y:yX(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:yX(e.width)?e.width:t.width}));function j7(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}(e))&&(a&&(a+=" "),a+=t);return a}var j9=e.i(58723),Ne=function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];if("undefined"!=typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>a[i++]))}},Nt=(e,t,r)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:s}=r,o=yY(a)?e:Number(a),l=yY(n)?t:Number(n);return i&&i>0&&(o?l=o/i:l&&(o=l*i),s&&null!=l&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Nr={width:0,height:0,overflow:"visible"},Na={width:0,overflowX:"visible"},Nn={height:0,overflowY:"visible"},Ni={};function Ns(e){return Number.isFinite(e)}function No(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Nl(){return(Nl=Object.assign.bind()).apply(null,arguments)}function Nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Nu=(0,ev.createContext)({width:-1,height:-1});function Nf(e){var{children:t,width:r,height:a}=e,n=(0,ev.useMemo)(()=>({width:r,height:a}),[r,a]);return No(n.width)&&No(n.height)?ev.createElement(Nu.Provider,{value:n},t):null}var Nh=()=>(0,ev.useContext)(Nu),Np=(0,ev.forwardRef)((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:u,className:f,onResize:h,style:p={}}=e,m=(0,ev.useRef)(null),x=(0,ev.useRef)();x.current=h,(0,ev.useImperativeHandle)(t,()=>m.current);var[g,b]=(0,ev.useState)({containerWidth:a.width,containerHeight:a.height}),v=(0,ev.useCallback)((e,t)=>{b(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]);(0,ev.useEffect)(()=>{if(null==m.current||"undefined"==typeof ResizeObserver)return y6;var e=e=>{var t,{width:r,height:a}=e[0].contentRect;v(r,a),null==(t=x.current)||t.call(x,r,a)};d>0&&(e=(0,j9.default)(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:a}=m.current.getBoundingClientRect();return v(r,a),t.observe(m.current),()=>{t.disconnect()}},[v,d]);var{containerWidth:y,containerHeight:w}=g;Ne(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:N}=Nt(y,w,{width:n,height:i,aspect:r,maxHeight:l});return Ne(null!=j&&j>0||null!=N&&N>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",j,N,n,i,s,o,r),ev.createElement("div",{id:u?"".concat(u):void 0,className:j7("recharts-responsive-container",f),style:Nd(Nd({},p),{},{width:n,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:m},ev.createElement("div",{style:(e=>{var{width:t,height:r}=e,a=yY(t),n=yY(r);return a&&n?Nr:a?Na:n?Nn:Ni})({width:n,height:i})},ev.createElement(Nf,{width:j,height:N},c)))}),Nm=(0,ev.forwardRef)((e,t)=>{var r=Nh();if(No(r.width)&&No(r.height))return e.children;var{width:a,height:n}=function(e){var{width:t,height:r,aspect:a}=e,n=t,i=r;return void 0===n&&void 0===i?(n="100%",i="100%"):void 0===n?n=a&&a>0?void 0:"100%":void 0===i&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=Nt(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return yX(i)&&yX(s)?ev.createElement(Nf,{width:i,height:s},e.children):ev.createElement(Np,Nl({},e,{width:a,height:n,ref:t}))});function Nx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ng=()=>{var e,t=j5(),r=jw(j2),a=jw(j8),n=null==(e=jw(j6))?void 0:e.padding;return t&&a&&n?{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}:r},Nb={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nv=()=>{var e;return null!=(e=jw(j1))?e:Nb},Ny=e=>e.layout.layoutType,Nw=e=>{var t=jg(),r=j5(),{width:a,height:n}=e,i=Nh(),s=a,o=n;return i&&(s=i.width>0?i.width:a,o=i.height>0?i.height:n),(0,ev.useEffect)(()=>{!r&&No(s)&&No(o)&&t(ju({width:s,height:o}))},[t,r,s,o]),null},Nj=e.i(66814);function NN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function NE(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],25212),e.i(25212),e.s([],67155),e.i(67155);class NS extends Map{constructor(e,t=NT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(Nk(this,e))}has(e){return super.has(Nk(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}(this,e))}}function Nk({_intern:e,_key:t},r){let a=t(r);return e.has(a)?e.get(a):r}function NT(e){return null!==e&&"object"==typeof e?e.valueOf():e}let NA=Symbol("implicit");function N_(){var e=new NS,t=[],r=[],a=NA;function n(n){let i=e.get(n);if(void 0===i){if(a!==NA)return a;e.set(n,i=t.push(n)-1)}return r[i%r.length]}return n.domain=function(r){if(!arguments.length)return t.slice();for(let a of(t=[],e=new NS,r))e.has(a)||e.set(a,t.push(a)-1);return n},n.range=function(e){return arguments.length?(r=Array.from(e),n):r.slice()},n.unknown=function(e){return arguments.length?(a=e,n):a},n.copy=function(){return N_(t,r).unknown(a)},NN.apply(n,arguments),n}function NC(){var e,t,r=N_().unknown(void 0),a=r.domain,n=r.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var r=a().length,u=s<i,f=u?s:i,h=u?i:s;e=(h-f)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),f+=(h-f-e*(r-l))*d,t=e*(1-l),o&&(f=Math.round(f),t=Math.round(t));var p=(function(e,t,r){e*=1,t*=1,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),i=Array(n);++a<n;)i[a]=e+a*r;return i})(r).map(function(t){return f+e*t});return n(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(a(e),u()):a()},r.range=function(e){return arguments.length?([i,s]=e,i*=1,s*=1,u()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i*=1,s*=1,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return NC(a(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},NN.apply(u(),arguments)}function NO(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(NC.apply(null,arguments).paddingInner(1))}let NP=Math.sqrt(50),NR=Math.sqrt(10),NI=Math.sqrt(2);function ND(e,t,r){let a,n,i,s=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(s)),l=s/Math.pow(10,o),c=l>=NP?10:l>=NR?5:l>=NI?2:1;return(o<0?(a=Math.round(e*(i=Math.pow(10,-o)/c)),n=Math.round(t*i),a/i<e&&++a,n/i>t&&--n,i=-i):(a=Math.round(e/(i=Math.pow(10,o)*c)),n=Math.round(t/i),a*i<e&&++a,n*i>t&&--n),n<a&&.5<=r&&r<2)?ND(e,t,2*r):[a,n,i]}function NM(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let a=t<e,[n,i,s]=a?ND(t,e,r):ND(e,t,r);if(!(i>=n))return[];let o=i-n+1,l=Array(o);if(a)if(s<0)for(let e=0;e<o;++e)l[e]=-((i-e)/s);else for(let e=0;e<o;++e)l[e]=(i-e)*s;else if(s<0)for(let e=0;e<o;++e)l[e]=-((n+e)/s);else for(let e=0;e<o;++e)l[e]=(n+e)*s;return l}function NL(e,t,r){return ND(e*=1,t*=1,r*=1)[2]}function NF(e,t,r){t*=1,e*=1,r*=1;let a=t<e,n=a?NL(t,e,r):NL(e,t,r);return(a?-1:1)*(n<0?-(1/n):n)}function NU(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nz(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NB(e){let t,r,a;function n(e,a,i=0,s=e.length){if(i<s){if(0!==t(a,a))return s;do{let t=i+s>>>1;0>r(e[t],a)?i=t+1:s=t}while(i<s)}return i}return 2!==e.length?(t=NU,r=(t,r)=>NU(e(t),r),a=(t,r)=>e(t)-r):(t=e===NU||e===Nz?e:NV,r=e,a=e),{left:n,center:function(e,t,r=0,i=e.length){let s=n(e,t,r,i-1);return s>r&&a(e[s-1],t)>-a(e[s],t)?s-1:s},right:function(e,a,n=0,i=e.length){if(n<i){if(0!==t(a,a))return i;do{let t=n+i>>>1;0>=r(e[t],a)?n=t+1:i=t}while(n<i)}return n}}}function NV(){return 0}function N$(e){return null===e?NaN:+e}let NH=NB(NU),NW=NH.right;function NG(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Nq(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function NK(){}NH.left,NB(N$).center;var NY="\\s*([+-]?\\d+)\\s*",NX="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",NZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NJ=/^#([0-9a-f]{3,8})$/,NQ=RegExp(`^rgb\\(${NY},${NY},${NY}\\)$`),N0=RegExp(`^rgb\\(${NZ},${NZ},${NZ}\\)$`),N1=RegExp(`^rgba\\(${NY},${NY},${NY},${NX}\\)$`),N2=RegExp(`^rgba\\(${NZ},${NZ},${NZ},${NX}\\)$`),N4=RegExp(`^hsl\\(${NX},${NZ},${NZ}\\)$`),N3=RegExp(`^hsla\\(${NX},${NZ},${NZ},${NX}\\)$`),N5={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function N6(){return this.rgb().formatHex()}function N8(){return this.rgb().formatRgb()}function N7(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?N9(t):3===r?new Er(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Ee(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Ee(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=NQ.exec(e))?new Er(t[1],t[2],t[3],1):(t=N0.exec(e))?new Er(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=N1.exec(e))?Ee(t[1],t[2],t[3],t[4]):(t=N2.exec(e))?Ee(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=N4.exec(e))?El(t[1],t[2]/100,t[3]/100,1):(t=N3.exec(e))?El(t[1],t[2]/100,t[3]/100,t[4]):N5.hasOwnProperty(e)?N9(N5[e]):"transparent"===e?new Er(NaN,NaN,NaN,0):null}function N9(e){return new Er(e>>16&255,e>>8&255,255&e,1)}function Ee(e,t,r,a){return a<=0&&(e=t=r=NaN),new Er(e,t,r,a)}function Et(e,t,r,a){var n;return 1==arguments.length?((n=e)instanceof NK||(n=N7(n)),n)?new Er((n=n.rgb()).r,n.g,n.b,n.opacity):new Er:new Er(e,t,r,null==a?1:a)}function Er(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}function Ea(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function En(){let e=Ei(this.opacity);return`${1===e?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${1===e?")":`, ${e})`}`}function Ei(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Es(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return((e=Es(e))<16?"0":"")+e.toString(16)}function El(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ed(e,t,r,a)}function Ec(e){if(e instanceof Ed)return new Ed(e.h,e.s,e.l,e.opacity);if(e instanceof NK||(e=N7(e)),!e)return new Ed;if(e instanceof Ed)return e;var t=(e=e.rgb()).r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),s=NaN,o=i-n,l=(i+n)/2;return o?(s=t===i?(r-a)/o+(r<a)*6:r===i?(a-t)/o+2:(t-r)/o+4,o/=l<.5?i+n:2-i-n,s*=60):o=l>0&&l<1?0:s,new Ed(s,o,l,e.opacity)}function Ed(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}function Eu(e){return(e=(e||0)%360)<0?e+360:e}function Ef(e){return Math.max(0,Math.min(1,e||0))}function Eh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Ep(e,t,r,a,n){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*a+s*n)/6}NG(NK,N7,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N6,formatHex:N6,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ec(this).formatHsl()},formatRgb:N8,toString:N8}),NG(Er,Et,Nq(NK,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(Es(this.r),Es(this.g),Es(this.b),Ei(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ea,formatHex:Ea,formatHex8:function(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:En,toString:En})),NG(Ed,function(e,t,r,a){return 1==arguments.length?Ec(e):new Ed(e,t,r,null==a?1:a)},Nq(NK,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Ed(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Ed(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Er(Eh(e>=240?e-240:e+120,n,a),Eh(e,n,a),Eh(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Ed(Eu(this.h),Ef(this.s),Ef(this.l),Ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Ei(this.opacity);return`${1===e?"hsl(":"hsla("}${Eu(this.h)}, ${100*Ef(this.s)}%, ${100*Ef(this.l)}%${1===e?")":`, ${e})`}`}}));let Em=e=>()=>e;function Ex(e,t){var r=t-e;return r?function(t){return e+t*r}:Em(isNaN(e)?t:e)}let Eg=function e(t){var r,a=1==(r=+t)?Ex:function(e,t){var a,n,i;return t-e?(a=e,n=t,a=Math.pow(a,i=r),n=Math.pow(n,i)-a,i=1/i,function(e){return Math.pow(a+e*n,i)}):Em(isNaN(e)?t:e)};function n(e,t){var r=a((e=Et(e)).r,(t=Et(t)).r),n=a(e.g,t.g),i=a(e.b,t.b),s=Ex(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=n(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function Eb(e){return function(t){var r,a,n=t.length,i=Array(n),s=Array(n),o=Array(n);for(r=0;r<n;++r)a=Et(t[r]),i[r]=a.r||0,s[r]=a.g||0,o[r]=a.b||0;return i=e(i),s=e(s),o=e(o),a.opacity=1,function(e){return a.r=i(e),a.g=s(e),a.b=o(e),a+""}}}function Ev(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}Eb(function(e){var t=e.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[a],i=e[a+1],s=a>0?e[a-1]:2*n-i,o=a<t-1?e[a+2]:2*i-n;return Ep((r-a/t)*t,s,n,i,o)}}),Eb(function(e){var t=e.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*t),n=e[(a+t-1)%t],i=e[a%t],s=e[(a+1)%t],o=e[(a+2)%t];return Ep((r-a/t)*t,n,i,s,o)}});var Ey=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ew=RegExp(Ey.source,"g");function Ej(e,t){var r,a,n=typeof t;return null==t||"boolean"===n?Em(t):("number"===n?Ev:"string"===n?(a=N7(t))?(t=a,Eg):function(e,t){var r,a,n,i,s,o=Ey.lastIndex=Ew.lastIndex=0,l=-1,c=[],d=[];for(e+="",t+="";(n=Ey.exec(e))&&(i=Ew.exec(t));)(s=i.index)>o&&(s=t.slice(o,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Ev(n,i)})),o=Ew.lastIndex;return o<t.length&&(s=t.slice(o),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?(r=d[0].x,function(e){return r(e)+""}):(a=t,function(){return a}):(t=d.length,function(e){for(var r,a=0;a<t;++a)c[(r=d[a]).i]=r.x(e);return c.join("")})}:t instanceof N7?Eg:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(a){return r.setTime(e*(1-a)+t*a),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,a=t?t.length:0,n=e?Math.min(a,e.length):0,i=Array(n),s=Array(a);for(r=0;r<n;++r)i[r]=Ej(e[r],t[r]);for(;r<a;++r)s[r]=t[r];return function(e){for(r=0;r<n;++r)s[r]=i[r](e);return s}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,a={},n={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?a[r]=Ej(e[r],t[r]):n[r]=t[r];return function(e){for(r in a)n[r]=a[r](e);return n}}:Ev:function(e,t){t||(t=[]);var r,a=e?Math.min(t.length,e.length):0,n=t.slice();return function(i){for(r=0;r<a;++r)n[r]=e[r]*(1-i)+t[r]*i;return n}})(e,t)}function EN(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function EE(e){return+e}var ES=[0,1];function Ek(e){return e}function ET(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function EA(e,t,r){var a=e[0],n=e[1],i=t[0],s=t[1];return n<a?(a=ET(n,a),i=r(s,i)):(a=ET(a,n),i=r(i,s)),function(e){return i(a(e))}}function E_(e,t,r){var a=Math.min(e.length,t.length)-1,n=Array(a),i=Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)n[s]=ET(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=NW(e,t,1,a)-1;return i[r](n[r](t))}}function EC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function EO(){var e,t,r,a,n,i,s=ES,o=ES,l=Ej,c=Ek;function d(){var e,t,r,l=Math.min(s.length,o.length);return c!==Ek&&(e=s[0],t=s[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),a=l>2?E_:EA,n=i=null,u}function u(t){return null==t||isNaN(t*=1)?r:(n||(n=a(s.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((i||(i=a(o,s.map(e),Ev)))(r)))},u.domain=function(e){return arguments.length?(s=Array.from(e,EE),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=EN,d()},u.clamp=function(e){return arguments.length?(c=!!e||Ek,d()):c!==Ek},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,a){return e=r,t=a,d()}}function EP(){return EO()(Ek,Ek)}function ER(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function EI(e){return(e=ER(Math.abs(e)))?e[1]:NaN}var ED=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function EM(e){var t;if(!(t=ED.exec(e)))throw Error("invalid format: "+e);return new EL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function EL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function EF(e,t){var r=ER(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+Array(n-a.length+2).join("0")}EM.prototype=EL.prototype,EL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let EU={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EF(100*e,t),r:EF,s:function(e,t){var r=ER(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(ed=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,s=a.length;return i===s?a:i>s?a+Array(i-s+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+Array(1-i).join("0")+ER(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ez(e){return e}var EB=Array.prototype.map,EV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E$(e,t,r,a){var n,i,s=NF(e,t,r);switch((a=EM(null==a?",f":a)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(i=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(EI(o)/3)))-EI(Math.abs(s))))||(a.precision=i),eh(a,o);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(i=Math.max(0,EI(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(n=Math.abs(n=s)))-EI(n))+1)||(a.precision=i-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(i=Math.max(0,-EI(Math.abs(s))))||(a.precision=i-("%"===a.type)*2)}return ef(a)}function EH(e){var t=e.domain;return e.ticks=function(e){var r=t();return NM(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var a=t();return E$(a[0],a[a.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var a,n,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(n=l,l=c,c=n,n=s,s=o,o=n);d-- >0;){if((n=NL(l,c,r))===a)return i[s]=l,i[o]=c,t(i);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else if(n<0)l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n;else break;a=n}return e},e}function EW(){var e=EP();return e.copy=function(){return EC(e,EW())},NN.apply(e,arguments),EH(e)}function EG(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,EE),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return EG(e).unknown(t)},e=arguments.length?Array.from(e,EE):[0,1],EH(r)}function Eq(e,t){e=e.slice();var r,a=0,n=e.length-1,i=e[a],s=e[n];return s<i&&(r=a,a=n,n=r,r=i,i=s,s=r),e[a]=t.floor(i),e[n]=t.ceil(s),e}function EK(e){return Math.log(e)}function EY(e){return Math.exp(e)}function EX(e){return-Math.log(-e)}function EZ(e){return-Math.exp(-e)}function EJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EQ(e){return(t,r)=>-e(-t,r)}function E0(e){let t,r,a=e(EK,EY),n=a.domain,i=10;function s(){var s,o;return t=(s=i)===Math.E?Math.log:10===s&&Math.log10||2===s&&Math.log2||(s=Math.log(s),e=>Math.log(e)/s),r=10===(o=i)?EJ:o===Math.E?Math.exp:e=>Math.pow(o,e),n()[0]<0?(t=EQ(t),r=EQ(r),e(EX,EZ)):e(EK,EY),a}return a.base=function(e){return arguments.length?(i=+e,s()):i},a.domain=function(e){return arguments.length?(n(e),s()):n()},a.ticks=e=>{let a,s,o=n(),l=o[0],c=o[o.length-1],d=c<l;d&&([l,c]=[c,l]);let u=t(l),f=t(c),h=null==e?10:+e,p=[];if(!(i%1)&&f-u<h){if(u=Math.floor(u),f=Math.ceil(f),l>0){for(;u<=f;++u)for(a=1;a<i;++a)if(!((s=u<0?a/r(-u):a*r(u))<l)){if(s>c)break;p.push(s)}}else for(;u<=f;++u)for(a=i-1;a>=1;--a)if(!((s=u>0?a/r(-u):a*r(u))<l)){if(s>c)break;p.push(s)}2*p.length<h&&(p=NM(l,c,h))}else p=NM(u,f,Math.min(f-u,h)).map(r);return d?p.reverse():p},a.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=EM(n)).precision||(n.trim=!0),n=ef(n)),e===1/0)return n;let s=Math.max(1,i*e/a.ticks().length);return e=>{let a=e/r(Math.round(t(e)));return a*i<i-.5&&(a*=i),a<=s?n(e):""}},a.nice=()=>n(Eq(n(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),a}function E1(){let e=E0(EO()).domain([1,10]);return e.copy=()=>EC(e,E1()).base(e.base()),NN.apply(e,arguments),e}function E2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E3(e){var t=1,r=e(E2(1),E4(t));return r.constant=function(r){return arguments.length?e(E2(t=+r),E4(t)):t},EH(r)}function E5(){var e=E3(EO());return e.copy=function(){return EC(e,E5()).constant(e.constant())},NN.apply(e,arguments)}function E6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function E8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function E7(e){return e<0?-e*e:e*e}function E9(e){var t=e(Ek,Ek),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(Ek,Ek):.5===r?e(E8,E7):e(E6(r),E6(1/r)):r},EH(t)}function Se(){var e=E9(EO());return e.copy=function(){return EC(e,Se()).exponent(e.exponent())},NN.apply(e,arguments),e}function St(){return Se.apply(null,arguments).exponent(.5)}function Sr(e){return Math.sign(e)*e*e}function Sa(){var e,t=EP(),r=[0,1],a=!1;function n(r){var n,i=Math.sign(n=t(r))*Math.sqrt(Math.abs(n));return isNaN(i)?e:a?Math.round(i):i}return n.invert=function(e){return t.invert(Sr(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain()},n.range=function(e){return arguments.length?(t.range((r=Array.from(e,EE)).map(Sr)),n):r.slice()},n.rangeRound=function(e){return n.range(e).round(!0)},n.round=function(e){return arguments.length?(a=!!e,n):a},n.clamp=function(e){return arguments.length?(t.clamp(e),n):t.clamp()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Sa(t.domain(),r).round(a).clamp(t.clamp()).unknown(e)},NN.apply(n,arguments),EH(n)}function Sn(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(r<n||void 0===r&&n>=n)&&(r=n)}return r}function Si(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let a=-1;for(let n of e)null!=(n=t(n,++a,e))&&(r>n||void 0===r&&n>=n)&&(r=n)}return r}function Ss(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function So(e,t,r){let a=e[t];e[t]=e[r],e[r]=a}function Sl(){var e,t=[],r=[],a=[];function n(){var e=0,n=Math.max(1,r.length);for(a=Array(n-1);++e<n;)a[e-1]=function(e,t,r=N$){if(!(!(a=e.length)||isNaN(t*=1))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),s=+r(e[i],i,e);return s+(r(e[i+1],i+1,e)-s)*(n-i)}}(t,e/n);return i}function i(t){return null==t||isNaN(t*=1)?e:r[NW(a,t)]}return i.invertExtent=function(e){var n=r.indexOf(e);return n<0?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(NU),n()},i.range=function(e){return arguments.length?(r=Array.from(e),n()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return a.slice()},i.copy=function(){return Sl().domain(t).range(r).unknown(e)},NN.apply(i,arguments)}function Sc(){var e,t=0,r=1,a=1,n=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[NW(n,t,0,a)]:e}function o(){var e=-1;for(n=Array(a);++e<a;)n[e]=((e+1)*r-(e-a)*t)/(a+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,o()):[t,r]},s.range=function(e){return arguments.length?(a=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,n[0]]:s>=a?[n[a-1],r]:[n[s-1],n[s]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Sc().domain([t,r]).range(i).unknown(e)},NN.apply(EH(s),arguments)}function Sd(){var e,t=[.5],r=[0,1],a=1;function n(n){return null!=n&&n<=n?r[NW(t,n,0,a)]:e}return n.domain=function(e){return arguments.length?(a=Math.min((t=Array.from(e)).length,r.length-1),n):t.slice()},n.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(e){var a=r.indexOf(e);return[t[a-1],t[a]]},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Sd().domain(t).range(r).unknown(e)},NN.apply(n,arguments)}ef=(eu=function(e){var t,r,a,n=void 0===e.grouping||void 0===e.thousands?Ez:(t=EB.call(e.grouping,Number),r=e.thousands+"",function(e,a){for(var n=e.length,i=[],s=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>a&&(o=Math.max(1,a-l)),i.push(e.substring(n-=o,n+o)),!((l+=o+1)>a));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Ez:(a=EB.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return a[+e]})}),c=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=EM(e)).fill,r=e.align,a=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,x=e.precision,g=e.trim,b=e.type;"n"===b?(m=!0,b="g"):EU[b]||(void 0===x&&(x=12),g=!0,b="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var v="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===f?s:/[%p]/.test(b)?c:"",w=EU[b],j=/[defgprs%]/.test(b);function N(e){var i,s,c,f=v,N=y;if("c"===b)N=w(e)+N,e="";else{var E=(e*=1)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),x),g&&(e=function(e){i:for(var t,r=e.length,a=1,n=-1;a<r;++a)switch(e[a]){case".":n=t=a;break;case"0":0===n&&(n=a),t=a;break;default:if(!+e[a])break i;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==a&&(E=!1),f=(E?"("===a?a:d:"-"===a||"("===a?"":a)+f,N=("s"===b?EV[8+ed/3]:"")+N+(E&&"("===a?")":""),j){for(i=-1,s=e.length;++i<s;)if(48>(c=e.charCodeAt(i))||c>57){N=(46===c?o+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}}m&&!h&&(e=n(e,1/0));var S=f.length+e.length+N.length,k=S<p?Array(p-S+1).join(t):"";switch(m&&h&&(e=n(k+e,k.length?p-N.length:1/0),k=""),r){case"<":e=f+e+N+k;break;case"=":e=f+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+f+e+N+k.slice(S);break;default:e=k+f+e+N}return l(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:f,formatPrefix:function(e,t){var r=f(((e=EM(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(EI(t)/3))),n=Math.pow(10,-a),i=EV[8+a/3];return function(e){return r(n*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,eh=eu.formatPrefix;let Su=new Date,Sf=new Date;function Sh(e,t,r,a){function n(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),n.round=e=>{let t=n(e),r=n.ceil(e);return e-t<r-e?t:r},n.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),n.range=(r,a,i)=>{let s,o=[];if(r=n.ceil(r),i=null==i?1:Math.floor(i),!(r<a)||!(i>0))return o;do o.push(s=new Date(+r)),t(r,i),e(r);while(s<r&&r<a)return o},n.filter=r=>Sh(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!r(e););else for(;--a>=0;)for(;t(e,1),!r(e););}),r&&(n.count=(t,a)=>(Su.setTime(+t),Sf.setTime(+a),e(Su),e(Sf),Math.floor(r(Su,Sf))),n.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?n.filter(a?t=>a(t)%e==0:t=>n.count(0,t)%e==0):n:null),n}let Sp=Sh(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sp.every=e=>isFinite(e=Math.floor(e))&&e>0?Sh(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,Sp.range;let Sm=Sh(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sm.every=e=>isFinite(e=Math.floor(e))&&e>0?Sh(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,Sm.range;let Sx=Sh(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sx.range;let Sg=Sh(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Sg.range;function Sb(e){return Sh(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let Sv=Sb(0),Sy=Sb(1),Sw=Sb(2),Sj=Sb(3),SN=Sb(4),SE=Sb(5),SS=Sb(6);function Sk(e){return Sh(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}Sv.range,Sy.range,Sw.range,Sj.range,SN.range,SE.range,SS.range;let ST=Sk(0),SA=Sk(1),S_=Sk(2),SC=Sk(3),SO=Sk(4),SP=Sk(5),SR=Sk(6);ST.range,SA.range,S_.range,SC.range,SO.range,SP.range,SR.range;let SI=Sh(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);SI.range;let SD=Sh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);SD.range;let SM=Sh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));SM.range;let SL=Sh(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());SL.range;let SF=Sh(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());SF.range;let SU=Sh(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());SU.range;let Sz=Sh(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());Sz.range;let SB=Sh(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());SB.range;let SV=Sh(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function S$(e,t,r,a,n,i){let s=[[SB,1,1e3],[SB,5,5e3],[SB,15,15e3],[SB,30,3e4],[i,1,6e4],[i,5,3e5],[i,15,9e5],[i,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[a,1,864e5],[a,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function o(t,r,a){let n=Math.abs(r-t)/a,i=NB(([,,e])=>e).right(s,n);if(i===s.length)return e.every(NF(t/31536e6,r/31536e6,a));if(0===i)return SV.every(Math.max(NF(t,r,a),1));let[o,l]=s[n/s[i-1][2]<s[i][2]/n?i-1:i];return o.every(l)}return[function(e,t,r){let a=t<e;a&&([e,t]=[t,e]);let n=r&&"function"==typeof r.range?r:o(e,t,r),i=n?n.range(e,+t+1):[];return a?i.reverse():i},o]}SV.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?Sh(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):SV:null,SV.range;let[SH,SW]=S$(Sm,Sg,ST,SM,SF,Sz),[SG,Sq]=S$(Sp,Sx,Sv,SI,SL,SU);function SK(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SY(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function SX(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var SZ={"-":"",_:" ",0:"0"},SJ=/^\s*\d+/,SQ=/^%/,S0=/[\\^$*+?|[\]().{}]/g;function S1(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?Array(r-i+1).join(t)+n:n)}function S2(e){return e.replace(S0,"\\$&")}function S4(e){return RegExp("^(?:"+e.map(S2).join("|")+")","i")}function S3(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function S5(e,t,r){var a=SJ.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function S6(e,t,r){var a=SJ.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function S8(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function S7(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function S9(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function ke(e,t,r){var a=SJ.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function kt(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function kr(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function ka(e,t,r){var a=SJ.exec(t.slice(r,r+1));return a?(e.q=3*a[0]-3,r+a[0].length):-1}function kn(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function ki(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function ks(e,t,r){var a=SJ.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function ko(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function kl(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function kc(e,t,r){var a=SJ.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function kd(e,t,r){var a=SJ.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function ku(e,t,r){var a=SJ.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function kf(e,t,r){var a=SQ.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function kh(e,t,r){var a=SJ.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function kp(e,t,r){var a=SJ.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function km(e,t){return S1(e.getDate(),t,2)}function kx(e,t){return S1(e.getHours(),t,2)}function kg(e,t){return S1(e.getHours()%12||12,t,2)}function kb(e,t){return S1(1+SI.count(Sp(e),e),t,3)}function kv(e,t){return S1(e.getMilliseconds(),t,3)}function ky(e,t){return kv(e,t)+"000"}function kw(e,t){return S1(e.getMonth()+1,t,2)}function kj(e,t){return S1(e.getMinutes(),t,2)}function kN(e,t){return S1(e.getSeconds(),t,2)}function kE(e){var t=e.getDay();return 0===t?7:t}function kS(e,t){return S1(Sv.count(Sp(e)-1,e),t,2)}function kk(e){var t=e.getDay();return t>=4||0===t?SN(e):SN.ceil(e)}function kT(e,t){return e=kk(e),S1(SN.count(Sp(e),e)+(4===Sp(e).getDay()),t,2)}function kA(e){return e.getDay()}function k_(e,t){return S1(Sy.count(Sp(e)-1,e),t,2)}function kC(e,t){return S1(e.getFullYear()%100,t,2)}function kO(e,t){return S1((e=kk(e)).getFullYear()%100,t,2)}function kP(e,t){return S1(e.getFullYear()%1e4,t,4)}function kR(e,t){var r=e.getDay();return S1((e=r>=4||0===r?SN(e):SN.ceil(e)).getFullYear()%1e4,t,4)}function kI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+S1(t/60|0,"0",2)+S1(t%60,"0",2)}function kD(e,t){return S1(e.getUTCDate(),t,2)}function kM(e,t){return S1(e.getUTCHours(),t,2)}function kL(e,t){return S1(e.getUTCHours()%12||12,t,2)}function kF(e,t){return S1(1+SD.count(Sm(e),e),t,3)}function kU(e,t){return S1(e.getUTCMilliseconds(),t,3)}function kz(e,t){return kU(e,t)+"000"}function kB(e,t){return S1(e.getUTCMonth()+1,t,2)}function kV(e,t){return S1(e.getUTCMinutes(),t,2)}function k$(e,t){return S1(e.getUTCSeconds(),t,2)}function kH(e){var t=e.getUTCDay();return 0===t?7:t}function kW(e,t){return S1(ST.count(Sm(e)-1,e),t,2)}function kG(e){var t=e.getUTCDay();return t>=4||0===t?SO(e):SO.ceil(e)}function kq(e,t){return e=kG(e),S1(SO.count(Sm(e),e)+(4===Sm(e).getUTCDay()),t,2)}function kK(e){return e.getUTCDay()}function kY(e,t){return S1(SA.count(Sm(e)-1,e),t,2)}function kX(e,t){return S1(e.getUTCFullYear()%100,t,2)}function kZ(e,t){return S1((e=kG(e)).getUTCFullYear()%100,t,2)}function kJ(e,t){return S1(e.getUTCFullYear()%1e4,t,4)}function kQ(e,t){var r=e.getUTCDay();return S1((e=r>=4||0===r?SO(e):SO.ceil(e)).getUTCFullYear()%1e4,t,4)}function k0(){return"+0000"}function k1(){return"%"}function k2(e){return+e}function k4(e){return Math.floor(e/1e3)}function k3(e){return new Date(e)}function k5(e){return e instanceof Date?+e:+new Date(+e)}function k6(e,t,r,a,n,i,s,o,l,c){var d=EP(),u=d.invert,f=d.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),v=c("%B"),y=c("%Y");function w(e){return(l(e)<e?h:o(e)<e?p:s(e)<e?m:i(e)<e?x:a(e)<e?n(e)<e?g:b:r(e)<e?v:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?f(Array.from(e,k5)):f().map(k3)},d.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(Eq(r,e)):d},d.copy=function(){return EC(d,k6(e,t,r,a,n,i,s,o,l,c))},d}function k8(){return NN.apply(k6(SG,Sq,Sp,Sx,Sv,SI,SL,SU,SB,em).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k7(){return NN.apply(k6(SH,SW,Sm,Sg,ST,SD,SF,Sz,SB,ex).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k9(){var e,t,r,a,n,i=0,s=1,o=Ek,l=!1;function c(t){return null==t||isNaN(t*=1)?n:o(0===r?.5:(t=(a(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,a;return arguments.length?([r,a]=t,o=e(r,a),c):[o(0),o(1)]}}return c.domain=function(n){return arguments.length?([i,s]=n,e=a(i*=1),t=a(s*=1),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Ej),c.rangeRound=d(EN),c.unknown=function(e){return arguments.length?(n=e,c):n},function(n){return a=n,e=n(i),t=n(s),r=e===t?0:1/(t-e),c}}function Te(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Tt(){var e=EH(k9()(Ek));return e.copy=function(){return Te(e,Tt())},NE.apply(e,arguments)}function Tr(){var e=E0(k9()).domain([1,10]);return e.copy=function(){return Te(e,Tr()).base(e.base())},NE.apply(e,arguments)}function Ta(){var e=E3(k9());return e.copy=function(){return Te(e,Ta()).constant(e.constant())},NE.apply(e,arguments)}function Tn(){var e=E9(k9());return e.copy=function(){return Te(e,Tn()).exponent(e.exponent())},NE.apply(e,arguments)}function Ti(){return Tn.apply(null,arguments).exponent(.5)}function Ts(){var e=[],t=Ek;function r(r){if(null!=r&&!isNaN(r*=1))return t((NW(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(NU),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,a)=>(function(e,t,r){if(!(!(a=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a*=1)>=a&&(yield a)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||a<2)return Si(e);if(t>=1)return Sn(e);var a,n=(a-1)*t,i=Math.floor(n),s=Sn((function e(t,r,a=0,n=1/0,i){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),n=Math.floor(Math.min(t.length-1,n)),!(a<=r&&r<=n))return t;for(i=void 0===i?Ss:function(e=NU){if(e===NU)return Ss;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let a=e(t,r);return a||0===a?a:(0===e(r,r))-(0===e(t,t))}}(i);n>a;){if(n-a>600){let s=n-a+1,o=r-a+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1),u=Math.max(a,Math.floor(r-o*c/s+d)),f=Math.min(n,Math.floor(r+(s-o)*c/s+d));e(t,r,u,f,i)}let s=t[r],o=a,l=n;for(So(t,a,r),i(t[n],s)>0&&So(t,a,n);o<l;){for(So(t,o,l),++o,--l;0>i(t[o],s);)++o;for(;i(t[l],s)>0;)--l}0===i(t[a],s)?So(t,a,l):So(t,++l,n),l<=r&&(a=l+1),r<=l&&(n=l-1)}return t})(e,i).subarray(0,i+1));return s+(Si(e.subarray(i+1))-s)*(n-i)}})(e,a/t))},r.copy=function(){return Ts(t).domain(e)},NE.apply(r,arguments)}function To(){var e,t,r,a,n,i,s,o=0,l=.5,c=1,d=1,u=Ek,f=!1;function h(e){return isNaN(e*=1)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?a:n),u(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,a,n;return arguments.length?([r,a,n]=t,u=function(e,t){void 0===t&&(t=e,e=Ej);for(var r=0,a=t.length-1,n=t[0],i=Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return i[t](e-t)}}(e,[r,a,n]),h):[u(0),u(.5),u(1)]}}return h.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o*=1),t=i(l*=1),r=i(c*=1),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h):[o,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=p(Ej),h.rangeRound=p(EN),h.unknown=function(e){return arguments.length?(s=e,h):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function Tl(){var e=EH(To()(Ek));return e.copy=function(){return Te(e,Tl())},NE.apply(e,arguments)}function Tc(){var e=E0(To()).domain([.1,1,10]);return e.copy=function(){return Te(e,Tc()).base(e.base())},NE.apply(e,arguments)}function Td(){var e=E3(To());return e.copy=function(){return Te(e,Td()).constant(e.constant())},NE.apply(e,arguments)}function Tu(){var e=E9(To());return e.copy=function(){return Te(e,Tu()).exponent(e.exponent())},NE.apply(e,arguments)}function Tf(){return Tu.apply(null,arguments).exponent(.5)}em=(ep=function(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=S4(n),d=S3(n),u=S4(i),f=S3(i),h=S4(s),p=S3(s),m=S4(o),x=S3(o),g=S4(l),b=S3(l),v={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:km,e:km,f:ky,g:kO,G:kR,H:kx,I:kg,j:kb,L:kv,m:kw,M:kj,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:k2,s:k4,S:kN,u:kE,U:kS,V:kT,w:kA,W:k_,x:null,X:null,y:kC,Y:kP,Z:kI,"%":k1},y={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:kD,e:kD,f:kz,g:kZ,G:kQ,H:kM,I:kL,j:kF,L:kU,m:kB,M:kV,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:k2,s:k4,S:k$,u:kH,U:kW,V:kq,w:kK,W:kY,x:null,X:null,y:kX,Y:kJ,Z:k0,"%":k1},w={a:function(e,t,r){var a=h.exec(t.slice(r));return a?(e.w=p.get(a[0].toLowerCase()),r+a[0].length):-1},A:function(e,t,r){var a=u.exec(t.slice(r));return a?(e.w=f.get(a[0].toLowerCase()),r+a[0].length):-1},b:function(e,t,r){var a=g.exec(t.slice(r));return a?(e.m=b.get(a[0].toLowerCase()),r+a[0].length):-1},B:function(e,t,r){var a=m.exec(t.slice(r));return a?(e.m=x.get(a[0].toLowerCase()),r+a[0].length):-1},c:function(e,r,a){return E(e,t,r,a)},d:ki,e:ki,f:ku,g:kt,G:ke,H:ko,I:ko,j:ks,L:kd,m:kn,M:kl,p:function(e,t,r){var a=c.exec(t.slice(r));return a?(e.p=d.get(a[0].toLowerCase()),r+a[0].length):-1},q:ka,Q:kh,s:kp,S:kc,u:S6,U:S8,V:S7,w:S5,W:S9,x:function(e,t,a){return E(e,r,t,a)},X:function(e,t,r){return E(e,a,t,r)},y:kt,Y:ke,Z:kr,"%":kf};function j(e,t){return function(r){var a,n,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(n=SZ[a=e.charAt(++o)])?a=e.charAt(++o):n="e"===a?" ":"0",(i=t[a])&&(a=i(r,n)),s.push(a),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(r){var a,n,i=SX(1900,void 0,1);if(E(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!t||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=(a=SY(SX(i.y,0,1))).getUTCDay())>4||0===n?SA.ceil(a):SA(a),a=SD.offset(a,(i.V-1)*7),i.y=a.getUTCFullYear(),i.m=a.getUTCMonth(),i.d=a.getUTCDate()+(i.w+6)%7):(a=(n=(a=SK(SX(i.y,0,1))).getDay())>4||0===n?Sy.ceil(a):Sy(a),a=SI.offset(a,(i.V-1)*7),i.y=a.getFullYear(),i.m=a.getMonth(),i.d=a.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:+("W"in i)),n="Z"in i?SY(SX(i.y,0,1)).getUTCDay():SK(SX(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,SY(i)):SK(i)}}function E(e,t,r,a){for(var n,i,s=0,o=t.length,l=r.length;s<o;){if(a>=l)return -1;if(37===(n=t.charCodeAt(s++))){if(!(i=w[(n=t.charAt(s++))in SZ?t.charAt(s++):n])||(a=i(e,r,a))<0)return -1}else if(n!=r.charCodeAt(a++))return -1}return a}return v.x=j(r,v),v.X=j(a,v),v.c=j(t,v),y.x=j(r,y),y.X=j(a,y),y.c=j(t,y),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,ep.parse,ex=ep.utcFormat,ep.utcParse,e.s(["scaleBand",()=>NC,"scaleDiverging",()=>Tl,"scaleDivergingLog",()=>Tc,"scaleDivergingPow",()=>Tu,"scaleDivergingSqrt",()=>Tf,"scaleDivergingSymlog",()=>Td,"scaleIdentity",()=>EG,"scaleImplicit",0,NA,"scaleLinear",()=>EW,"scaleLog",()=>E1,"scaleOrdinal",()=>N_,"scalePoint",()=>NO,"scalePow",()=>Se,"scaleQuantile",()=>Sl,"scaleQuantize",()=>Sc,"scaleRadial",()=>Sa,"scaleSequential",()=>Tt,"scaleSequentialLog",()=>Tr,"scaleSequentialPow",()=>Tn,"scaleSequentialQuantile",()=>Ts,"scaleSequentialSqrt",()=>Ti,"scaleSequentialSymlog",()=>Ta,"scaleSqrt",()=>St,"scaleSymlog",()=>E5,"scaleThreshold",()=>Sd,"scaleTime",()=>k8,"scaleUtc",()=>k7,"tickFormat",()=>E$],29061),e.i(29061),e.s(["scaleBand",()=>NC,"scaleDiverging",()=>Tl,"scaleDivergingLog",()=>Tc,"scaleDivergingPow",()=>Tu,"scaleDivergingSqrt",()=>Tf,"scaleDivergingSymlog",()=>Td,"scaleIdentity",()=>EG,"scaleImplicit",0,NA,"scaleLinear",()=>EW,"scaleLog",()=>E1,"scaleOrdinal",()=>N_,"scalePoint",()=>NO,"scalePow",()=>Se,"scaleQuantile",()=>Sl,"scaleQuantize",()=>Sc,"scaleRadial",()=>Sa,"scaleSequential",()=>Tt,"scaleSequentialLog",()=>Tr,"scaleSequentialPow",()=>Tn,"scaleSequentialQuantile",()=>Ts,"scaleSequentialSqrt",()=>Ti,"scaleSequentialSymlog",()=>Ta,"scaleSqrt",()=>St,"scaleSymlog",()=>E5,"scaleThreshold",()=>Sd,"scaleTime",()=>k8,"scaleUtc",()=>k7,"tickFormat",()=>E$],79357);var Th=e.i(79357),Tp=e=>e.chartData,Tm=vJ([Tp],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Tx=(e,t,r,a)=>a?Tm(e):Tp(e);function Tg(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Ns(t)&&Ns(r))return!0}return!1}function Tb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Tv(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,a,[n,i]=e;if(Ns(n))r=n;else if("function"==typeof n)return;if(Ns(i))a=i;else if("function"==typeof i)return;var s=[r,a];if(Tg(s))return s}}var Ty=e.i(51655),Tw=e=>e,Tj={},TN=e=>function t(){let r;return 0==arguments.length||1==arguments.length&&(r=arguments.length<=0?void 0:arguments[0],r===Tj)?t:e(...arguments)},TE=(e,t)=>1===e?t:TN(function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];var i=a.filter(e=>e!==Tj).length;return i>=e?t(...a):TE(e-i,TN(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t(...a.map(e=>e===Tj?r.shift():e),...r)}))}),TS=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},Tk=TE((i=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,i),TT=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Tw;var a=t.reverse(),n=a[0],i=a.slice(1);return function(){return i.reduce((e,t)=>t(e),n(...arguments))}},TA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function T_(e){return 0===e?1:Math.floor(new Ty.default(e).abs().log(10).toNumber())+1}function TC(e,t,r){for(var a=new Ty.default(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}var TO=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},TP=(e,t,r)=>{if(e.lte(0))return new Ty.default(0);var a=T_(e.toNumber()),n=new Ty.default(10).pow(a),i=e.div(n),s=1!==a?.05:.1,o=new Ty.default(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(n);return new Ty.default(t?o.toNumber():Math.ceil(o.toNumber()))},TR=function(e,t,r,a){var n,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ty.default(0),tickMin:new Ty.default(0),tickMax:new Ty.default(0)};var s=TP(new Ty.default(t).sub(e).div(r-1),a,i),o=Math.ceil((n=e<=0&&t>=0?new Ty.default(0):(n=new Ty.default(e).add(t).div(2)).sub(new Ty.default(n).mod(s))).sub(e).div(s).toNumber()),l=Math.ceil(new Ty.default(t).sub(n).div(s).toNumber()),c=o+l+1;return c>r?TR(e,t,r,a,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:n.sub(new Ty.default(o).mul(s)),tickMax:n.add(new Ty.default(l).mul(s))})},TI=function(e){var[t,r]=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=Math.max(a,2),[s,o]=TO([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...TS(0,a-1).map(()=>1/0)]:[...TS(0,a-1).map(()=>-1/0),o];return t>r?TA(l):l}if(s===o){var c=new Ty.default(1),d=new Ty.default(s);if(!d.isint()&&n){var u=Math.abs(s);u<1?(c=new Ty.default(10).pow(T_(s)-1),d=new Ty.default(Math.floor(d.div(c).toNumber())).mul(c)):u>1&&(d=new Ty.default(Math.floor(s)))}else 0===s?d=new Ty.default(Math.floor((a-1)/2)):n||(d=new Ty.default(Math.floor(s)));var f=Math.floor((a-1)/2);return TT(Tk(e=>d.add(new Ty.default(e-f).mul(c)).toNumber()),TS)(0,a)}var{step:h,tickMin:p,tickMax:m}=TR(s,o,i,n,0),x=TC(p,m.add(new Ty.default(.1).mul(h)),h);return t>r?TA(x):x},TD=function(e,t){var[r,a]=e,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[i,s]=TO([r,a]);if(i===-1/0||s===1/0)return[r,a];if(i===s)return[i];var o=Math.max(t,2),l=TP(new Ty.default(s).sub(i).div(o-1),n,0),c=[...TC(new Ty.default(i),new Ty.default(s),l),s];return!1===n&&(c=c.map(e=>Math.round(e))),r>a?TA(c):c},TM=e=>e.rootProps.stackOffset,TL=e=>e.rootProps.reverseStackOrder,TF=e=>e.options.chartName,TU=e=>e.rootProps.syncId,Tz=e=>e.rootProps.syncMethod,TB=e=>e.options.eventEmitter;function TV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function T$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TV(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var TH=Math.PI/180,TW=(e,t,r,a)=>({x:e+Math.cos(-TH*a)*r,y:t+Math.sin(-TH*a)*r}),TG=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Tq={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},TK={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Tq.axis},TY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,includeHidden:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Tq.axis},TX=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},TZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:TK.angleAxisId,includeHidden:!1,name:void 0,reversed:TK.reversed,scale:TK.scale,tick:TK.tick,tickCount:void 0,ticks:void 0,type:TK.type,unit:void 0},TJ={allowDataOverflow:TY.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:TY.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:TY.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:TY.scale,tick:TY.tick,tickCount:TY.tickCount,ticks:void 0,type:TY.type,unit:void 0},TQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:TK.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:TK.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:TK.scale,tick:TK.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},T0={allowDataOverflow:TY.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:TY.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:TY.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:TY.scale,tick:TY.tick,tickCount:TY.tickCount,ticks:void 0,type:"category",unit:void 0},T1=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?TQ:TZ,T2=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?T0:TJ,T4=e=>e.polarOptions,T3=vJ([jW,jG,j1],TG),T5=vJ([T4,T3],(e,t)=>{if(null!=e)return y0(e.innerRadius,t,0)}),T6=vJ([T4,T3],(e,t)=>{if(null!=e)return y0(e.outerRadius,t,.8*t)}),T8=vJ([T4],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});vJ([T1,T8],TX);var T7=vJ([T3,T5,T6],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});vJ([T2,T7],TX);var T9=vJ([Ny,T4,T5,T6,jW,jG],(e,t,r,a,n,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=a){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:y0(s,n,n/2),cy:y0(o,i,i/2),innerRadius:r,outerRadius:a,startAngle:l,endAngle:c,clockWise:!1}}}),Ae=(e,t)=>t,At=(e,t,r)=>r;function Ar(e){return null==e?void 0:e.id}function Aa(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=r,s=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:a;if(null!=r&&0!==r.length){var o=Ar(e);r.forEach((t,r)=>{var a,l=null==i||n?r:String(jI(t,i,null)),c=jI(t,e.dataKey,0);Object.assign(a=s.has(l)?s.get(l):{},{[o]:c}),s.set(l,a)})}}),Array.from(s.values())}function An(e){return null!=e.stackId&&null!=e.dataKey}var Ai=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function As(e,t){return!!(Array.isArray(e)&&Array.isArray(t))&&0===e.length&&0===t.length||e===t}var Ao=e=>{var t=Ny(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Al=e=>e.tooltip.settings.axisId;function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Au=[0,"auto"],Af={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ah=(e,t)=>e.cartesianAxis.xAxis[t],Ap=(e,t)=>{var r=Ah(e,t);return null==r?Af:r},Am={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Au,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Ax=(e,t)=>e.cartesianAxis.yAxis[t],Ag=(e,t)=>{var r=Ax(e,t);return null==r?Am:r},Ab={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Av=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?Ab:r},Ay=(e,t,r)=>{switch(t){case"xAxis":return Ap(e,r);case"yAxis":return Ag(e,r);case"zAxis":return Av(e,r);case"angleAxis":return T1(e,r);case"radiusAxis":return T2(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},Aw=(e,t,r)=>{switch(t){case"xAxis":return Ap(e,r);case"yAxis":return Ag(e,r);case"angleAxis":return T1(e,r);case"radiusAxis":return T2(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},Aj=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function AN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var AE=e=>e.graphicalItems.cartesianItems,AS=vJ([Ae,At],AN),Ak=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),AT=vJ([AE,Ay,AS],Ak,{memoizeOptions:{resultEqualityCheck:As}}),AA=vJ([AT],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(An)),A_=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),AC=vJ([AT],A_),AO=e=>e.map(e=>e.data).filter(Boolean).flat(1),AP=vJ([AT],AO,{memoizeOptions:{resultEqualityCheck:As}}),AR=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},AI=vJ([AP,Tx],AR),AD=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:jI(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:jI(e,t)}))):e.map(e=>({value:e})),AM=vJ([AI,Ay,AT],AD);function AL(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function AF(e){if(yZ(e)||e instanceof Date){var t=Number(e);if(Ns(t))return t}}function AU(e){if(Array.isArray(e)){var t=[AF(e[0]),AF(e[1])];return Tg(t)?t:void 0}var r=AF(e);if(null!=r)return[r,r]}function Az(e){return e.map(AF).filter(y5)}var AB=e=>{var t=Ao(e),r=Al(e);return Aw(e,t,r)},AV=vJ([AB],e=>null==e?void 0:e.dataKey),A$=vJ([AA,Tx,AB],Aa),AH=(e,t,r,a)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{})).map(t=>{var n,[i,s]=t,o=a?[...s].reverse():s,l=o.map(Ar);return[i,{stackedData:(n=jF[r],(function(){var e=jk([]),t=jA,r=jT,a=j_;function n(n){var i,s,o=Array.from(e.apply(this,arguments),jC),l=o.length,c=-1;for(let e of n)for(i=0,++c;i<l;++i)(o[i][c]=[0,+a(e,o[i].key,c,n)]).data=e;for(i=0,s=jS(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return n.keys=function(t){return arguments.length?(e="function"==typeof t?t:jk(Array.from(t)),n):e},n.value=function(e){return arguments.length?(a="function"==typeof e?e:jk(+e),n):a},n.order=function(e){return arguments.length?(t=null==e?jA:"function"==typeof e?e:jk(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(r=null==e?jT:e,n):r},n})().keys(l).value((e,t)=>Number(jI(e,t,0))).order(jA).offset(n)(e)),graphicalItems:o}]})),AW=vJ([A$,AA,TM,TL],AH),AG=(e,t,r,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(null==a&&"zAxis"!==r){var s=((e,t,r)=>{if(null!=e){let a;return[(a=Object.keys(e).reduce((a,n)=>{var{stackedData:i}=e[n],s=i.reduce((e,a)=>{var n,i=[Math.min(...n=jO(a,t,r).flat(2).filter(yX)),Math.max(...n)];return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],a[0]),Math.max(s[1],a[1])]},[1/0,-1/0]))[0]===1/0?0:a[0],a[1]===-1/0?0:a[1]]}})(e,n,i);if(null==s||0!==s[0]||0!==s[1])return s}},Aq=vJ([Ay],e=>e.allowDataOverflow),AK=e=>{var t;if(null==e||!("domain"in e))return Au;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=Az(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:Au},AY=vJ([Ay],AK),AX=vJ([AY,Aq],Tv),AZ=vJ([AW,Tp,Ae,AX],AG,{memoizeOptions:{resultEqualityCheck:Ai}}),AJ=e=>e.errorBars,AQ=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);if(0!==a.length){var n=a.flat();return[Math.min(...n),Math.max(...n)]}},A0=(e,t,r,a,n)=>{var i,s;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var o,l,c=null==(o=a[r.id])?void 0:o.filter(e=>AL(n,e)),d=jI(e,null!=(l=t.dataKey)?l:r.dataKey),u=!(!c||"number"!=typeof d||yK(d))&&c.length?Az(c.flatMap(t=>{var r,a,n=jI(e,t.dataKey);if(Array.isArray(n)?[r,a]=n:r=a=n,Ns(r)&&Ns(a))return[d-r,d+a]})):[];if(u.length>=2){var f=Math.min(...u),h=Math.max(...u);(null==i||f<i)&&(i=f),(null==s||h>s)&&(s=h)}var p=AU(d);null!=p&&(i=null==i?p[0]:Math.min(i,p[0]),s=null==s?p[1]:Math.max(s,p[1]))})}),(null==t?void 0:t.dataKey)!=null&&e.forEach(e=>{var r=AU(jI(e,t.dataKey));null!=r&&(i=null==i?r[0]:Math.min(i,r[0]),s=null==s?r[1]:Math.max(s,r[1]))}),Ns(i)&&Ns(s))return[i,s]},A1=vJ([AI,Ay,AC,AJ,Ae],A0,{memoizeOptions:{resultEqualityCheck:Ai}});function A2(e){var{value:t}=e;if(yZ(t)||t instanceof Date)return t}var A4=e=>e.referenceElements.dots,A3=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),A5=vJ([A4,Ae,At],A3),A6=e=>e.referenceElements.areas,A8=vJ([A6,Ae,At],A3),A7=e=>e.referenceElements.lines,A9=vJ([A7,Ae,At],A3),_e=(e,t)=>{var r=Az(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},_t=vJ(A5,Ae,_e),_r=(e,t)=>{var r=Az(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},_a=vJ([A8,Ae],_r),_n=(e,t)=>{var r=e.flatMap(e=>"xAxis"===t?function(e){if(null!=e.x)return Az([e.x]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:Az(r)}(e):function(e){if(null!=e.y)return Az([e.y]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:Az(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},_i=vJ([A9,Ae],_n),_s=vJ(_t,_i,_a,(e,t,r)=>AQ(e,r,t)),_o=(e,t,r,a,n,i,s,o)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var a=e(t,r);if(Tg(a))return Tb(a,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var n,i,[s,o]=e;if("auto"===s)null!=t&&(n=Math.min(...t));else if(yX(s))n=s;else if("function"==typeof s)try{null!=t&&(n=s(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof s&&jz.test(s)){var l=jz.exec(s);if(null==l||null==t)n=void 0;else{var c=+l[1];n=t[0]-c}}else n=null==t?void 0:t[0];if("auto"===o)null!=t&&(i=Math.max(...t));else if(yX(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof o&&jB.test(o)){var d=jB.exec(o);if(null==d||null==t)i=void 0;else{var u=+d[1];i=t[1]+u}}else i=null==t?void 0:t[1];var f=[n,i];if(Tg(f))return null==t?f:Tb(f,t,r)}}}(t,"vertical"===s&&"xAxis"===o||"horizontal"===s&&"yAxis"===o?AQ(a,i,n):AQ(i,n),e.allowDataOverflow),_l=vJ([Ay,AY,AX,AZ,A1,_s,Ny,Ae],_o,{memoizeOptions:{resultEqualityCheck:Ai}}),_c=[0,1],_d=(e,t,r,a,n,i,s)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==s){var o,l,{dataKey:c,type:d}=e,u=jD(t,i);return u&&null==c?(0,Nj.default)(0,null!=(l=null==r?void 0:r.length)?l:0):"category"===d?(o=a.map(A2).filter(e=>null!=e),u&&(null==e.dataKey||e.allowDuplicatedCategory&&y1(o))?(0,Nj.default)(0,a.length):e.allowDuplicatedCategory?o:Array.from(new Set(o))):"expand"===n?_c:s}},_u=vJ([Ay,Ny,AI,AM,TM,Ae,_l],_d),_f=(e,t,r,a,n)=>{if(null!=e){var{scale:i,type:s}=e;if("auto"===i)return"radial"===t&&"radiusAxis"===n?"band":"radial"===t&&"angleAxis"===n?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"==typeof i){var o="scale".concat(y3(i));return o in Th?o:"point"}}},_h=vJ([Ay,Ny,Aj,TF,Ae],_f);function _p(e,t,r,a){if(null!=r&&null!=a){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(a);var n=function(e){if(null!=e){if(e in Th)return Th[e]();var t="scale".concat(y3(e));if(t in Th)return Th[t]()}}(t);if(null!=n){var i=n.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-1e-4,i=Math.max(a[0],a[1])+1e-4,s=e(t[0]),o=e(t[r-1]);(s<n||s>i||o<n||o>i)&&e.domain([t[0],t[r-1]])}})(i),i}}}var _m=(e,t,r)=>{var a=AK(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(a)&&("auto"===a[0]||"auto"===a[1])&&Tg(e))return TI(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&Tg(e))return TD(e,t.tickCount,t.allowDecimals)}},_x=vJ([_u,Aw,_h],_m),_g=(e,t,r,a)=>"angleAxis"!==a&&(null==e?void 0:e.type)==="number"&&Tg(t)&&Array.isArray(r)&&r.length>0?[Math.min(t[0],r[0]),Math.max(t[1],r[r.length-1])]:t,_b=vJ([Ay,_u,_x,Ae],_g),_v=vJ(AM,Ay,(e,t)=>{if(t&&"number"===t.type){var r=1/0,a=Array.from(Az(e.map(e=>e.value))).sort((e,t)=>e-t);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(0===n)return 1/0;for(var i=0;i<a.length-1;i++)r=Math.min(r,a[i+1]-a[i]);return r/n}}),_y=vJ(_v,Ny,e=>e.rootProps.barCategoryGap,j1,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!Ns(e))return 0;var i="vertical"===t?a.height:a.width;if("gap"===n)return e*i/2;if("no-gap"===n){var s=y0(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),_w=vJ(Ap,(e,t)=>{var r=Ap(e,t);return null==r||"string"!=typeof r.padding?0:_y(e,"xAxis",t,r.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,a,{padding:n}=e;return"string"==typeof n?{left:t,right:t}:{left:(null!=(r=n.left)?r:0)+t,right:(null!=(a=n.right)?a:0)+t}}),_j=vJ(Ag,(e,t)=>{var r=Ag(e,t);return null==r||"string"!=typeof r.padding?0:_y(e,"yAxis",t,r.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,a,{padding:n}=e;return"string"==typeof n?{top:t,bottom:t}:{top:(null!=(r=n.top)?r:0)+t,bottom:(null!=(a=n.bottom)?a:0)+t}}),_N=vJ([j1,_w,j8,j6,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:i}=a;return n?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),_E=vJ([j1,Ny,_j,j8,j6,(e,t,r)=>r],(e,t,r,a,n,i)=>{var{padding:s}=n;return i?[a.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_S=(e,t,r,a)=>{var n;switch(t){case"xAxis":return _N(e,r,a);case"yAxis":return _E(e,r,a);case"zAxis":return null==(n=Av(e,r))?void 0:n.range;case"angleAxis":return T8(e);case"radiusAxis":return T7(e,r);default:return}},_k=vJ([Ay,_S],TX),_T=vJ([Ay,_h,_b,_k],_p);function _A(e,t){return e.id<t.id?-1:+(e.id>t.id)}vJ([AT,AJ,Ae],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>AL(r,e)));var __=(e,t)=>t,_C=(e,t,r)=>r,_O=vJ(jY,__,_C,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(_A)),_P=vJ(jX,__,_C,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(_A)),_R=(e,t)=>({width:e.width,height:t.height}),_I=vJ(j1,Ap,_R),_D=vJ(jG,j1,_O,__,_C,(e,t,r,a,n)=>{var i,s={};return r.forEach(r=>{var o=_R(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,a,e));var l="top"===a&&!n||"bottom"===a&&n;s[r.id]=i-Number(l)*o.height,i+=(l?-1:1)*o.height}),s}),_M=vJ(jW,j1,_P,__,_C,(e,t,r,a,n)=>{var i,s={};return r.forEach(r=>{var o={width:"number"==typeof r.width?r.width:60,height:t.height};null==i&&(i=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,a,e));var l="left"===a&&!n||"right"===a&&n;s[r.id]=i-Number(l)*o.width,i+=(l?-1:1)*o.width}),s}),_L=vJ([j1,Ap,(e,t)=>{var r=Ap(e,t);if(null!=r)return _D(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,a)=>{if(null!=t){var n=null==r?void 0:r[a];return null==n?{x:e.left,y:0}:{x:e.left,y:n}}}),_F=vJ([j1,Ag,(e,t)=>{var r=Ag(e,t);if(null!=r)return _M(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,a)=>{if(null!=t){var n=null==r?void 0:r[a];return null==n?{x:0,y:e.top}:{x:n,y:e.top}}}),_U=vJ(j1,Ag,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),_z=(e,t,r,a)=>{if(null!=r){var{allowDuplicatedCategory:n,type:i,dataKey:s}=r,o=jD(e,a),l=t.map(e=>e.value);if(s&&o&&"category"===i&&n&&y1(l))return l}},_B=vJ([Ny,AM,Ay,Ae],_z),_V=(e,t,r,a)=>{if(null!=r&&null!=r.dataKey){var{type:n,scale:i}=r;if(jD(e,a)&&("number"===n||"auto"!==i))return t.map(e=>e.value)}},_$=vJ([Ny,AM,Aw,Ae],_V),_H=vJ([Ny,(e,t,r)=>{switch(t){case"xAxis":return Ap(e,r);case"yAxis":return Ag(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},_h,_T,_B,_$,_S,_x,Ae],(e,t,r,a,n,i,s,o,l)=>{if(null!=t){var c=jD(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:n,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:a}}}),_W=vJ([Ny,Aw,_h,_T,_x,_S,_B,_$,Ae],(e,t,r,a,n,i,s,o,l)=>{if(null!=t&&null!=a){var c=jD(e,l),{type:d,ticks:u,tickCount:f}=t,h="scaleBand"===r&&"function"==typeof a.bandwidth?a.bandwidth()/2:2,p="category"===d&&a.bandwidth?a.bandwidth()/h:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*yq(i[0]-i[1])*p:p;var m=u||n;return m?m.map((e,t)=>({index:t,coordinate:a(s?s.indexOf(e):e)+p,value:e,offset:p})).filter(e=>Ns(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:a(e)+p,value:e,index:t,offset:p})).filter(e=>Ns(e.coordinate)):a.ticks?a.ticks(f).map(e=>({coordinate:a(e)+p,value:e,offset:p})):a.domain().map((e,t)=>({coordinate:a(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),_G=vJ([Ny,Aw,_T,_S,_B,_$,Ae],(e,t,r,a,n,i,s)=>{if(null!=t&&null!=r&&null!=a&&a[0]!==a[1]){var o=jD(e,s),{tickCount:l}=t,c=0;return(c="angleAxis"===s&&(null==a?void 0:a.length)>=2?2*yq(a[0]-a[1])*c:c,o&&i)?i.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:n?n[e]:e,index:t,offset:c}))}}),_q=vJ(Ay,_T,(e,t)=>{if(null!=e&&null!=t)return Ad(Ad({},e),{},{scale:t})}),_K=vJ([Ay,_h,_u,_k],_p);vJ((e,t,r)=>Av(e,r),_K,(e,t)=>{if(null!=e&&null!=t)return Ad(Ad({},e),{},{scale:t})});var _Y=vJ([Ny,jY,jX],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_X=e=>e.options.defaultTooltipEventType,_Z=e=>e.options.validateTooltipEventTypes;function _J(e,t,r){if(null==e)return t;var a=e?"axis":"item";return null==r?t:r.includes(a)?a:t}function _Q(e,t){return _J(t,_X(e),_Z(e))}var _0=(e,t)=>{var r,a=Number(t);if(!yK(a)&&null!=t)return a>=0?null==e||null==(r=e[a])?void 0:r.value:void 0};function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _4=(e,t,r,a)=>{if(null==t)return wJ;var n,i,s,o=(n=e,i=t,s=r,"axis"===i?"click"===s?n.axisInteraction.click:n.axisInteraction.hover:"click"===s?n.itemInteraction.click:n.itemInteraction.hover);if(null==o)return wJ;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var l=!0===e.settings.active;if(null!=o.index){if(l)return _2(_2({},o),{},{active:!0})}else if(null!=a)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return _2(_2({},wJ),{},{coordinate:o.coordinate})},_3=(e,t,r,a)=>{var n=null==e?void 0:e.index;if(null==n)return null;var i=Number(n);if(!Ns(i))return n;var s=Infinity;t.length>0&&(s=t.length-1);var o=Math.max(0,Math.min(i,s)),l=t[o];return null==l?String(o):!function(e,t,r){if(null==r||null==t)return!0;var a=jI(e,t);return!(null!=a&&Tg(r))||function(e,t){var r=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),a=t[0],n=t[1];if(void 0===r)return!1;var i=Math.min(a,n),s=Math.max(a,n);return r>=i&&r<=s}(a,r)}(l,r,a)?null:String(o)},_5=(e,t,r,a,n,i,s,o)=>{if(null!=i&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,i);if(null!=c)return c;var d=null==n?void 0:n[Number(i)];if(d)if("horizontal"===r)return{x:d.coordinate,y:(a.top+t)/2};else return{x:(a.left+e)/2,y:d.coordinate}}},_6=(e,t,r,a)=>{var n;return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(n="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=a?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.dataKey)===n})},_8=e=>e.options.tooltipPayloadSearcher,_7=e=>e.tooltip;function _9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_9(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ct=(e,t,r,a,n,i,s)=>{if(null!=t&&null!=i){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,f,h,{dataDefinedOnItem:p,settings:m}=r,x=null!=p?p:o,g=Array.isArray(x)?jO(x,c,d):x,b=null!=(u=null==m?void 0:m.dataKey)?u:a,v=null==m?void 0:m.nameKey;return Array.isArray(f=a&&Array.isArray(g)&&!Array.isArray(g[0])&&"axis"===s?y4(g,a,n):i(g,t,l,v))?f.forEach(t=>{var r=Ce(Ce({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(j$({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:jI(t.payload,t.dataKey),name:t.name}))}):e.push(j$({tooltipEntrySettings:m,dataKey:b,payload:f,value:jI(f,b),name:null!=(h=jI(f,v))?h:null==m?void 0:m.name})),e},[])}},Cr=vJ([AB,Ny,Aj,TF,Ao],_f),Ca=vJ([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cn=vJ([Ao,Al],AN),Ci=vJ([Ca,AB,Cn],Ak,{memoizeOptions:{resultEqualityCheck:As}}),Cs=vJ([Ci],e=>e.filter(An)),Co=vJ([Ci],AO,{memoizeOptions:{resultEqualityCheck:As}}),Cl=vJ([Co,Tp],AR),Cc=vJ([Cs,Tp,AB],Aa),Cd=vJ([Cl,AB,Ci],AD),Cu=vJ([AB],AK),Cf=vJ([AB],e=>e.allowDataOverflow),Ch=vJ([Cu,Cf],Tv),Cp=vJ([Ci],e=>e.filter(An)),Cm=vJ([Cc,Cp,TM,TL],AH),Cx=vJ([Cm,Tp,Ao,Ch],AG),Cg=vJ([Ci],A_),Cb=vJ([Cl,AB,Cg,AJ,Ao],A0,{memoizeOptions:{resultEqualityCheck:Ai}}),Cv=vJ([A4,Ao,Al],A3),Cy=vJ([Cv,Ao],_e),Cw=vJ([A6,Ao,Al],A3),Cj=vJ([Cw,Ao],_r),CN=vJ([A7,Ao,Al],A3),CE=vJ([CN,Ao],_n),CS=vJ([Cy,CE,Cj],AQ),Ck=vJ([AB,Cu,Ch,Cx,Cb,CS,Ny,Ao],_o),CT=vJ([AB,Ny,Cl,Cd,TM,Ao,Ck],_d),CA=vJ([CT,AB,Cr],_m),C_=vJ([AB,CT,CA,Ao],_g),CC=e=>{var t=Ao(e),r=Al(e);return _S(e,t,r,!1)},CO=vJ([AB,CC],TX),CP=vJ([AB,Cr,C_,CO],_p),CR=vJ([Ny,Cd,AB,Ao],_z),CI=vJ([Ny,Cd,AB,Ao],_V),CD=vJ([Ny,AB,Cr,CP,CC,CR,CI,Ao],(e,t,r,a,n,i,s,o)=>{if(t){var{type:l}=t,c=jD(e,o);if(a){var d="scaleBand"===r&&a.bandwidth?a.bandwidth()/2:2,u="category"===l&&a.bandwidth?a.bandwidth()/d:0;return(u="angleAxis"===o&&null!=n&&(null==n?void 0:n.length)>=2?2*yq(n[0]-n[1])*u:u,c&&s)?s.map((e,t)=>({coordinate:a(e)+u,value:e,index:t,offset:u})):a.domain().map((e,t)=>({coordinate:a(e)+u,value:i?i[e]:e,index:t,offset:u}))}}}),CM=vJ([_X,_Z,e=>e.tooltip.settings],(e,t,r)=>_J(r.shared,e,t)),CL=e=>e.tooltip.settings.trigger,CF=e=>e.tooltip.settings.defaultIndex,CU=vJ([_7,CM,CL,CF],_4),Cz=vJ([CU,Cl,AV,CT],_3),CB=vJ([CD,Cz],_0),CV=vJ([CU],e=>{if(e)return e.dataKey}),C$=vJ([_7,CM,CL,CF],_6),CH=vJ([jW,jG,Ny,j1,CD,CF,C$,_8],_5),CW=vJ([CU,CH],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),CG=vJ([CU],e=>e.active),Cq=vJ([C$,Cz,Tp,AV,CB,_8,CM],Ct),CK=vJ([Cq],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});function CY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function CX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CY(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var CZ=(e,t,r,a,n)=>{var i,s=-1,o=null!=(i=null==t?void 0:t.length)?i:0;if(o<=1||null==e)return 0;if("angleAxis"===a&&null!=n&&1e-6>=Math.abs(Math.abs(n[1]-n[0])-360))for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,u=l>=o-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(yq(d-c)!==yq(u-d)){var h=[];if(yq(u-d)===yq(n[1]-n[0])){f=u;var p=d+n[1]-n[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=u+n[1]-n[0];h[0]=Math.min(d,(m+d)/2),h[1]=Math.max(d,(m+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){({index:s}=r[l]);break}}else{var g=Math.min(c,u),b=Math.max(c,u);if(e>(g+d)/2&&e<=(b+d)/2){({index:s}=r[l]);break}}}else if(t){for(var v=0;v<o;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:s}=t[v]);break}}return s},CJ=(e,t)=>t,CQ=(e,t,r)=>r,C0=(e,t,r,a)=>a,C1=vJ(CD,e=>(0,jj.default)(e,e=>e.coordinate)),C2=vJ([_7,CJ,CQ,C0],_4),C4=vJ([C2,Cl,AV,CT],_3),C3=vJ([_7,CJ,CQ,C0],_6),C5=vJ([jW,jG,Ny,j1,CD,C0,C3,_8],_5),C6=vJ([C2,C5],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t}),C8=vJ([CD,C4],_0),C7=vJ([C3,C4,Tp,AV,C8,_8,CJ],Ct),C9=vJ([C2,C4],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),Oe=vJ([(e,t)=>t,Ny,T9,Ao,CO,CD,C1,j1],(e,t,r,a,n,i,s,o)=>{if(e&&t&&a&&n&&i){if("horizontal"===t||"vertical"===t){if(!e||!a||!n||!i)return;if(function(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}(e,o)){var l=CZ("horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0,s,i,a,n),c=((e,t,r,a)=>{var n=t.find(e=>e&&e.index===r);if(n){if("horizontal"===e)return{x:n.coordinate,y:a.chartY};if("vertical"===e)return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}return}if(e&&a&&n&&i&&r){var d=((e,t)=>{var r,{chartX:a,chartY:n}=e,{radius:i,angle:s}=((e,t)=>{var{x:r,y:a}=e,{cx:n,cy:i}=t,s=((e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return Math.sqrt((r-n)**2+(a-i)**2)})({x:r,y:a},{x:n,y:i});if(s<=0)return{radius:s,angle:0};var o=Math.acos((r-n)/s);return a>i&&(o=2*Math.PI-o),{radius:s,angle:180*o/Math.PI,angleInRadian:o}})({x:a,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||0===i)return null;var{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,a=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*a,endAngle:r-360*a}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;r=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;r=u>=d&&u<=c}return r?T$(T$({},t),{},{radius:i,angle:((e,t)=>{var{startAngle:r,endAngle:a}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(a/360))})(u,t)}):null})(e,r);if(d){var u=CZ("centric"===t?d.angle:d.radius,s,i,a,n),f=((e,t,r,a)=>{var n=t.find(e=>e&&e.index===r);if(n){if("centric"===e){var i=n.coordinate,{radius:s}=a;return CX(CX(CX({},a),TW(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var o=n.coordinate,{angle:l}=a;return CX(CX(CX({},a),TW(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,i,u,d);return{activeIndex:String(u),activeCoordinate:f}}return}}}),Ot=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},Or=yt("mouseClick"),Oa=yH();Oa.startListening({actionCreator:Or,effect:(e,t)=>{var r=e.payload,a=Oe(t.getState(),Ot(r));(null==a?void 0:a.activeIndex)!=null&&t.dispatch(w9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var On=yt("mouseMove"),Oi=yH(),Os=null;function Oo(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}function Ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Oi.startListening({actionCreator:On,effect:(e,t)=>{var r=e.payload;null!==Os&&cancelAnimationFrame(Os);var a=Ot(r);Os=requestAnimationFrame(()=>{var e=t.getState();if("axis"===_Q(e,e.tooltip.settings.shared)){var r=Oe(e,a);(null==r?void 0:r.activeIndex)!=null?t.dispatch(w7({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(w6())}Os=null})}});var Od=yf({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ys()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:ys()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ys()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ys()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:ys()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ys()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ys()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:ys()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ys()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,n=e.yAxis[r];if(n){var i=n.widthHistory||[];if(3===i.length&&i[0]===i[2]&&a===i[1]&&a!==n.width&&1>=Math.abs(a-i[0]))return;var s=[...i,a].slice(-3);e.yAxis[r]=Oc(Oc({},e.yAxis[r]),{},{width:a,widthHistory:s})}}}}),{addXAxis:Ou,replaceXAxis:Of,removeXAxis:Oh,addYAxis:Op,replaceYAxis:Om,removeYAxis:Ox,addZAxis:Og,replaceZAxis:Ob,removeZAxis:Ov,updateYAxisWidth:Oy}=Od.actions,Ow=Od.reducer,Oj=yf({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ys()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,n=vR(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},prepare:ys()},removeCartesianGraphicalItem:{reducer(e,t){var r=vR(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ys()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ys()},removePolarGraphicalItem:{reducer(e,t){var r=vR(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ys()}}}),{addCartesianGraphicalItem:ON,replaceCartesianGraphicalItem:OE,removeCartesianGraphicalItem:OS,addPolarGraphicalItem:Ok,removePolarGraphicalItem:OT}=Oj.actions,OA=Oj.reducer,O_=yf({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=vR(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=vR(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=vR(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:OC,removeDot:OO,addArea:OP,removeArea:OR,addLine:OI,removeLine:OD}=O_.actions,OM=O_.reducer,OL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OF=yf({name:"brush",initialState:OL,reducers:{setBrushSettings:(e,t)=>null==t.payload?OL:t.payload}}),{setBrushSettings:OU}=OF.actions,Oz=OF.reducer,OB=yf({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ys()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,n=vR(e).payload.indexOf(r);n>-1&&(e.payload[n]=a)},prepare:ys()},removeLegendPayload:{reducer(e,t){var r=vR(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ys()}}}),{setLegendSize:OV,setLegendSettings:O$,addLegendPayload:OH,replaceLegendPayload:OW,removeLegendPayload:OG}=OB.actions,Oq=OB.reducer,OK={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OY=yf({name:"rootProps",initialState:OK,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:OK.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),OX=OY.reducer,{updateOptions:OZ}=OY.actions,OJ=yf({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:OQ,removeRadiusAxis:O0,addAngleAxis:O1,removeAngleAxis:O2}=OJ.actions,O4=OJ.reducer,O3=yf({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:O5}=O3.actions,O6=O3.reducer,O8=yt("keyDown"),O7=yt("focus"),O9=yH();O9.startListening({actionCreator:O8,effect:(e,t)=>{var r=t.getState();if(!1===r.rootProps.accessibilityLayer)return;var{keyboardInteraction:a}=r.tooltip,n=e.payload;if("ArrowRight"===n||"ArrowLeft"===n||"Enter"===n){var i=_3(a,Cl(r),AV(r),CT(r)),s=null==i?-1:Number(i);if(Number.isFinite(s)&&!(s<0)){var o=CD(r);if("Enter"===n){var l=C5(r,"axis","hover",String(a.index));t.dispatch(jt({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var c=s+("ArrowRight"===n?1:-1)*("left-to-right"===_Y(r)?1:-1);if(null!=o&&!(c>=o.length)&&!(c<0)){var d=C5(r,"axis","hover",String(c));t.dispatch(jt({active:!0,activeIndex:c.toString(),activeDataKey:void 0,activeCoordinate:d}))}}}}}),O9.startListening({actionCreator:O7,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&null==a.index){var n=C5(r,"axis","hover",String("0"));t.dispatch(jt({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:n}))}}}});var Pe=yt("externalEvent"),Pt=yH(),Pr=new Map;Pt.startListening({actionCreator:Pe,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(null!=r){a.persist();var n=a.type,i=Pr.get(n);void 0!==i&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var e=t.getState(),i={activeCoordinate:CW(e),activeDataKey:CV(e),activeIndex:Cz(e),activeLabel:CB(e),activeTooltipIndex:Cz(e),isTooltipActive:CG(e)};r(i,a)}finally{Pr.delete(n)}});Pr.set(n,s)}}});var Pa=vJ([_7],e=>e.tooltipItemPayloads),Pn=vJ([Pa,_8,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(e=>e.settings.dataKey===a);if(null!=n){var{positions:i}=n;if(null!=i)return t(i,r)}}),Pi=yt("touchMove"),Ps=yH();Ps.startListening({actionCreator:Pi,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var a=t.getState(),n=_Q(a,a.tooltip.settings.shared);if("axis"===n){var i=Oe(a,Ot({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(null==i?void 0:i.activeIndex)!=null&&t.dispatch(w7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===n){var s,o=r.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(jZ),d=null!=(s=l.getAttribute(jJ))?s:void 0,u=Pn(t.getState(),c,d);t.dispatch(w3({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}}});var Po=yf({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===a.dataKey&&e.direction===a.direction?n:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==a.dataKey||e.direction!==a.direction))}}}),{addErrorBar:Pl,replaceErrorBar:Pc,removeErrorBar:Pd}=Po.actions,Pu=Po.reducer,Pf={devToolsEnabled:!1,isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)};function Ph(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ph(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ph(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Pm={zIndexMap:Object.values(Tq).reduce((e,t)=>Pp(Pp({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},Px=new Set(Object.values(Tq)),Pg=yf({name:"zIndex",initialState:Pm,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ys()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Px.has(r)&&delete e.zIndexMap[r])},prepare:ys()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:n}=t.payload;e.zIndexMap[r]?n?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:n?void 0:a,panoramaElementId:n?a:void 0}},prepare:ys()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:ys()}}}),{registerZIndexPortal:Pb,unregisterZIndexPortal:Pv,registerZIndexPortalId:Py,unregisterZIndexPortalId:Pw}=Pg.actions,Pj=v5({brush:Oz,cartesianAxis:Ow,chartData:jo,errorBars:Pu,graphicalItems:OA,layout:jh,legend:Oq,options:y9,polarAxis:O4,polarOptions:O6,referenceElements:OM,rootProps:OX,tooltip:jr,zIndex:Pg.reducer}),PN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,a,n=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:n=!0}=e??{},i=new yr;return t&&("boolean"==typeof t?i.push(v9):i.push(v7(t.extraArgument))),i},{reducer:i,middleware:s,devTools:o=!0,duplicateMiddlewareCheck:l=!0,preloadedState:c,enhancers:d}=e||{};if("function"==typeof i)t=i;else if(v3(i))t=v5(i);else throw Error(yW(1));r="function"==typeof s?s(n):n();let u=v6;o&&(u=ye({trace:!1,..."object"==typeof o&&o}));let f=(a=function(...e){return t=>(r,a)=>{let n=t(r,a),i=()=>{throw Error(v0(15))},s={getState:n.getState,dispatch:(e,...t)=>i(e,...t)};return i=v6(...e.map(e=>e(s)))(n.dispatch),{...n,dispatch:i}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new yr(a);return t&&r.push(yl("object"==typeof t?t:void 0)),r});return function e(t,r,a){if("function"!=typeof t)throw Error(v0(2));if("function"==typeof r&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw Error(v0(0));if("function"==typeof r&&void 0===a&&(a=r,r=void 0),void 0!==a){if("function"!=typeof a)throw Error(v0(1));return a(e)(t,r)}let n=t,i=r,s=new Map,o=s,l=0,c=!1;function d(){o===s&&(o=new Map,s.forEach((e,t)=>{o.set(t,e)}))}function u(){if(c)throw Error(v0(3));return i}function f(e){if("function"!=typeof e)throw Error(v0(4));if(c)throw Error(v0(5));let t=!0;d();let r=l++;return o.set(r,e),function(){if(t){if(c)throw Error(v0(6));t=!1,d(),o.delete(r),s=null}}}function h(e){if(!v3(e))throw Error(v0(7));if(void 0===e.type)throw Error(v0(8));if("string"!=typeof e.type)throw Error(v0(17));if(c)throw Error(v0(9));try{c=!0,i=n(i,e)}finally{c=!1}return(s=o).forEach(e=>{e()}),e}return h({type:v4.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw Error(v0(10));n=e,h({type:v4.REPLACE})},[v1]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(v0(11));function t(){e.next&&e.next(u())}return t(),{unsubscribe:f(t)}},[v1](){return this}}}}}(t,c,u(..."function"==typeof d?d(f):f()))}({reducer:Pj,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([Oa.middleware,Oi.middleware,O9.middleware,Pt.middleware,Ps.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(yl({type:"raf"}))},devTools:Pf.devToolsEnabled&&{serialize:{replacer:Oo},name:"recharts-".concat(t)}})};function PE(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=j5(),i=(0,ev.useRef)(null);return n?r:(null==i.current&&(i.current=PN(t,a)),ev.createElement(wc,{context:jm,store:i.current},r))}var PS=e=>{var{chartData:t}=e,r=jg(),a=j5();return(0,ev.useEffect)(()=>a?()=>{}:(r(jn(t)),()=>{r(jn(void 0))}),[t,r,a]),null},Pk=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function PT(e,t){for(var r of new Set([...Object.keys(e),...Object.keys(t)]))if(Pk.has(r)){if(null==e[r]&&null==t[r])continue;if(!function(e,t){if(wi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!wi(e[r[a]],t[r[a]]))return!1;return!0}(e[r],t[r]))return!1}else{var a,n;if(a=e[r],n=t[r],(null!=a||null!=n)&&("number"==typeof a&&"number"==typeof n?a!==n&&(a==a||n==n):a!==n))return!1}return!0}var PA=(0,ev.memo)(function(e){var{layout:t,margin:r}=e,a=jg(),n=j5();return(0,ev.useEffect)(()=>{n||(a(jd(t)),a(jc(r)))},[a,n,t,r]),null},PT);function P_(e){var t=jg();return(0,ev.useEffect)(()=>{t(OZ(e))},[t,e]),null}var PC=()=>{var e;return null==(e=jw(e=>e.rootProps.accessibilityLayer))||e},PO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PP(e){return"string"==typeof e&&PO.includes(e)}var PR=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function PI(e){return"string"==typeof e&&PR.has(e)}function PD(e){return"string"==typeof e&&e.startsWith("data-")}function PM(e){if("object"!=typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PI(r)||PD(r))&&(t[r]=e[r]);return t}function PL(e){return null==e?null:(0,ev.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?PM(e.props):"object"!=typeof e||Array.isArray(e)?null:PM(e)}function PF(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PI(r)||PD(r)||PP(r))&&(t[r]=e[r]);return t}var PU=["children","width","height","viewBox","className","style","title","desc"];function Pz(){return(Pz=Object.assign.bind()).apply(null,arguments)}var PB=(0,ev.forwardRef)((e,t)=>{var{children:r,width:a,height:n,viewBox:i,className:s,style:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,PU),u=i||{width:a,height:n,x:0,y:0},f=j7("recharts-surface",s);return ev.createElement("svg",Pz({},PF(d),{className:f,width:a,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),ev.createElement("title",null,l),ev.createElement("desc",null,c),r)}),PV=null!=(eg=ev["useId".toString()])?eg:()=>{var[e]=ev.useState(()=>yQ("uid-"));return e};function P$(e,t){var r=PV();return t||(e?"".concat(e,"-").concat(r):r)}var PH=vJ(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var a=e[t];if(null!=a)return r?a.panoramaElementId:a.elementId}}),PW=vJ(e=>e.zIndex.zIndexMap,e=>Array.from(new Set(Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(Tq)))).sort((e,t)=>e-t),{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function PG(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",n=P$("".concat(a).concat(t)),i=jg();return(0,ev.useLayoutEffect)(()=>(i(Py({zIndex:t,elementId:n,isPanorama:r})),()=>{i(Pw({zIndex:t,isPanorama:r}))}),[i,t,n,r]),ev.createElement("g",{id:n})}function Pq(e){var{children:t,isPanorama:r}=e,a=jw(PW);if(!a||0===a.length)return t;var n=a.filter(e=>e<0),i=a.filter(e=>e>0);return ev.createElement(ev.Fragment,null,n.map(e=>ev.createElement(PG,{key:e,zIndex:e,isPanorama:r})),t,i.map(e=>ev.createElement(PG,{key:e,zIndex:e,isPanorama:r})))}var PK=["children"];function PY(){return(PY=Object.assign.bind()).apply(null,arguments)}var PX={width:"100%",height:"100%",display:"block"},PZ=(0,ev.forwardRef)((e,t)=>{var r,a,n=jw(jW),i=jw(jG),s=PC();if(!No(n)||!No(i))return null;var{children:o,otherAttributes:l,title:c,desc:d}=e;return null!=l&&(r="number"==typeof l.tabIndex?l.tabIndex:s?0:void 0,a="string"==typeof l.role?l.role:s?"application":void 0),ev.createElement(PB,PY({},l,{title:c,desc:d,role:a,tabIndex:r,width:n,height:i,style:PX,ref:t}),o)}),PJ=e=>{var{children:t}=e,r=jw(j8);if(!r)return null;var{width:a,height:n,y:i,x:s}=r;return ev.createElement(PB,{width:a,height:n,x:s,y:i},t)},PQ=(0,ev.forwardRef)((e,t)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,PK);return j5()?ev.createElement(PJ,null,ev.createElement(Pq,{isPanorama:!0},r)):ev.createElement(PZ,PY({ref:t},a),ev.createElement(Pq,{isPanorama:!1},r))}),P0=new(e.i(78492)).default,P1="recharts.syncEvent.tooltip",P2="recharts.syncEvent.brush";function P4(e){return e.tooltip.syncInteraction}var P3=["x","y"];function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P8=(0,ev.createContext)(null),P7=(0,ev.createContext)(null);function P9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Re(){return(Re=Object.assign.bind()).apply(null,arguments)}var Rt=()=>{var e,t,r,a,n,i,s,o,l,c,d,u;return e=jg(),(0,ev.useEffect)(()=>{e(we())},[e]),t=jw(TU),r=jw(TB),a=jg(),n=jw(Tz),i=jw(CD),s=jw(Ny),o=Ng(),l=jw(e=>e.rootProps.className),(0,ev.useEffect)(()=>{if(null==t)return y6;var e=(e,l,c)=>{if(r!==c&&t===e){if("index"===n){if(o&&null!=l&&null!=(d=l.payload)&&d.coordinate&&l.payload.sourceViewBox){var d,u,f=l.payload.coordinate,{x:h,y:p}=f,m=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(f,P3),{x:x,y:g,width:b,height:v}=l.payload.sourceViewBox,y=P6(P6({},m),{},{x:o.x+(b?(h-x)/b:0)*o.width,y:o.y+(v?(p-g)/v:0)*o.height});a(P6(P6({},l),{},{payload:P6(P6({},l.payload),{},{coordinate:y})}))}else a(l);return}if(null!=i){if("function"==typeof n){var w=n(i,{activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate});u=i[w]}else"value"===n&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:j}=l.payload;if(null==u||!1===l.payload.active||null==j||null==o)return void a(je({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));var{x:N,y:E}=j,S=Math.min(N,o.x+o.width),k=Math.min(E,o.y+o.height),T={x:"horizontal"===s?u.coordinate:S,y:"horizontal"===s?k:u.coordinate};a(je({active:l.payload.active,coordinate:T,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox}))}}};return P0.on(P1,e),()=>{P0.off(P1,e)}},[l,a,r,t,n,i,s,o]),c=jw(TU),d=jw(TB),u=jg(),(0,ev.useEffect)(()=>{if(null==c)return y6;var e=(e,t,r)=>{d!==r&&c===e&&u(ji(t))};return P0.on(P2,e),()=>{P0.off(P2,e)}},[u,d,c]),null};function Rr(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ra=(0,ev.forwardRef)((e,t)=>{var r,a,n=(0,ev.useRef)(null),[i,s]=(0,ev.useState)({containerWidth:Rr(null==(r=e.style)?void 0:r.width),containerHeight:Rr(null==(a=e.style)?void 0:a.height)}),o=(0,ev.useCallback)((e,t)=>{s(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]),l=(0,ev.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:r,height:a}=e.getBoundingClientRect();o(r,a);var i=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;o(t,r)});i.observe(e),n.current=i}},[t,o]);return(0,ev.useEffect)(()=>()=>{var e=n.current;null!=e&&e.disconnect()},[o]),ev.createElement(ev.Fragment,null,ev.createElement(Nw,{width:i.containerWidth,height:i.containerHeight}),ev.createElement("div",Re({ref:l},e)))}),Rn=(0,ev.forwardRef)((e,t)=>{var{width:r,height:a}=e,[n,i]=(0,ev.useState)({containerWidth:Rr(r),containerHeight:Rr(a)}),s=(0,ev.useCallback)((e,t)=>{i(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]),o=(0,ev.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:a}=e.getBoundingClientRect();s(r,a)}},[t,s]);return ev.createElement(ev.Fragment,null,ev.createElement(Nw,{width:n.containerWidth,height:n.containerHeight}),ev.createElement("div",Re({ref:o},e)))}),Ri=(0,ev.forwardRef)((e,t)=>{var{width:r,height:a}=e;return ev.createElement(ev.Fragment,null,ev.createElement(Nw,{width:r,height:a}),ev.createElement("div",Re({ref:t},e)))}),Rs=(0,ev.forwardRef)((e,t)=>{var{width:r,height:a}=e;return yY(r)||yY(a)?ev.createElement(Rn,Re({},e,{ref:t})):ev.createElement(Ri,Re({},e,{ref:t}))}),Ro=(0,ev.forwardRef)((e,t)=>{var{children:r,className:a,height:n,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:u,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:m,style:x,width:g,responsive:b,dispatchTouchEvents:v=!0}=e,y=(0,ev.useRef)(null),w=jg(),[j,N]=(0,ev.useState)(null),[E,S]=(0,ev.useState)(null),k=function(){var e=jg(),[t,r]=(0,ev.useState)(null),a=jw(jq);return(0,ev.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;Ns(r)&&r!==a&&e(jf(r))}},[t,e,a]),r}(),T=Nh(),A=(null==T?void 0:T.width)>0?T.width:g,_=(null==T?void 0:T.height)>0?T.height:n,C=(0,ev.useCallback)(e=>{k(e),"function"==typeof t&&t(e),N(e),S(e),null!=e&&(y.current=e)},[k,t,N,S]),O=(0,ev.useCallback)(e=>{w(Or(e)),w(Pe({handler:i,reactEvent:e}))},[w,i]),P=(0,ev.useCallback)(e=>{w(On(e)),w(Pe({handler:c,reactEvent:e}))},[w,c]),R=(0,ev.useCallback)(e=>{w(w6()),w(Pe({handler:d,reactEvent:e}))},[w,d]),I=(0,ev.useCallback)(e=>{w(On(e)),w(Pe({handler:u,reactEvent:e}))},[w,u]),D=(0,ev.useCallback)(()=>{w(O7())},[w]),M=(0,ev.useCallback)(e=>{w(O8(e.key))},[w]),L=(0,ev.useCallback)(e=>{w(Pe({handler:s,reactEvent:e}))},[w,s]),F=(0,ev.useCallback)(e=>{w(Pe({handler:o,reactEvent:e}))},[w,o]),U=(0,ev.useCallback)(e=>{w(Pe({handler:l,reactEvent:e}))},[w,l]),z=(0,ev.useCallback)(e=>{w(Pe({handler:f,reactEvent:e}))},[w,f]),B=(0,ev.useCallback)(e=>{w(Pe({handler:m,reactEvent:e}))},[w,m]),V=(0,ev.useCallback)(e=>{v&&w(Pi(e)),w(Pe({handler:p,reactEvent:e}))},[w,v,p]),H=(0,ev.useCallback)(e=>{w(Pe({handler:h,reactEvent:e}))},[w,h]);return ev.createElement(P8.Provider,{value:j},ev.createElement(P7.Provider,{value:E},ev.createElement(!0===b?Ra:Rs,{width:null!=A?A:null==x?void 0:x.width,height:null!=_?_:null==x?void 0:x.height,className:j7("recharts-wrapper",a),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P9(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:A,height:_},x),onClick:O,onContextMenu:L,onDoubleClick:F,onFocus:D,onKeyDown:M,onMouseDown:U,onMouseEnter:P,onMouseLeave:R,onMouseMove:I,onMouseUp:z,onTouchEnd:H,onTouchMove:V,onTouchStart:B,ref:C},ev.createElement(Rt,null),r)))}),Rl=vJ([j1],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Rc=vJ([Rl,jW,jG],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Rd=(0,ev.createContext)(void 0),Ru=e=>{var{children:t}=e,[r]=(0,ev.useState)("".concat(yQ("recharts"),"-clip")),a=jw(Rc);if(null==a)return null;var{x:n,y:i,width:s,height:o}=a;return ev.createElement(Rd.Provider,{value:r},ev.createElement("defs",null,ev.createElement("clipPath",{id:r},ev.createElement("rect",{x:n,y:i,height:o,width:s}))),t)},Rf=["width","height","responsive","children","className","style","compact","title","desc"],Rh=(0,ev.forwardRef)((e,t)=>{var{width:r,height:a,responsive:n,children:i,className:s,style:o,compact:l,title:c,desc:d}=e,u=PM(function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Rf));return l?ev.createElement(ev.Fragment,null,ev.createElement(Nw,{width:r,height:a}),ev.createElement(PQ,{otherAttributes:u,title:c,desc:d},i)):ev.createElement(Ro,{className:s,style:o,width:r,height:a,responsive:null!=n&&n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},ev.createElement(PQ,{otherAttributes:u,title:c,desc:d,ref:t},ev.createElement(Ru,null,i)))});function Rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Rm(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}function Rx(){return(Rx=Object.assign.bind()).apply(null,arguments)}var Rg={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},Rb=(0,ev.forwardRef)(function(e,t){var r,a=Rm(e.categoricalChartProps,Rg),{chartName:n,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:o,categoricalChartProps:l}=e;return ev.createElement(PE,{preloadedState:{options:{chartName:n,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:o,eventEmitter:void 0}},reduxStoreName:null!=(r=l.id)?r:n},ev.createElement(PS,{chartData:l.data}),ev.createElement(PA,{layout:a.layout,margin:a.margin}),ev.createElement(P_,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),ev.createElement(Rh,Rx({},a,{ref:t})))}),Rv=["axis"],Ry=(0,ev.forwardRef)((e,t)=>ev.createElement(Rb,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rv,tooltipPayloadSearcher:y8,categoricalChartProps:e,ref:t})),Rw=ev,Rj=["children","className"];function RN(){return(RN=Object.assign.bind()).apply(null,arguments)}var RE=ev.forwardRef((e,t)=>{var{children:r,className:a}=e,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Rj),i=j7("recharts-layer",a);return ev.createElement("g",RN({className:i},PF(n),{ref:t}),r)}),RS=e.i(4178);function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var RT=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),RA=new class{constructor(e){!function(e,t,r){var a;(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(RT.cacheSize),R_={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RC="recharts_measurement_span",RO=(e,t)=>{try{var r=document.getElementById(RC);r||((r=document.createElement("span")).setAttribute("id",RC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,R_,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch(e){return{width:0,height:0}}},RP=function(e){var t,r,a,n,i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Pf.isSsr)return{width:0,height:0};if(!RT.enableCache)return RO(e,o);var l=(t=o.fontSize||"",r=o.fontFamily||"",a=o.fontWeight||"",n=o.fontStyle||"",i=o.letterSpacing||"",s=o.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(s)),c=RA.get(l);if(c)return c;var d=RO(e,o);return RA.set(l,d),d},RR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RD=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},RF=Object.keys(RL);class RU{static parse(e){var t,[,r,a]=null!=(t=RM.exec(e))?t:[];return new RU(parseFloat(r),null!=a?a:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,yK(e)&&(this.unit=""),""===t||RD.test(t)||(this.num=NaN,this.unit=""),RF.includes(t)&&(this.num=e*RL[t],this.unit="px")}add(e){return this.unit!==e.unit?new RU(NaN,""):new RU(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new RU(NaN,""):new RU(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new RU(NaN,""):new RU(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new RU(NaN,""):new RU(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yK(this.num)}}function Rz(e){if(e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,i]=null!=(r=RR.exec(t))?r:[],s=RU.parse(null!=a?a:""),o=RU.parse(null!=i?i:""),l="*"===n?s.multiply(o):s.divide(o);if(l.isNaN())return"NaN";t=t.replace(RR,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,f]=null!=(c=RI.exec(t))?c:[],h=RU.parse(null!=d?d:""),p=RU.parse(null!=f?f:""),m="+"===u?h.add(p):h.subtract(p);if(m.isNaN())return"NaN";t=t.replace(RI,m.toString())}return t}var RB=/\(([^()]*)\)/;function RV(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=RB.exec(r));){var[,a]=t;r=r.replace(RB,Rz(a))}return r}(t),t=Rz(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var R$=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],RH=["dx","dy","angle","className","breakAll"];function RW(){return(RW=Object.assign.bind()).apply(null,arguments)}function RG(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Rq=/[ \f\n\r\t\v\u2028\u2029]+/,RK=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];null!=t&&(n=r?t.toString().split(""):t.toString().split(Rq));var i=n.map(e=>({word:e,width:RP(e,a).width})),s=r?0:RP("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch(e){return null}},RY=(e,t,r,a)=>e.reduce((e,n)=>{var{word:i,width:s}=n,o=e[e.length-1];return o&&null!=s&&(null==t||a||o.width+s+r<Number(t))?(o.words.push(i),o.width+=s+r):e.push({words:[i],width:s}),e},[]),RX=e=>e.reduce((e,t)=>e.width>t.width?e:t),RZ=(e,t,r,a,n,i,s,o)=>{var l=RK({breakAll:r,style:a,children:e.slice(0,t)+""});if(!l)return[!1,[]];var c=RY(l.wordsWithComputedWidth,i,s,o);return[c.length>n||RX(c).width>Number(i),c]},RJ=e=>[{words:null==e?[]:e.toString().split(Rq),width:void 0}],RQ="#808080",R0={angle:0,breakAll:!1,capHeight:"0.71em",fill:RQ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},R1=(0,ev.forwardRef)((e,t)=>{var r,a=Rm(e,R0),{x:n,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:u}=a,f=RG(a,R$),h=(0,ev.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:i,maxLines:s}=e;if((t||r)&&!Pf.isSsr){var o=RK({breakAll:i,children:a,style:n});if(!o)return RJ(a);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,a,n)=>{var i,{maxLines:s,children:o,style:l,breakAll:c}=e,d=yX(s),u=String(o),f=RY(t,a,r,n);if(!d||n||!(f.length>s||RX(f).width>Number(a)))return f;for(var h=0,p=u.length-1,m=0;h<=p&&m<=u.length-1;){var x=Math.floor((h+p)/2),[g,b]=RZ(u,x-1,c,l,s,a,r,n),[v]=RZ(u,x,c,l,s,a,r,n);if(g||v||(h=x+1),g&&v&&(p=x-1),!g&&v){i=b;break}m++}return i||f})({breakAll:i,children:a,maxLines:s,style:n},l,c,t,!!r)}return RJ(a)})({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:p,dy:m,angle:x,className:g,breakAll:b}=f,v=RG(f,RH);if(!yZ(n)||!yZ(i)||0===h.length)return null;var y=Number(n)+(yX(p)?p:0),w=Number(i)+(yX(m)?m:0);if(!Ns(y)||!Ns(w))return null;switch(u){case"start":r=RV("calc(".concat(o,")"));break;case"middle":r=RV("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:r=RV("calc(".concat(h.length-1," * -").concat(s,")"))}var j=[];if(c){var N=h[0].width,{width:E}=f;j.push("scale(".concat(yX(E)&&yX(N)?E/N:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(y,", ").concat(w,")")),j.length&&(v.transform=j.join(" ")),ev.createElement("text",RW({},PF(v),{ref:t,x:y,y:w,className:j7("recharts-text",g),textAnchor:d,fill:l.includes("url")?RQ:l}),h.map((e,t)=>{var a=e.words.join(b?"":" ");return ev.createElement("tspan",{x:y,dy:0===t?r:s,key:"".concat(a,"-").concat(t)},a)}))});R1.displayName="Text";var R2=e.i(74080);function R4(e){var{zIndex:t,children:r}=e,a=void 0!==jw(Ny)&&void 0!==t&&0!==t,n=j5(),i=jg();(0,ev.useLayoutEffect)(()=>a?(i(Pb({zIndex:t})),()=>{i(Pv({zIndex:t}))}):y6,[i,t,a]);var s=jw(e=>PH(e,t,n));if(!a)return r;if(!s)return null;var o=document.getElementById(s);return o?(0,R2.createPortal)(r,o):null}var R3=["labelRef"];function R5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R5(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R8(){return(R8=Object.assign.bind()).apply(null,arguments)}var R7=(0,ev.createContext)(null),R9=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:n,width:i,height:s,children:o}=e,l=(0,ev.useMemo)(()=>({x:t,y:r,upperWidth:a,lowerWidth:n,width:i,height:s}),[t,r,a,n,i,s]);return ev.createElement(R7.Provider,{value:l},o)},Ie=()=>{var e=(0,ev.useContext)(R7),t=Ng();return e||Nx(t)},It=(0,ev.createContext)(null),Ir=e=>null!=e&&"function"==typeof e,Ia=e=>"cx"in e&&yX(e.cx),In={angle:0,offset:5,zIndex:Tq.label,position:"middle",textBreakAll:!1};function Ii(e){var t,r,a,n,i,s,o=Rm(e,In),{viewBox:l,position:c,value:d,children:u,content:f,className:h="",textBreakAll:p,labelRef:m}=o,x=(t=(0,ev.useContext)(It),r=jw(T9),t||r),g=Ie();if(!(n=null==l?"center"===c?g:null!=x?x:g:Ia(l)?l:Nx(l))||null==d&&null==u&&!(0,ev.isValidElement)(f)&&"function"!=typeof f)return null;var b=R6(R6({},o),{},{viewBox:n});if((0,ev.isValidElement)(f)){var{labelRef:v}=b,y=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(b,R3);return(0,ev.cloneElement)(f,y)}if("function"==typeof f){if(i=(0,ev.createElement)(f,b),(0,ev.isValidElement)(i))return i}else i=(e=>{var{value:t,formatter:r}=e,a=null==e.children?t:e.children;return"function"==typeof r?r(a):a})(o);var w=PF(o);if(Ia(n)){if("insideStart"===c||"insideEnd"===c||"end"===c)return((e,t,r,a,n)=>{var i,s,{offset:o,className:l}=e,{cx:c,cy:d,innerRadius:u,outerRadius:f,startAngle:h,endAngle:p,clockWise:m}=n,x=(u+f)/2,g=yq(p-h)*Math.min(Math.abs(p-h),360),b=g>=0?1:-1;switch(t){case"insideStart":i=h+b*o,s=m;break;case"insideEnd":i=p-b*o,s=!m;break;case"end":i=p+b*o,s=m;break;default:throw Error("Unsupported position ".concat(t))}s=g<=0?s:!s;var v=TW(c,d,x,i),y=TW(c,d,x,i+(s?1:-1)*359),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(+!s,",\n    ").concat(y.x,",").concat(y.y),j=null==e.id?yQ("recharts-radial-line-"):e.id;return ev.createElement("text",R8({},a,{dominantBaseline:"central",className:j7("recharts-radial-bar-label",l)}),ev.createElement("defs",null,ev.createElement("path",{id:j,d:w})),ev.createElement("textPath",{xlinkHref:"#".concat(j)},r))})(o,c,i,w,n);s=((e,t,r)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:d,y:u}=TW(a,n,s+t,c);return{x:d,y:u,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var{x:f,y:h}=TW(a,n,(i+s)/2,c);return{x:f,y:h,textAnchor:"middle",verticalAnchor:"middle"}})(n,o.offset,o.position)}else s=((e,t)=>{var r,{parentViewBox:a,offset:n,position:i}=e;null==a||Ia(a)||(r=a);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,u=s+(l-c)/2,f=(s+u)/2,h=(l+c)/2,p=d>=0?1:-1,m=p*n,x=p>0?"end":"start",g=p>0?"start":"end",b=l>=0?1:-1,v=b*n,y=b>0?"end":"start",w=b>0?"start":"end";if("top"===i)return R6(R6({},{x:s+l/2,y:o-m,textAnchor:"middle",verticalAnchor:x}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===i)return R6(R6({},{x:u+c/2,y:o+d+m,textAnchor:"middle",verticalAnchor:g}),r?{height:Math.max(r.y+r.height-(o+d),0),width:c}:{});if("left"===i){var j={x:f-v,y:o+d/2,textAnchor:y,verticalAnchor:"middle"};return R6(R6({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if("right"===i){var N={x:f+h+v,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return R6(R6({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var E=r?{width:h,height:d}:{};return"insideLeft"===i?R6({x:f+v,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},E):"insideRight"===i?R6({x:f+h-v,y:o+d/2,textAnchor:y,verticalAnchor:"middle"},E):"insideTop"===i?R6({x:s+l/2,y:o+m,textAnchor:"middle",verticalAnchor:g},E):"insideBottom"===i?R6({x:u+c/2,y:o+d-m,textAnchor:"middle",verticalAnchor:x},E):"insideTopLeft"===i?R6({x:s+v,y:o+m,textAnchor:w,verticalAnchor:g},E):"insideTopRight"===i?R6({x:s+l-v,y:o+m,textAnchor:y,verticalAnchor:g},E):"insideBottomLeft"===i?R6({x:u+v,y:o+d-m,textAnchor:w,verticalAnchor:x},E):"insideBottomRight"===i?R6({x:u+c-v,y:o+d-m,textAnchor:y,verticalAnchor:x},E):i&&"object"==typeof i&&(yX(i.x)||yY(i.x))&&(yX(i.y)||yY(i.y))?R6({x:s+y0(i.x,h),y:o+y0(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):R6({x:s+l/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)})(o,n);return ev.createElement(R4,{zIndex:o.zIndex},ev.createElement(R1,R8({ref:m,className:j7("recharts-label",h)},w,s,{textAnchor:"start"===(a=w.textAnchor)||"middle"===a||"end"===a||"inherit"===a?w.textAnchor:s.textAnchor,breakAll:p}),i))}function Is(e){var{label:t,labelRef:r}=e;return((e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return!0===e?ev.createElement(Ii,R8({key:"label-implicit"},a)):yZ(e)?ev.createElement(Ii,R8({key:"label-implicit",value:e},a)):(0,ev.isValidElement)(e)?e.type===Ii?(0,ev.cloneElement)(e,R6({key:"label-implicit"},a)):ev.createElement(Ii,R8({key:"label-implicit",content:e},a)):Ir(e)?ev.createElement(Ii,R8({key:"label-implicit",content:e},a)):e&&"object"==typeof e?ev.createElement(Ii,R8({},e,{key:"label-implicit"},a)):null})(t,Ie(),r)||null}Ii.displayName="Label";var Io=["valueAccessor"],Il=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ic(){return(Ic=Object.assign.bind()).apply(null,arguments)}function Id(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Iu=e=>Array.isArray(e.value)?(0,RS.default)(e.value):e.value,If=(0,ev.createContext)(void 0),Ih=If.Provider,Ip=(0,ev.createContext)(void 0),Im=Ip.Provider;function Ix(e){var{valueAccessor:t=Iu}=e,r=Id(e,Io),{dataKey:a,clockWise:n,id:i,textBreakAll:s,zIndex:o}=r,l=Id(r,Il),c=(0,ev.useContext)(If),d=(0,ev.useContext)(Ip),u=c||d;return u&&u.length?ev.createElement(R4,{zIndex:null!=o?o:Tq.label},ev.createElement(RE,{className:"recharts-label-list"},u.map((e,n)=>{var o,c=null==a?t(e,n):jI(e&&e.payload,a),d=null==i?{}:{id:"".concat(i,"-").concat(n)};return ev.createElement(Ii,Ic({key:"label-".concat(n)},PF(e),l,d,{fill:null!=(o=r.fill)?o:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:s,viewBox:e.viewBox,index:n,zIndex:0}))}))):null}function Ig(e){var{label:t}=e;return t?!0===t?ev.createElement(Ix,{key:"labelList-implicit"}):ev.isValidElement(t)||Ir(t)?ev.createElement(Ix,{key:"labelList-implicit",content:t}):"object"==typeof t?ev.createElement(Ix,Ic({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}Ix.displayName="LabelList";var Ib=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Iv=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,ev.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var a={};return Object.keys(r).forEach(e=>{PP(e)&&(a[e]=t||(t=>r[e](r,t)))}),a},Iy=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];PP(n)&&"function"==typeof i&&(a||(a={}),a[n]=e=>(i(t,r,e),null))}),a};function Iw(){return(Iw=Object.assign.bind()).apply(null,arguments)}var Ij=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=j7("recharts-dot",n);return yX(t)&&yX(r)&&yX(a)?ev.createElement("circle",Iw({},PM(e),Iv(e),{className:i,cx:t,cy:r,r:a})):null},IN=e.i(79684),IE=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",IS=null,Ik=null,IT=e=>{if(e===IS&&Array.isArray(Ik))return Ik;var t=[];return ev.Children.forEach(e,e=>{null!=e&&((0,IN.isFragment)(e)?t=t.concat(IT(e.props.children)):t.push(e))}),Ik=t,IS=e,t};function IA(e,t){var r=[],a=[];return a=Array.isArray(t)?t.map(e=>IE(e)):[IE(t)],IT(e).forEach(e=>{var t=(0,yG.default)(e,"type.displayName")||(0,yG.default)(e,"type.name");t&&-1!==a.indexOf(t)&&r.push(e)}),r}var I_=e=>!e||"object"!=typeof e||!("clipDot"in e)||!!e.clipDot,IC=["points"];function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IR(){return(IR=Object.assign.bind()).apply(null,arguments)}function II(e){var{option:t,dotProps:r,className:a}=e;if((0,ev.isValidElement)(t))return(0,ev.cloneElement)(t,r);if("function"==typeof t)return t(r);var n=j7(a,"boolean"!=typeof t?t.className:""),i=null!=r?r:{},{points:s}=i,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(i,IC);return ev.createElement(Ij,IR({},o,{className:n}))}function ID(e){var{points:t,dot:r,className:a,dotClassName:n,dataKey:i,baseProps:s,needClip:o,clipPathId:l,zIndex:c=Tq.scatter}=e;if(null==t||!r&&1!==t.length)return null;var d=I_(r),u=null==r?null:(0,ev.isValidElement)(r)?PF(r.props):"object"!=typeof r||Array.isArray(r)?null:PF(r),f=t.map((e,a)=>{var o,l,c=IP(IP(IP({r:3},s),u),{},{index:a,cx:null!=(o=e.x)?o:void 0,cy:null!=(l=e.y)?l:void 0,dataKey:i,value:e.value,payload:e.payload,points:t});return ev.createElement(II,{key:"dot-".concat(a),option:r,dotProps:c,className:n})}),h={};return o&&null!=l&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),ev.createElement(R4,{zIndex:c},ev.createElement(RE,IR({className:a},h),f))}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var IF=e=>{var t,{point:r,childIndex:a,mainColor:n,activeDot:i,dataKey:s,clipPath:o}=e;if(!1===i||null==r.x||null==r.y)return null;var l=IL(IL(IL({},{index:a,dataKey:s,cx:r.x,cy:r.y,r:4,fill:null!=n?n:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value}),PL(i)),Iv(i));return t=(0,ev.isValidElement)(i)?(0,ev.cloneElement)(i,l):"function"==typeof i?i(l):ev.createElement(Ij,l),ev.createElement(RE,{className:"recharts-active-dot",clipPath:o},t)};function IU(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n,clipPath:i,zIndex:s=Tq.activeDot}=e,o=jw(Cz),l=jw(CK);if(null==t||null==l)return null;var c=t.find(e=>l.includes(e.payload));return null==c?null:ev.createElement(R4,{zIndex:s},ev.createElement(IF,{point:c,childIndex:Number(o),mainColor:r,dataKey:n,activeDot:a,clipPath:i}))}function Iz(e){var{tooltipEntrySettings:t}=e,r=jg(),a=j5(),n=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{a||(null===n.current?r(w0(t)):n.current!==t&&r(w1({prev:n.current,next:t})),n.current=t)},[t,r,a]),(0,ev.useLayoutEffect)(()=>()=>{n.current&&(r(w2(n.current)),n.current=null)},[r]),null}var IB=(0,ev.createContext)(void 0),IV=e=>{var{id:t,type:r,children:a}=e,n=P$("recharts-".concat(r),t);return ev.createElement(IB.Provider,{value:n},a(n))},I$=["children"],IH=(0,ev.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function IW(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,I$);return ev.createElement(IH.Provider,{value:r},t)}function IG(e,t){var r,a,n=jw(t=>Ap(t,e)),i=jw(e=>Ag(e,t)),s=null!=(r=null==n?void 0:n.allowDataOverflow)?r:Af.allowDataOverflow,o=null!=(a=null==i?void 0:i.allowDataOverflow)?a:Am.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function Iq(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=jw(Rc),{needClipX:i,needClipY:s,needClip:o}=IG(t,r);if(!o||!n)return null;var{x:l,y:c,width:d,height:u}=n;return ev.createElement("clipPath",{id:"clipPath-".concat(a)},ev.createElement("rect",{x:i?l:l-d/2,y:s?c:c-u/2,width:i?d:2*d,height:s?u:2*u}))}var IK=(e,t,r,a)=>_q(e,"xAxis",t,a),IY=(e,t,r,a)=>_G(e,"xAxis",t,a),IX=(e,t,r,a)=>_q(e,"yAxis",r,a),IZ=(e,t,r,a)=>_G(e,"yAxis",r,a),IJ=vJ([Ny,IK,IX,IY,IZ],(e,t,r,a,n)=>jD(e,"xAxis")?jV(t,a,!1):jV(r,n,!1));function IQ(e){return"line"===e.type}var I0=vJ([AE,(e,t,r,a,n)=>n],(e,t)=>e.filter(IQ).find(e=>e.id===t)),I1=vJ([Ny,IK,IX,IY,IZ,I0,IJ,Tx],(e,t,r,a,n,i,s,o)=>{var l,{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(null!=i&&null!=t&&null!=r&&null!=a&&null!=n&&0!==a.length&&0!==n.length&&null!=s&&("horizontal"===e||"vertical"===e)){var{dataKey:f,data:h}=i;if(null!=(l=null!=h&&h.length>0?h:null==c?void 0:c.slice(d,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=jI(e,s);if("horizontal"===t)return{x:jU({axis:r,ticks:n,bandSize:o,entry:e,index:l}),y:null==c?null:a.scale(c),value:c,payload:e};var d=null==c?null:r.scale(c),u=jU({axis:a,ticks:i,bandSize:o,entry:e,index:l});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:s,displayedData:l})}});function I2(e){var{legendPayload:t}=e,r=jg(),a=j5(),n=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{a||(null===n.current?r(OH(t)):n.current!==t&&r(OW({prev:n.current,next:t})),n.current=t)},[r,a,t]),(0,ev.useLayoutEffect)(()=>()=>{n.current&&(r(OG(n.current)),n.current=null)},[r]),null}function I4(e){var{legendPayload:t}=e,r=jg(),a=jw(Ny),n=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{("centric"===a||"radial"===a)&&(null===n.current?r(OH(t)):n.current!==t&&r(OW({prev:n.current,next:t})),n.current=t)},[r,a,t]),(0,ev.useLayoutEffect)(()=>()=>{n.current&&(r(OG(n.current)),n.current=null)},[r]),null}function I3(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,ev.useRef)(yQ(t)),a=(0,ev.useRef)(e);return a.current!==e&&(r.current=yQ(t),a.current=e),r.current}var I5=(0,ev.memo)(e=>{var t=jg(),r=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{null===r.current?t(ON(e)):r.current!==e&&t(OE({prev:r.current,next:e})),r.current=e},[t,e]),(0,ev.useLayoutEffect)(()=>()=>{r.current&&(t(OS(r.current)),r.current=null)},[t]),null});function I6(e){var t=jg();return(0,ev.useLayoutEffect)(()=>(t(Ok(e)),()=>{t(OT(e))}),[t,e]),null}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function I7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I9=(e,t,r)=>e.map(e=>"".concat(e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))," ").concat(t,"ms ").concat(r)).join(","),De=(e,t)=>Object.keys(t).reduce((r,a)=>I7(I7({},r),{},{[a]:e(a,t[a])}),{});function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Da=(e,t,r)=>e+(t-e)*r,Dn=e=>{var{from:t,to:r}=e;return t!==r},Di=(e,t,r)=>{var a=De((t,r)=>{if(Dn(r)){var[a,n]=e(r.from,r.to,r.velocity);return Dr(Dr({},r),{},{from:a,velocity:n})}return r},t);return r<1?De((e,t)=>Dn(t)?Dr(Dr({},t),{},{velocity:Da(t.velocity,a[e].velocity,r),from:Da(t.from,a[e].from,r)}):t,t):Di(e,a,r-1)},Ds=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Do=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),Dl=(e,t)=>r=>Do(Ds(e,t),r),Dc=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var a,n=t[0].split("(");if("cubic-bezier"===n[0]&&(null==(a=n[1])?void 0:a.split(")")[0].split(",").length)===4){var i=n[1].split(")")[0].split(",").map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]}}return 4===t.length?t:[0,0,1,1]},Dd=function(){return((e,t,r,a)=>{var n=Dl(e,r),i=Dl(t,a),s=t=>Do([...Ds(e,r).map((e,t)=>e*t).slice(1),0],t),o=e=>e>1?1:e<0?0:e,l=e=>{for(var t=e>1?1:e,r=t,a=0;a<8;++a){var l=n(r)-t,c=s(r);if(1e-4>Math.abs(l-t)||c<1e-4)break;r=o(r-l/c)}return i(r)};return l.isStepper=!1,l})(...Dc(...arguments))},Du=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:a=17}=e,n=(e,n,i)=>{var s=i+(-(e-n)*t-i*r)*a/1e3,o=i*a/1e3+e;return 1e-4>Math.abs(o-n)&&1e-4>Math.abs(s)?[n,0]:[o,s]};return n.isStepper=!0,n.dt=a,n};class Df{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),a=null,n=i=>{i-r>=t?e(i):"function"==typeof requestAnimationFrame&&(a=requestAnimationFrame(n))};return a=requestAnimationFrame(n),()=>{null!=a&&cancelAnimationFrame(a)}}}var Dh=(0,ev.createContext)(function(){var e,t,r,a,n;return e=new Df,t=()=>null,r=!1,a=null,n=i=>{if(!r){if(Array.isArray(i)){if(!i.length)return;var[s,...o]=i;if("number"==typeof s){a=e.setTimeout(n.bind(null,o),s);return}n(s),a=e.setTimeout(n.bind(null,o));return}"string"==typeof i&&t(i),"object"==typeof i&&t(i),"function"==typeof i&&i()}},{stop:()=>{r=!0},start:e=>{r=!1,a&&(a(),a=null),n(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}),Dp={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Dm={t:0},Dx={t:1};function Dg(e){var t,r,a,n=Rm(e,Dp),{isActive:i,canBegin:s,duration:o,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:u,children:f}=n,h="auto"===i?!Pf.isSsr:i,p=(t=n.animationId,r=n.animationManager,a=(0,ev.useContext)(Dh),(0,ev.useMemo)(()=>null!=r?r:a(t),[t,r,a])),[m,x]=(0,ev.useState)(h?Dm:Dx),g=(0,ev.useRef)(null);return(0,ev.useEffect)(()=>{h||x(Dx)},[h]),(0,ev.useEffect)(()=>{if(!h||!s)return y6;var e=((e,t,r,a,n,i)=>{var s,o,l,c,d,u,f,h,p=[Object.keys(e),Object.keys(t)].reduce((e,t)=>e.filter(e=>t.includes(e)));return null==r?()=>(n(Dr(Dr({},e),t)),()=>{}):!0===r.isStepper?(o=p.reduce((r,a)=>Dr(Dr({},r),{},{[a]:{from:e[a],velocity:0,to:t[a]}}),{}),l=null,c=a=>{s||(s=a);var d=(a-s)/r.dt;o=Di(r,o,d),n(Dr(Dr(Dr({},e),t),De((e,t)=>t.from,o))),s=a,Object.values(o).filter(Dn).length&&(l=i.setTimeout(c))},()=>(l=i.setTimeout(c),()=>{var e;null==(e=l)||e()})):(u=null,f=p.reduce((r,a)=>Dr(Dr({},r),{},{[a]:[e[a],t[a]]}),{}),h=s=>{d||(d=s);var o=(s-d)/a,l=De((e,t)=>Da(...t,r(o)),f);if(n(Dr(Dr(Dr({},e),t),l)),o<1)u=i.setTimeout(h);else{var c=De((e,t)=>Da(...t,r(1)),f);n(Dr(Dr(Dr({},e),t),c))}},()=>(u=i.setTimeout(h),()=>{var e;null==(e=u)||e()}))})(Dm,Dx,(e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Dd(e);case"spring":return Du();default:if("cubic-bezier"===e.split("(")[0])return Dd(e)}return"function"==typeof e?e:null})(l),o,x,p.getTimeoutController());return p.start([u,c,()=>{g.current=e()},o,d]),()=>{p.stop(),g.current&&g.current(),d()}},[h,s,o,l,c,u,d,p]),f(m.t)}var Db=e.i(7328),Dv=["radius"],Dy=["radius"];function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DN(){return(DN=Object.assign.bind()).apply(null,arguments)}function DE(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var DS=(e,t,r,a,n)=>{var i,s=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,c=+(a>=0&&r>=0||a<0&&r<0);if(s>0&&n instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=n[u]>s?s:n[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),i+="L ".concat(e+r,",").concat(t+a-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+a)),i+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+a-o*d[3])),i+="Z"}else if(s>0&&n===+n&&n>0){var f=Math.min(s,n);i="M ".concat(e,",").concat(t+o*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+r-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,"\n            L ").concat(e+r,",").concat(t+a-o*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+a,"\n            L ").concat(e+l*f,",").concat(t+a,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return i},Dk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DT=e=>{var t=Rm(e,Dk),r=(0,ev.useRef)(null),[a,n]=(0,ev.useState)(-1);(0,ev.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&n(e)}catch(e){}},[]);var{x:i,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:m}=t,x=(0,ev.useRef)(o),g=(0,ev.useRef)(l),b=(0,ev.useRef)(i),v=(0,ev.useRef)(s),y=I3((0,ev.useMemo)(()=>({x:i,y:s,width:o,height:l,radius:c}),[i,s,o,l,c]),"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||0===o||0===l)return null;var w=j7("recharts-rectangle",d);if(!m){var j=PF(t),{radius:N}=j,E=DE(j,Dv);return ev.createElement("path",DN({},E,{radius:"number"==typeof c?c:void 0,className:w,d:DS(i,s,o,l,c)}))}var S=x.current,k=g.current,T=b.current,A=v.current,_="0px ".concat(-1===a?1:a,"px"),C="".concat(a,"px 0px"),O=I9(["strokeDasharray"],f,"string"==typeof u?u:Dk.animationEasing);return ev.createElement(Dg,{animationId:y,key:y,canBegin:a>0,duration:f,easing:u,isActive:m,begin:h},e=>{var a,n=y2(S,o,e),d=y2(k,l,e),u=y2(T,i,e),f=y2(A,s,e);r.current&&(x.current=n,g.current=d,b.current=u,v.current=f),a=p?e>0?{transition:O,strokeDasharray:C}:{strokeDasharray:_}:{strokeDasharray:C};var h=PF(t),{radius:m}=h,y=DE(h,Dy);return ev.createElement("path",DN({},y,{radius:"number"==typeof c?c:void 0,className:w,d:DS(u,f,n,d,c),ref:r,style:Dj(Dj({},a),t.style)}))})};function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DC(){return(DC=Object.assign.bind()).apply(null,arguments)}var DO=(e,t,r,a,n)=>{var i=r-a;return"M ".concat(e,",").concat(t)+"L ".concat(e+r,",").concat(t)+"L ".concat(e+r-i/2,",").concat(t+n)+"L ".concat(e+r-i/2-a,",").concat(t+n)+"L ".concat(e,",").concat(t," Z")},DP={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DR=e=>{var t=Rm(e,DP),{x:r,y:a,upperWidth:n,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:u}=t,f=(0,ev.useRef)(null),[h,p]=(0,ev.useState)(-1),m=(0,ev.useRef)(n),x=(0,ev.useRef)(i),g=(0,ev.useRef)(s),b=(0,ev.useRef)(r),v=(0,ev.useRef)(a),y=I3(e,"trapezoid-");if((0,ev.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&p(e)}catch(e){}},[]),r!==+r||a!==+a||n!==+n||i!==+i||s!==+s||0===n&&0===i||0===s)return null;var w=j7("recharts-trapezoid",o);if(!u)return ev.createElement("g",null,ev.createElement("path",DC({},PF(t),{className:w,d:DO(r,a,n,i,s)})));var j=m.current,N=x.current,E=g.current,S=b.current,k=v.current,T="0px ".concat(-1===h?1:h,"px"),A="".concat(h,"px 0px"),_=I9(["strokeDasharray"],c,l);return ev.createElement(Dg,{animationId:y,key:y,canBegin:h>0,duration:c,easing:l,isActive:u,begin:d},e=>{var o=y2(j,n,e),l=y2(N,i,e),c=y2(E,s,e),d=y2(S,r,e),u=y2(k,a,e);f.current&&(m.current=o,x.current=l,g.current=c,b.current=d,v.current=u);var h=e>0?{transition:_,strokeDasharray:A}:{strokeDasharray:T};return ev.createElement("path",DC({},PF(t),{className:w,d:DO(d,u,o,l,c),ref:f,style:D_(D_({},h),t.style)}))})};function DI(){return(DI=Object.assign.bind()).apply(null,arguments)}var DD=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+a,d=Math.asin(o/c)/TH,u=l?n:n+i*d,f=TW(t,r,c,u);return{center:f,circleTangency:TW(t,r,a,u),lineTangency:TW(t,r,c*Math.cos(d*TH),l?n-i*d:n),theta:d}},DM=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:i,endAngle:s}=e,o=yq(s-i)*Math.min(Math.abs(s-i),359.999),l=i+o,c=TW(t,r,n,i),d=TW(t,r,n,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(n,",").concat(n,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(a>0){var f=TW(t,r,a,i),h=TW(t,r,a,l);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=l),",\n            ").concat(f.x,",").concat(f.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},DL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DF=e=>{var t,r=Rm(e,DL),{cx:a,cy:n,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=r;if(s<i||d===u)return null;var h=j7("recharts-sector",f),p=s-i,m=y0(o,p,0,!0);return t=m>0&&360>Math.abs(d-u)?(e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=yq(c-l),{circleTangency:u,lineTangency:f,theta:h}=DD({cx:t,cy:r,radius:n,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:x}=DD({cx:t,cy:r,radius:n,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=o?Math.abs(l-c):Math.abs(l-c)-h-x;if(g<0)return s?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(-(2*i),",0\n      "):DM({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(n,",").concat(n,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n  ");if(a>0){var{circleTangency:v,lineTangency:y,theta:w}=DD({cx:t,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:E}=DD({cx:t,cy:r,radius:a,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-w-E;if(S<0&&0===i)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b})({cx:a,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):DM({cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:u}),ev.createElement("path",DI({},PF(r),{className:h,d:t}))};let DU=Math.PI,Dz=2*DU,DB=Dz-1e-6;function DV(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class D${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?DV:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return DV;let r=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,a){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,t,r,a,n,i){this._append`C${+e},${+t},${+r},${+a},${this._x1=+n},${this._y1=+i}`}arcTo(e,t,r,a,n){if(e*=1,t*=1,r*=1,a*=1,(n*=1)<0)throw Error(`negative radius: ${n}`);let i=this._x1,s=this._y1,o=r-e,l=a-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>1e-6)if(Math.abs(d*o-l*c)>1e-6&&n){let f=r-i,h=a-s,p=o*o+l*l,m=Math.sqrt(p),x=Math.sqrt(u),g=n*Math.tan((DU-Math.acos((p+u-(f*f+h*h))/(2*m*x)))/2),b=g/x,v=g/m;Math.abs(b-1)>1e-6&&this._append`L${e+b*c},${t+b*d}`,this._append`A${n},${n},0,0,${+(d*f>c*h)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,a,n,i){if(e*=1,t*=1,r*=1,i=!!i,r<0)throw Error(`negative radius: ${r}`);let s=r*Math.cos(a),o=r*Math.sin(a),l=e+s,c=t+o,d=1^i,u=i?a-n:n-a;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%Dz+Dz),u>DB?this._append`A${r},${r},0,1,${d},${e-s},${t-o}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>1e-6&&this._append`A${r},${r},0,${+(u>=DU)},${d},${this._x1=e+r*Math.cos(n)},${this._y1=t+r*Math.sin(n)}`)}rect(e,t,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+a}h${-r}Z`}toString(){return this._}}function DH(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new D$(t)}D$.prototype;let DW=Math.cos,DG=Math.sin,Dq=Math.sqrt,DK=Math.PI,DY=2*DK;Dq(3);let DX={draw(e,t){let r=Dq(t/DK);e.moveTo(r,0),e.arc(0,0,r,0,DY)}},DZ=Dq(1/3),DJ=2*DZ,DQ=DG(DK/10)/DG(7*DK/10),D0=DG(DY/10)*DQ,D1=-DW(DY/10)*DQ,D2=Dq(3);Dq(3);let D4=Dq(3)/2,D3=1/Dq(12),D5=(D3/2+1)*3;var D6=["type","size","sizeType"];function D8(){return(D8=Object.assign.bind()).apply(null,arguments)}function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function D9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Me={symbolCircle:DX,symbolCross:{draw(e,t){let r=Dq(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},symbolDiamond:{draw(e,t){let r=Dq(t/DJ),a=r*DZ;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},symbolSquare:{draw(e,t){let r=Dq(t),a=-r/2;e.rect(a,a,r,r)}},symbolStar:{draw(e,t){let r=Dq(.8908130915292852*t),a=D0*r,n=D1*r;e.moveTo(0,-r),e.lineTo(a,n);for(let t=1;t<5;++t){let i=DY*t/5,s=DW(i),o=DG(i);e.lineTo(o*r,-s*r),e.lineTo(s*a-o*n,o*a+s*n)}e.closePath()}},symbolTriangle:{draw(e,t){let r=-Dq(t/(3*D2));e.moveTo(0,2*r),e.lineTo(-D2*r,-r),e.lineTo(D2*r,-r),e.closePath()}},symbolWye:{draw(e,t){let r=Dq(t/D5),a=r/2,n=r*D3,i=r*D3+r,s=-a;e.moveTo(a,n),e.lineTo(a,i),e.lineTo(s,i),e.lineTo(-.5*a-D4*n,D4*a+-.5*n),e.lineTo(-.5*a-D4*i,D4*a+-.5*i),e.lineTo(-.5*s-D4*i,D4*s+-.5*i),e.lineTo(-.5*a+D4*n,-.5*n-D4*a),e.lineTo(-.5*a+D4*i,-.5*i-D4*a),e.lineTo(-.5*s+D4*i,-.5*i-D4*s),e.closePath()}}},Mt=Math.PI/180,Mr=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=D9(D9({},function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,D6)),{},{type:t,size:r,sizeType:a}),i="circle";"string"==typeof t&&(i=t);var{className:s,cx:o,cy:l}=n,c=PF(n);return yX(o)&&yX(l)&&yX(r)?ev.createElement("path",D8({},c,{className:j7("recharts-symbols",s),transform:"translate(".concat(o,", ").concat(l,")"),d:(()=>{var e,t=(e=i,Me["symbol".concat(y3(e))]||DX),n=(function(e,t){let r=null,a=DH(n);function n(){let n;if(r||(r=n=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return e="function"==typeof e?e:jk(e||DX),t="function"==typeof t?t:jk(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:jk(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:jk(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n})().type(t).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*Mt;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.tan(a)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,i))();if(null!==n)return n})()})):null};function Ma(e){this._context=e}function Mn(e){return new Ma(e)}function Mi(e){return e[0]}function Ms(e){return e[1]}function Mo(e,t){var r=jk(!0),a=null,n=Mn,i=null,s=DH(o);function o(o){var l,c,d,u=(o=jS(o)).length,f=!1;for(null==a&&(i=n(d=s())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"==typeof e?e:void 0===e?Mi:jk(e),t="function"==typeof t?t:void 0===t?Ms:jk(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:jk(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:jk(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:jk(!!e),o):r},o.curve=function(e){return arguments.length?(n=e,null!=a&&(i=n(a)),o):n},o.context=function(e){return arguments.length?(null==e?a=i=null:i=n(a=e),o):a},o}function Ml(e,t,r){var a=null,n=jk(!0),i=null,s=Mn,o=null,l=DH(c);function c(c){var d,u,f,h,p,m=(c=jS(c)).length,x=!1,g=Array(m),b=Array(m);for(null==i&&(o=s(p=l())),d=0;d<=m;++d){if(!(d<m&&n(h=c[d],d,c))===x)if(x=!x)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=d-1;f>=u;--f)o.point(g[f],b[f]);o.lineEnd(),o.areaEnd()}x&&(g[d]=+e(h,d,c),b[d]=+t(h,d,c),o.point(a?+a(h,d,c):g[d],r?+r(h,d,c):b[d]))}if(p)return o=null,p+""||null}function d(){return Mo().defined(n).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?Mi:jk(+e),t="function"==typeof t?t:void 0===t?jk(0):jk(+t),r="function"==typeof r?r:void 0===r?Ms:jk(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:jk(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:jk(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:jk(+e),c):a},c.y=function(e){return arguments.length?(t="function"==typeof e?e:jk(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:jk(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:jk(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(a).y(t)},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:jk(!!e),c):n},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function Mc(){}function Md(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mu(e){this._context=e}function Mf(e){this._context=e}function Mh(e){this._context=e}Mr.registerSymbol=(e,t)=>{Me["symbol".concat(y3(e))]=t},Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Md(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Md(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Mf.prototype={areaStart:Mc,areaEnd:Mc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Md(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Md(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Mp{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Mm(e){this._context=e}Mm.prototype={areaStart:Mc,areaEnd:Mc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e*=1,t*=1,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mx(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),s=(r-e._y1)/(n||a<0&&-0);return((i<0?-1:1)+(s<0?-1:1))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs((i*n+s*a)/(a+n)))||0}function Mg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mb(e,t,r){var a=e._x0,n=e._y0,i=e._x1,s=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,s-o*r,i,s)}function Mv(e){this._context=e}function My(e){this._context=new Mw(e)}function Mw(e){this._context=e}function Mj(e){this._context=e}function MN(e){var t,r,a=e.length-1,n=Array(a),i=Array(a),s=Array(a);for(n[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,i[a-1]=7,s[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(n[a-1]=s[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(s[t]-n[t+1])/i[t];for(t=0,i[a-1]=(e[a]+n[a-1])/2;t<a-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function ME(e,t){this._context=e,this._t=t}function MS(){return(MS=Object.assign.bind()).apply(null,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mb(this,this._t0,Mg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t*=1,(e*=1)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mb(this,Mg(this,r=Mx(this,e,t)),r);break;default:Mb(this,this._t0,r=Mx(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(My.prototype=Object.create(Mv.prototype)).point=function(e,t){Mv.prototype.point.call(this,t,e)},Mw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}},Mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var a=MN(e),n=MN(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var MA={curveBasisClosed:function(e){return new Mf(e)},curveBasisOpen:function(e){return new Mh(e)},curveBasis:function(e){return new Mu(e)},curveBumpX:function(e){return new Mp(e,!0)},curveBumpY:function(e){return new Mp(e,!1)},curveLinearClosed:function(e){return new Mm(e)},curveLinear:Mn,curveMonotoneX:function(e){return new Mv(e)},curveMonotoneY:function(e){return new My(e)},curveNatural:function(e){return new Mj(e)},curveStep:function(e){return new ME(e,.5)},curveStepAfter:function(e){return new ME(e,1)},curveStepBefore:function(e){return new ME(e,0)}},M_=e=>Ns(e.x)&&Ns(e.y),MC=e=>null!=e.base&&M_(e.base)&&M_(e),MO=e=>e.x,MP=e=>e.y,MR=e=>{var{className:t,points:r,path:a,pathRef:n}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?(e=>{var{type:t="linear",points:r=[],baseLine:a,layout:n,connectNulls:i=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(y3(e));return("curveMonotone"===r||"curveBump"===r)&&t?MA["".concat(r).concat("vertical"===t?"Y":"X")]:MA[r]||Mn})(t,n),o=i?r.filter(M_):r;if(Array.isArray(a)){var l=r.map((e,t)=>MT(MT({},e),{},{base:a[t]}));return("vertical"===n?Ml().y(MP).x1(MO).x0(e=>e.base.x):Ml().x(MO).y1(MP).y0(e=>e.base.y)).defined(MC).curve(s)(i?l.filter(MC):l)}return("vertical"===n&&yX(a)?Ml().y(MP).x1(MO).x0(a):yX(a)?Ml().x(MO).y1(MP).y0(a):Mo().x(MO).y(MP)).defined(M_).curve(s)(o)})(e):a;return ev.createElement("path",MS({},PM(e),Iv(e),{className:j7("recharts-curve",t),d:null===i?void 0:i,ref:n}))},MI=["option","shapeType","propTransformer","activeClassName"];function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ML(e,t){return MM(MM({},t),e)}function MF(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return ev.createElement(DT,r);case"trapezoid":return ev.createElement(DR,r);case"sector":return ev.createElement(DF,r);case"symbols":if("symbols"===t)return ev.createElement(Mr,r);break;case"curve":return ev.createElement(MR,r);default:return null}}function MU(e){var t,{option:r,shapeType:a,propTransformer:n=ML,activeClassName:i="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,MI);if((0,ev.isValidElement)(r))t=(0,ev.cloneElement)(r,MM(MM({},s),(0,ev.isValidElement)(r)?r.props:r));else if("function"==typeof r)t=r(s);else if((0,Db.default)(r)&&"boolean"!=typeof r){var o=n(r,s);t=ev.createElement(MF,{shapeType:a,elementProps:o})}else t=ev.createElement(MF,{shapeType:a,elementProps:s});return s.isActive?ev.createElement(RE,{className:i},t):t}var Mz=["id"],MB=["type","layout","connectNulls","needClip","shape"],MV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function M$(){return(M$=Object.assign.bind()).apply(null,arguments)}function MH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function MW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MH(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MG(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Mq=Rw.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:o,unit:l,tooltipType:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:jH(s,t),hide:o,type:c,color:a,unit:l}};return Rw.createElement(Iz,{tooltipEntrySettings:d})}),MK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function MY(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:s}=a,{id:o}=a,l=PM(MG(a,Mz));return Rw.createElement(ID,{points:r,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:l,needClip:s,clipPathId:t})}function MX(e){var{showLabels:t,children:r,points:a}=e,n=(0,Rw.useMemo)(()=>null==a?void 0:a.map(e=>{var t,r,a={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return MW(MW({},a),{},{value:e.value,payload:e.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[a]);return Rw.createElement(Ih,{value:t?n:void 0},r)}function MZ(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=i,u=MW(MW({},PF(MG(i,MB))),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:a,type:s,layout:o,connectNulls:l,strokeDasharray:null!=n?n:i.strokeDasharray});return Rw.createElement(Rw.Fragment,null,(null==a?void 0:a.length)>1&&Rw.createElement(MU,M$({shapeType:"curve",option:d},u,{pathRef:r})),Rw.createElement(MY,{points:a,clipPathId:t,props:i}))}function MJ(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,animateNewValues:f,width:h,height:p,onAnimationEnd:m,onAnimationStart:x}=r,g=n.current,b=I3(s,"recharts-line-"),v=(0,Rw.useRef)(b),[y,w]=(0,Rw.useState)(!1),j=(0,Rw.useCallback)(()=>{"function"==typeof m&&m(),w(!1)},[m]),N=(0,Rw.useCallback)(()=>{"function"==typeof x&&x(),w(!0)},[x]),E=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(a.current),S=(0,Rw.useRef)(0);v.current!==b&&(S.current=i.current,v.current=b);var k=S.current;return Rw.createElement(MX,{points:s,showLabels:!y},r.children,Rw.createElement(Dg,{animationId:b,begin:c,duration:d,isActive:l,easing:u,onAnimationEnd:j,onAnimationStart:N,key:b},e=>{var c,d=Math.min(y2(k,E+k,e),E);if(c=l?o?((e,t,r)=>{var a=r.reduce((e,t)=>e+t);if(!a)return MK(t,e);for(var n=Math.floor(e/a),i=e%a,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){o=[...r.slice(0,l),i-c];break}var d=o.length%2==0?[0,s]:[s];return[...function(e,t){for(var r=e.length%2!=0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}(r,n),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(d,E,"".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e))):MK(E,d):null==o?void 0:String(o),e>0&&E>0&&(n.current=s,i.current=Math.max(i.current,d)),g){var u=g.length/s.length,m=1===e?s:s.map((t,r)=>{var a=Math.floor(r*u);if(g[a]){var n=g[a];return MW(MW({},t),{},{x:y2(n.x,t.x,e),y:y2(n.y,t.y,e)})}return f?MW(MW({},t),{},{x:y2(2*h,t.x,e),y:y2(p/2,t.y,e)}):MW(MW({},t),{},{x:t.x,y:t.y})});return n.current=m,Rw.createElement(MZ,{props:r,points:m,clipPathId:t,pathRef:a,strokeDasharray:c})}return Rw.createElement(MZ,{props:r,points:s,clipPathId:t,pathRef:a,strokeDasharray:c})}),Rw.createElement(Ig,{label:r.label}))}function MQ(e){var{clipPathId:t,props:r}=e,a=(0,Rw.useRef)(null),n=(0,Rw.useRef)(0),i=(0,Rw.useRef)(null);return Rw.createElement(MJ,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var M0=(e,t)=>{var r,a;return{x:null!=(r=e.x)?r:void 0,y:null!=(a=e.y)?a:void 0,value:e.value,errorVal:jI(e.payload,t)}};class M1 extends Rw.Component{render(){var{hide:e,dot:t,points:r,className:a,xAxisId:n,yAxisId:i,top:s,left:o,width:l,height:c,id:d,needClip:u,zIndex:f}=this.props;if(e)return null;var h=j7("recharts-line",a),{r:p,strokeWidth:m}=function(e){var t=PL(e);if(null!=t){var{r,strokeWidth:a}=t,n=Number(r),i=Number(a);return(Number.isNaN(n)||n<0)&&(n=3),(Number.isNaN(i)||i<0)&&(i=2),{r:n,strokeWidth:i}}return{r:3,strokeWidth:2}}(t),x=I_(t),g=2*p+m,b=u?"url(#clipPath-".concat(x?"":"dots-").concat(d,")"):void 0;return Rw.createElement(R4,{zIndex:f},Rw.createElement(RE,{className:h},u&&Rw.createElement("defs",null,Rw.createElement(Iq,{clipPathId:d,xAxisId:n,yAxisId:i}),!x&&Rw.createElement("clipPath",{id:"clipPath-dots-".concat(d)},Rw.createElement("rect",{x:o-g/2,y:s-g/2,width:l+g,height:c+g}))),Rw.createElement(IW,{xAxisId:n,yAxisId:i,data:r,dataPointFormatter:M0,errorBarOffset:0},Rw.createElement(MQ,{props:this.props,clipPathId:d}))),Rw.createElement(IU,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var M2={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Tq.line,type:"linear"};function M4(e){var t=Rm(e,M2),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:u,legendType:f,xAxisId:h,yAxisId:p,id:m}=t,x=MG(t,MV),{needClip:g}=IG(h,p),b=jw(Rc),v=jw(Ny),y=j5(),w=jw(e=>I1(e,h,p,y,m));if("horizontal"!==v&&"vertical"!==v||null==w||null==b)return null;var{height:j,width:N,x:E,y:S}=b;return Rw.createElement(M1,M$({},x,{id:m,connectNulls:o,dot:l,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:c,label:u,legendType:f,xAxisId:h,yAxisId:p,points:w,layout:v,height:j,width:N,left:E,top:S,needClip:g}))}var M3=Rw.memo(function(e){var t=Rm(e,M2),r=j5();return Rw.createElement(IV,{id:t.id,type:"line"},e=>Rw.createElement(Rw.Fragment,null,Rw.createElement(I2,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:jH(r,t),payload:e}]})(t)}),Rw.createElement(Mq,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),Rw.createElement(I5,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),Rw.createElement(M4,M$({},t,{id:e}))))},PT);function M5(e){var t=jg();return(0,ev.useEffect)(()=>{t(O5(e))},[t,e]),null}M3.displayName="Line";var M6=["layout"];function M8(){return(M8=Object.assign.bind()).apply(null,arguments)}var M7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},M9=(0,ev.forwardRef)(function(e,t){var r,a=Rm(e.categoricalChartProps,M7),{layout:n}=a,i=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(a,M6),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e;return ev.createElement(PE,{preloadedState:{options:{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0}},reduxStoreName:null!=(r=a.id)?r:s},ev.createElement(PS,{chartData:a.data}),ev.createElement(PA,{layout:n,margin:a.margin}),ev.createElement(P_,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),ev.createElement(M5,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),ev.createElement(Rh,M8({},i,{ref:t})))}),Le=["item"],Lt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Lr=(0,ev.forwardRef)((e,t)=>{var r=Rm(e,Lt);return ev.createElement(M9,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Le,tooltipPayloadSearcher:y8,categoricalChartProps:r,ref:t})}),La=e=>e.graphicalItems.polarItems,Ln=vJ([Ae,At],AN),Li=vJ([La,Ay,Ln],Ak),Ls=vJ([Li],AO),Lo=vJ([Ls,Tm],AR),Ll=vJ([Lo,Ay,Li],AD);vJ([Lo,Ay,Li],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:jI(e,null!=(a=t.dataKey)?a:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:jI(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var Lc=()=>void 0,Ld=vJ([Lo,Ay,Li,AJ,Ae],A0),Lu=vJ([Ay,AY,AX,Lc,Ld,Lc,Ny,Ae],_o),Lf=vJ([Ay,Ny,Lo,Ll,TM,Ae,Lu],_d),Lh=vJ([Lf,Ay,_h],_m);function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Lm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}vJ([Ay,Lf,Lh,Ae],_g);var Lx=vJ([La,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),Lg=[],Lb=(e,t,r)=>(null==r?void 0:r.length)===0?Lg:r,Lv=vJ([Tm,Lx,Lb],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>Lm(Lm({},t.presentationProps),e.props))),null!=a))return a}),Ly=vJ([Lv,Lx,Lb],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,i,s=jI(e,t.nameKey,t.name);return i=null!=r&&null!=(n=r[a])&&null!=(n=n.props)&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:jH(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),Lw=vJ([Lv,Lx,Lb,j1],(e,t,r,a)=>{if(null!=t&&null!=e)return function(e){var t,r,a,{pieSettings:n,displayedData:i,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:f,tooltipType:h}=n,p=Math.abs(n.minAngle),m=yq(d-c)*Math.min(Math.abs(d-c),360),x=Math.abs(m),g=i.length<=1?0:null!=(t=n.paddingAngle)?t:0,b=i.filter(e=>0!==jI(e,u,0)).length,v=x-b*p-(x>=360?b:b-1)*g,y=i.reduce((e,t)=>{var r=jI(t,u,0);return e+(yX(r)?r:0)},0);return y>0&&(r=i.map((e,t)=>{var r,i=jI(e,u,0),d=jI(e,f,t),x=((e,t,r)=>{var a,{top:n,left:i,width:s,height:o}=t,l=TG(s,o),c=i+y0(e.cx,s,s/2),d=n+y0(e.cy,o,o/2),u=y0(e.innerRadius,l,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(a=e.outerRadius,"function"==typeof a?y0(a(r),l,.8*l):y0(a,l,.8*l)),maxRadius:e.maxRadius||Math.sqrt(s*s+o*o)/2}})(n,o,e),b=(yX(i)?i:0)/y,w=LA(LA({},e),s&&s[t]&&s[t].props),j=(r=t?a.endAngle+yq(m)*g*(0!==i):c)+yq(m)*((0!==i?p:0)+b*v),N=(r+j)/2,E=(x.innerRadius+x.outerRadius)/2,S=[{name:d,value:i,payload:w,dataKey:u,type:h}],k=TW(x.cx,x.cy,E,N);return a=LA(LA(LA(LA({},n.presentationProps),{},{percent:b,cornerRadius:"string"==typeof l?parseFloat(l):l,name:d,tooltipPayload:S,midAngle:N,middleRadius:E,tooltipPosition:k},w),x),{},{value:i,startAngle:r,endAngle:j,payload:w,paddingAngle:yq(m)*g})})),r}({offset:a,pieSettings:t,displayedData:e,cells:r})}),Lj=e=>null;Lj.displayName="Cell";var LN=["key"],LE=["onMouseEnter","onClick","onMouseLeave"],LS=["id"],Lk=["id"];function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L_(){return(L_=Object.assign.bind()).apply(null,arguments)}function LC(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LO(e){var t=(0,ev.useMemo)(()=>IA(e.children,Lj),[e.children]),r=jw(r=>Ly(r,e.id,t));return null==r?null:ev.createElement(I4,{legendPayload:r})}var LP=ev.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e,d={dataDefinedOnItem:a.map(e=>e.tooltipPayload),positions:a.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:jH(o,t),hide:l,type:c,color:s,unit:""}};return ev.createElement(Iz,{tooltipEntrySettings:d})});function LR(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:i,dataKey:s}=r;if(!a||!n||!t)return null;var o=PM(r),l=PL(n),c=PL(i),d="object"==typeof n&&"offsetRadius"in n&&"number"==typeof n.offsetRadius&&n.offsetRadius||20,u=t.map((e,t)=>{var r,a,u=(e.startAngle+e.endAngle)/2,f=TW(e.cx,e.cy,e.outerRadius+d,u),h=LA(LA(LA(LA({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(r=f.x)>(a=e.cx)?"start":r<a?"end":"middle"},f),p=LA(LA(LA(LA({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[TW(e.cx,e.cy,e.outerRadius,u),f],key:"line"});return ev.createElement(R4,{zIndex:Tq.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},ev.createElement(RE,null,i&&((e,t)=>{if(ev.isValidElement(e))return ev.cloneElement(e,t);if("function"==typeof e)return e(t);var r=j7("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:a}=t,n=LC(t,LN);return ev.createElement(MR,L_({},n,{type:"linear",className:r}))})(i,p),((e,t,r)=>{if(ev.isValidElement(e))return ev.cloneElement(e,t);var a=r;if("function"==typeof e&&(a=e(t),ev.isValidElement(a)))return a;var n=j7("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return ev.createElement(R1,L_({},t,{alignmentBaseline:"middle",className:n}),a)})(n,h,jI(e,s))))});return ev.createElement(RE,{className:"recharts-pie-labels"},u)}function LI(e){var{sectors:t,props:r,showLabels:a}=e,{label:n}=r;return"object"==typeof n&&null!=n&&"position"in n?ev.createElement(Ig,{label:n}):ev.createElement(LR,{sectors:t,props:r,showLabels:a})}function LD(e){var t,r,a,n,i,{sectors:s,activeShape:o,inactiveShape:l,allOtherPieProps:c,shape:d}=e,u=jw(Cz),{onMouseEnter:f,onClick:h,onMouseLeave:p}=c,m=LC(c,LE),x=(t=c.dataKey,r=jg(),(e,a)=>n=>{null==f||f(e,a,n),r(w3({activeIndex:String(a),activeDataKey:t,activeCoordinate:e.tooltipPosition}))}),g=(a=jg(),(e,t)=>r=>{null==p||p(e,t,r),a(w5())}),b=(n=c.dataKey,i=jg(),(e,t)=>r=>{null==h||h(e,t,r),i(w8({activeIndex:String(t),activeDataKey:n,activeCoordinate:e.tooltipPosition}))});return null==s||0===s.length?null:ev.createElement(ev.Fragment,null,s.map((e,t)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==s.length)return null;var r=String(t)===u,a=o&&r?o:u?l:null,n=LA(LA({},e),{},{stroke:e.stroke,tabIndex:-1,[jZ]:t,[jJ]:c.dataKey});return ev.createElement(RE,L_({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(t),tabIndex:-1,className:"recharts-pie-sector"},Iy(m,e,t),{onMouseEnter:x(e,t),onMouseLeave:g(e,t),onClick:b(e,t)}),ev.createElement(MU,L_({option:null!=d?d:a,shapeType:"sector",isActive:r},n)))}))}function LM(e){var{showLabels:t,sectors:r,children:a}=e,n=(0,ev.useMemo)(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return ev.createElement(Im,{value:t?n:void 0},a)}function LL(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:u}=t,f=I3(t,"recharts-pie-"),h=r.current,[p,m]=(0,ev.useState)(!1),x=(0,ev.useCallback)(()=>{"function"==typeof u&&u(),m(!1)},[u]),g=(0,ev.useCallback)(()=>{"function"==typeof d&&d(),m(!0)},[d]);return ev.createElement(LM,{showLabels:!p,sectors:a},ev.createElement(Dg,{animationId:f,begin:i,duration:s,isActive:n,easing:o,onAnimationStart:g,onAnimationEnd:x,key:f},e=>{var n=[],i=a&&a[0],s=null==i?void 0:i.startAngle;return null==a||a.forEach((t,r)=>{var a=h&&h[r],i=r>0?(0,yG.default)(t,"paddingAngle",0):0;if(a){var o=y2(a.endAngle-a.startAngle,t.endAngle-t.startAngle,e),l=LA(LA({},t),{},{startAngle:s+i,endAngle:s+o+i});n.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:d}=t,u=y2(0,c-d,e),f=LA(LA({},t),{},{startAngle:s+i,endAngle:s+u+i});n.push(f),s=f.endAngle}}),r.current=n,ev.createElement(RE,null,ev.createElement(LD,{sectors:n,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),ev.createElement(LI,{showLabels:!p,sectors:a,props:t}),t.children)}var LF={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Pf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Tq.area};function LU(e){var{id:t}=e,r=LC(e,LS),{hide:a,className:n,rootTabIndex:i}=e,s=(0,ev.useMemo)(()=>IA(e.children,Lj),[e.children]),o=jw(e=>Lw(e,t,s)),l=(0,ev.useRef)(null),c=j7("recharts-pie",n);return a||null==o?(l.current=null,ev.createElement(RE,{tabIndex:i,className:c})):ev.createElement(R4,{zIndex:e.zIndex},ev.createElement(LP,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),ev.createElement(RE,{tabIndex:i,className:c},ev.createElement(LL,{props:LA(LA({},r),{},{sectors:o}),previousSectorsRef:l})))}function Lz(e){var t=Rm(e,LF),{id:r}=t,a=LC(t,Lk),n=PM(a);return ev.createElement(IV,{id:r,type:"pie"},e=>ev.createElement(ev.Fragment,null,ev.createElement(I6,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),ev.createElement(LO,L_({},a,{id:e})),ev.createElement(LU,L_({},a,{id:e}))))}Lz.displayName="Pie";class LB{static create(e){return new LB(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var n=this.bandwidth?this.bandwidth():0;return this.scale(e)+n}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],a=t[t.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}(ea="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(ea="EPS","string"))?o:o+"")in LB?Object.defineProperty(LB,ea,{value:1e-4,enumerable:!0,configurable:!0,writable:!0}):LB[ea]=1e-4;var LV=function(e){var{width:t,height:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a%180+180)%180*Math.PI/180,i=Math.atan(r/t);return Math.abs(n>i&&n<Math.PI-i?r/Math.sin(n):t/Math.cos(n))};function L$(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function LH(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function LW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function LG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LW(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lq(e,t,r){var a,{tick:n,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!i||!i.length||!n)return[];if(yX(c)||Pf.isSsr)return null!=(a=L$(i,(yX(c)?c:0)+1))?a:[];var h="top"===l||"bottom"===l?"width":"height",p=u&&"width"===h?RP(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=(e,a)=>{var n,i="function"==typeof d?d(e.value,a):e.value;return"width"===h?(n=RP(i,{fontSize:t,letterSpacing:r}),LV({width:n.width+p.width,height:n.height+p.height},f)):RP(i,{fontSize:t,letterSpacing:r})[h]},x=i.length>=2?yq(i[1].coordinate-i[0].coordinate):1,g=function(e,t,r){var a="width"===r,{x:n,y:i,width:s,height:o}=e;return 1===t?{start:a?n:i,end:a?n+s:i+o}:{start:a?n+s:i+o,end:a?n:i}}(s,x,h);return"equidistantPreserveStart"===c?function(e,t,r,a,n){for(var i,s=(a||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o;d<=s.length;)if(i=function(){var t,i=null==a?void 0:a[c];if(void 0===i)return{v:L$(a,d)};var s=c,f=()=>(void 0===t&&(t=r(i,s)),t),h=i.coordinate,p=0===c||LH(e,h,f,u,l);p||(c=0,u=o,d+=1),p&&(u=h+e*(f()/2+n),c+=d)}())return i.v;return[]}(x,g,m,i,o):("preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,a,n,i){var s=(a||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var d=a[o-1],u=r(d,o-1),f=e*(d.coordinate+e*u/2-c);s[o-1]=d=LG(LG({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate}),null!=d.tickCoord&&LH(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+n),s[o-1]=LG(LG({},d),{},{isShow:!0}))}for(var h=i?o-1:o,p=function(t){var a,i=s[t],o=()=>(void 0===a&&(a=r(i,t)),a);if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=LG(LG({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=LG(LG({},i),{},{tickCoord:i.coordinate});null!=i.tickCoord&&LH(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+n),s[t]=LG(LG({},i),{},{isShow:!0}))},m=0;m<h;m++)p(m);return s}(x,g,m,i,o,"preserveStartEnd"===c):function(e,t,r,a,n){for(var i=(a||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(t){var a,c=i[t],d=()=>(void 0===a&&(a=r(c,t)),a);if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=LG(LG({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=LG(LG({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&LH(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+n),i[t]=LG(LG({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(x,g,m,i,o)).filter(e=>e.isShow)}var LK=["axisLine","width","height","className","hide","ticks","axisType"];function LY(){return(LY=Object.assign.bind()).apply(null,arguments)}function LX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function LZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LX(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var LJ={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Tq.axis};function LQ(e){var{x:t,y:r,width:a,height:n,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=LZ(LZ(LZ({},l),PM(o)),{},{fill:"none"});if("top"===i||"bottom"===i){var d=+("top"===i&&!s||"bottom"===i&&s);c=LZ(LZ({},c),{},{x1:t,y1:r+d*n,x2:t+a,y2:r+d*n})}else{var u=+("left"===i&&!s||"right"===i&&s);c=LZ(LZ({},c),{},{x1:t+u*a,y1:r,x2:t+u*a,y2:r+n})}return ev.createElement("line",LY({},c,{className:j7("recharts-cartesian-axis-line",(0,yG.default)(o,"className"))}))}function L0(e){var t,{option:r,tickProps:a,value:n}=e,i=j7(a.className,"recharts-cartesian-axis-tick-value");if(ev.isValidElement(r))t=ev.cloneElement(r,LZ(LZ({},a),{},{className:i}));else if("function"==typeof r)t=r(LZ(LZ({},a),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!=typeof r&&(s=j7(s,null==r?void 0:r.className)),t=ev.createElement(R1,LY({},a,{className:s}),n)}return t}var L1=(0,ev.forwardRef)((e,t)=>{var{ticks:r=[],tick:a,tickLine:n,stroke:i,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:f,y:h,width:p,height:m,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:v,getTicksConfig:y,events:w,axisType:j}=e,N=Lq(LZ(LZ({},y),{},{ticks:r}),b,v),E=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(d,u),S=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(d,u),k=PM(y),T=PL(a),A={};"object"==typeof n&&(A=n);var _=LZ(LZ({},k),{},{fill:"none"},A),C=N.map(e=>LZ({entry:e},function(e,t,r,a,n,i,s,o,l){var c,d,u,f,h,p,m=o?-1:1,x=e.tickSize||s,g=yX(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=(u=(f=r+!o*n)-m*x)-m*l,h=g;break;case"left":u=f=e.coordinate,h=(c=(d=t+!o*a)-m*x)-m*l,p=g;break;case"right":u=f=e.coordinate,h=(c=(d=t+o*a)+m*x)+m*l,p=g;break;default:c=d=e.coordinate,p=(u=(f=r+o*n)+m*x)+m*l,h=g}return{line:{x1:c,y1:u,x2:d,y2:f},tick:{x:h,y:p}}}(e,f,h,p,m,d,x,u,g))),O=C.map(e=>{var{entry:t,line:r}=e;return ev.createElement(RE,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},n&&ev.createElement("line",LY({},_,r,{className:j7("recharts-cartesian-axis-tick-line",(0,yG.default)(n,"className"))})))}),P=C.map((e,t)=>{var{entry:r,tick:n}=e,d=LZ(LZ(LZ(LZ({textAnchor:E,verticalAnchor:S},k),{},{stroke:"none",fill:i},T),n),{},{index:t,payload:r,visibleTicksCount:N.length,tickFormatter:s,padding:l},c);return ev.createElement(RE,LY({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},Iy(w,r,t)),a&&ev.createElement(L0,{option:a,tickProps:d,value:"".concat("function"==typeof s?s(r.value,t):r.value).concat(o||"")}))});return ev.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},P.length>0&&ev.createElement(R4,{zIndex:Tq.label},ev.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},P)),O.length>0&&ev.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},O))}),L2=(0,ev.forwardRef)((e,t)=>{var{axisLine:r,width:a,height:n,className:i,hide:s,ticks:o,axisType:l}=e,c=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,LK),[d,u]=(0,ev.useState)(""),[f,h]=(0,ev.useState)(""),p=(0,ev.useRef)(null);(0,ev.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=r?r.getBoundingClientRect().width:0;return Math.round(s+(n+i)+o+(r?a:0))}return 0})({ticks:p.current,label:null==(t=e.labelRef)?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=(0,ev.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=t;var r=t[0];if(r){var a=window.getComputedStyle(r),n=a.fontSize,i=a.letterSpacing;(n!==d||i!==f)&&(u(n),h(i))}}},[d,f]);return s||null!=a&&a<=0||null!=n&&n<=0?null:ev.createElement(R4,{zIndex:e.zIndex},ev.createElement(RE,{className:j7("recharts-cartesian-axis",i)},ev.createElement(LQ,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:PM(e)}),ev.createElement(L1,{ref:m,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),ev.createElement(R9,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},ev.createElement(Is,{label:e.label,labelRef:e.labelRef}),e.children)))}),L4=ev.forwardRef((e,t)=>{var r=Rm(e,LJ);return ev.createElement(L2,LY({},r,{ref:t}))});L4.displayName="CartesianAxis";var L3=["domain","range"],L5=["domain","range"];function L6(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L8(e,t){return e===t||!!(Array.isArray(e)&&2===e.length&&Array.isArray(t))&&2===t.length&&e[0]===t[0]&&e[1]===t[1]}function L7(e,t){if(e===t)return!0;var{domain:r,range:a}=e,n=L6(e,L3),{domain:i,range:s}=t,o=L6(t,L5);return!!L8(r,i)&&!!L8(a,s)&&PT(n,o)}var L9=["dangerouslySetInnerHTML","ticks"],Fe=["id"];function Ft(){return(Ft=Object.assign.bind()).apply(null,arguments)}function Fr(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fa(e){var t=jg(),r=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{null===r.current?t(Ou(e)):r.current!==e&&t(Of({prev:r.current,next:e})),r.current=e},[e,t]),(0,ev.useLayoutEffect)(()=>()=>{r.current&&(t(Oh(r.current)),r.current=null)},[t]),null}var Fn=e=>{var{xAxisId:t,className:r}=e,a=jw(j4),n=j5(),i="xAxis",s=jw(e=>_T(e,i,t,n)),o=jw(e=>_W(e,i,t,n)),l=jw(e=>_I(e,t)),c=jw(e=>_L(e,t)),d=jw(e=>Ah(e,t));if(null==l||null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:f}=e,h=Fr(e,L9),{id:p}=d,m=Fr(d,Fe);return ev.createElement(L4,Ft({},h,m,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:j7("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o,axisType:i}))},Fi={allowDataOverflow:Af.allowDataOverflow,allowDecimals:Af.allowDecimals,allowDuplicatedCategory:Af.allowDuplicatedCategory,angle:Af.angle,axisLine:LJ.axisLine,height:Af.height,hide:!1,includeHidden:Af.includeHidden,interval:Af.interval,minTickGap:Af.minTickGap,mirror:Af.mirror,orientation:Af.orientation,padding:Af.padding,reversed:Af.reversed,scale:Af.scale,tick:Af.tick,tickCount:Af.tickCount,tickLine:LJ.tickLine,tickSize:LJ.tickSize,type:Af.type,xAxisId:0},Fs=ev.memo(e=>{var t=Rm(e,Fi);return ev.createElement(ev.Fragment,null,ev.createElement(Fa,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),ev.createElement(Fn,t))},L7);Fs.displayName="XAxis";var Fo=["dangerouslySetInnerHTML","ticks"],Fl=["id"];function Fc(){return(Fc=Object.assign.bind()).apply(null,arguments)}function Fd(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fu(e){var t=jg(),r=(0,ev.useRef)(null);return(0,ev.useLayoutEffect)(()=>{null===r.current?t(Op(e)):r.current!==e&&t(Om({prev:r.current,next:e})),r.current=e},[e,t]),(0,ev.useLayoutEffect)(()=>()=>{r.current&&(t(Ox(r.current)),r.current=null)},[t]),null}var Ff=e=>{var{yAxisId:t,className:r,width:a,label:n}=e,i=(0,ev.useRef)(null),s=(0,ev.useRef)(null),o=jw(j4),l=j5(),c=jg(),d="yAxis",u=jw(e=>_T(e,d,t,l)),f=jw(e=>_U(e,t)),h=jw(e=>_F(e,t)),p=jw(e=>_W(e,d,t,l)),m=jw(e=>Ax(e,t));if((0,ev.useLayoutEffect)(()=>{if(!("auto"!==a||!f||Ir(n)||(0,ev.isValidElement)(n))&&null!=m){var e=i.current;if(e){var r=e.getCalculatedWidth();Math.round(f.width)!==Math.round(r)&&c(Oy({id:t,width:r}))}}},[p,f,c,n,t,a,m]),null==f||null==h||null==m)return null;var{dangerouslySetInnerHTML:x,ticks:g}=e,b=Fd(e,Fo),{id:v}=m,y=Fd(m,Fl);return ev.createElement(L4,Fc({},b,y,{ref:i,labelRef:s,scale:u,x:h.x,y:h.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:f.width,height:f.height,className:j7("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))},Fh={allowDataOverflow:Am.allowDataOverflow,allowDecimals:Am.allowDecimals,allowDuplicatedCategory:Am.allowDuplicatedCategory,angle:Am.angle,axisLine:LJ.axisLine,hide:!1,includeHidden:Am.includeHidden,interval:Am.interval,minTickGap:Am.minTickGap,mirror:Am.mirror,orientation:Am.orientation,padding:Am.padding,reversed:Am.reversed,scale:Am.scale,tick:Am.tick,tickCount:Am.tickCount,tickLine:LJ.tickLine,tickSize:LJ.tickSize,type:Am.type,width:Am.width,yAxisId:0},Fp=ev.memo(e=>{var t=Rm(e,Fh);return ev.createElement(ev.Fragment,null,ev.createElement(Fu,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),ev.createElement(Ff,t))},L7);Fp.displayName="YAxis";var Fm=["x1","y1","x2","y2","key"],Fx=["offset"],Fg=["xAxisId","yAxisId"],Fb=["xAxisId","yAxisId"];function Fv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fv(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fw(){return(Fw=Object.assign.bind()).apply(null,arguments)}function Fj(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var FN=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:a,y:n,width:i,height:s,ry:o}=e;return ev.createElement("rect",{x:a,y:n,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FE(e){var{option:t,lineItemProps:r}=e;if(ev.isValidElement(t))a=ev.cloneElement(t,r);else if("function"==typeof t)a=t(r);else{var a,n,{x1:i,y1:s,x2:o,y2:l,key:c}=r,d=null!=(n=PM(Fj(r,Fm)))?n:{},{offset:u}=d,f=Fj(d,Fx);a=ev.createElement("line",Fw({},f,{x1:i,y1:s,x2:o,y2:l,fill:"none",key:c}))}return a}function FS(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Fj(e,Fg),l=n.map((e,n)=>{var i=Fy(Fy({},o),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(n),index:n});return ev.createElement(FE,{key:"line-".concat(n),option:a,lineItemProps:i})});return ev.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Fk(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Fj(e,Fb),l=n.map((e,n)=>{var i=Fy(Fy({},o),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(n),index:n});return ev.createElement(FE,{option:a,lineItemProps:i,key:"line-".concat(n)})});return ev.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function FT(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||null==o)return null;var c=o.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,o)=>{var l=c[o+1]?c[o+1]-e:n+s-e;if(l<=0)return null;var d=o%t.length;return ev.createElement("rect",{key:"react-".concat(o),y:e,x:a,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ev.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FA(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,t)=>{var l=c[t+1]?c[t+1]-e:n+s-e;if(l<=0)return null;var d=t%r.length;return ev.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:l,height:o,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ev.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var F_=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return jM(Lq(Fy(Fy(Fy({},LJ),r),{},{ticks:jL(r,!0),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},FC=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return jM(Lq(Fy(Fy(Fy({},LJ),r),{},{ticks:jL(r,!0),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},FO={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Tq.grid};function FP(e){var t=jw(jW),r=jw(jG),a=Nv(),n=Fy(Fy({},Rm(e,FO)),{},{x:yX(e.x)?e.x:a.left,y:yX(e.y)?e.y:a.top,width:yX(e.width)?e.width:a.width,height:yX(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:u,horizontalValues:f,verticalValues:h}=n,p=j5(),m=jw(e=>_H(e,"xAxis",i,p)),x=jw(e=>_H(e,"yAxis",s,p));if(!No(c)||!No(d)||!yX(o)||!yX(l))return null;var g=n.verticalCoordinatesGenerator||F_,b=n.horizontalCoordinatesGenerator||FC,{horizontalPoints:v,verticalPoints:y}=n;if((!v||!v.length)&&"function"==typeof b){var w=f&&f.length,j=b({yAxis:x?Fy(Fy({},x),{},{ticks:w?f:x.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:d,offset:a},!!w||u);Ne(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(v=j)}if((!y||!y.length)&&"function"==typeof g){var N=h&&h.length,E=g({xAxis:m?Fy(Fy({},m),{},{ticks:N?h:m.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:d,offset:a},!!N||u);Ne(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(y=E)}return ev.createElement(R4,{zIndex:n.zIndex},ev.createElement("g",{className:"recharts-cartesian-grid"},ev.createElement(FN,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),ev.createElement(FT,Fw({},n,{horizontalPoints:v})),ev.createElement(FA,Fw({},n,{verticalPoints:y})),ev.createElement(FS,Fw({},n,{offset:a,horizontalPoints:v,xAxis:m,yAxis:x})),ev.createElement(Fk,Fw({},n,{offset:a,verticalPoints:y,xAxis:m,yAxis:x}))))}function FR(){return(FR=Object.assign.bind()).apply(null,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function FD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FM(e){return Array.isArray(e)&&yZ(e[0])&&yZ(e[1])?e.join(" ~ "):e}FP.displayName="CartesianGrid";var FL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:f=!1}=e,h=FD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=FD({margin:0},n),m=null!=d,x=m?d:"",g=j7("recharts-default-tooltip",l),b=j7("recharts-tooltip-label",c);return m&&u&&null!=i&&(x=u(d,i)),ev.createElement("div",FR({className:g,style:h},f?{role:"status","aria-live":"assertive"}:{}),ev.createElement("p",{className:b,style:p},ev.isValidElement(x)?x:"".concat(x)),(()=>{if(i&&i.length){var e=(o?(0,jj.default)(i,o):i).map((e,r)=>{if("none"===e.type)return null;var n=e.formatter||s||FM,{value:o,name:l}=e,c=o,d=l;if(n){var u=n(o,l,e,r,i);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}}var f=FD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return ev.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},yZ(d)?ev.createElement("span",{className:"recharts-tooltip-item-name"},d):null,yZ(d)?ev.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,ev.createElement("span",{className:"recharts-tooltip-item-value"},c),ev.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return ev.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},FF=ev,FU="recharts-tooltip-wrapper",Fz={visibility:"hidden"};function FB(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&yX(i[a]))return i[a];var d=r[a]-o-(n>0?n:0),u=r[a]+n;if(t[a])return s[a]?d:u;var f=l[a];return null==f?0:s[a]?d<f?Math.max(u,f):Math.max(d,f):null==c?0:u+o>f+c?Math.max(d,f):Math.max(u,f)}function FV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FV(Object(r),!0).forEach(function(t){FH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FH(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class FW extends FF.PureComponent{constructor(){super(...arguments),FH(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FH(this,"handleKeyDown",e=>{if("Escape"===e.key){var t,r,a,n;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(t=null==(r=this.props.coordinate)?void 0:r.x)?t:0,y:null!=(a=null==(n=this.props.coordinate)?void 0:n.y)?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null==(e=this.props.coordinate)?void 0:e.x)!==this.state.dismissedAtCoordinate.x||(null==(t=this.props.coordinate)?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:a,children:n,coordinate:i,hasPayload:s,isAnimationActive:o,offset:l,position:c,reverseDirection:d,useTranslate3d:u,viewBox:f,wrapperStyle:h,lastBoundingBox:p,innerRef:m,hasPortalFromProps:x}=this.props,{cssClasses:g,cssProperties:b}=function(e){var t,r,a,{allowEscapeViewBox:n,coordinate:i,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return{cssProperties:t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=FB({allowEscapeViewBox:n,coordinate:i,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:a=FB({allowEscapeViewBox:n,coordinate:i,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):Fz,cssClasses:function(e){var{coordinate:t,translateX:r,translateY:a}=e;return j7(FU,{["".concat(FU,"-right")]:yX(r)&&t&&yX(t.x)&&r>=t.x,["".concat(FU,"-left")]:yX(r)&&t&&yX(t.x)&&r<t.x,["".concat(FU,"-bottom")]:yX(a)&&t&&yX(t.y)&&a>=t.y,["".concat(FU,"-top")]:yX(a)&&t&&yX(t.y)&&a<t.y})}({translateX:r,translateY:a,coordinate:i})}}({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:u,viewBox:f}),v=x?{}:F$(F$({transition:o&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),y=F$(F$({},v),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},h);return FF.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:y,ref:m},n)}}var FG=e.i(92809);function Fq(e,t,r){return!0===t?(0,FG.default)(e,r):"function"==typeof t?(0,FG.default)(e,t):e}function FK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,ev.useState)({height:0,left:0,top:0,width:0}),a=(0,ev.useCallback)(e=>{if(null!=e){var a=e.getBoundingClientRect(),n={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(n.height-t.height)>1||Math.abs(n.left-t.left)>1||Math.abs(n.top-t.top)>1||Math.abs(n.width-t.width)>1)&&r({height:n.height,left:n.left,top:n.top,width:n.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}var FY=["x","y","top","left","width","height","className"];function FX(){return(FX=Object.assign.bind()).apply(null,arguments)}function FZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var FJ=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:i=0,height:s=0,className:o}=e,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:a,left:n,width:i,height:s},function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,FY));return yX(t)&&yX(r)&&yX(i)&&yX(s)&&yX(a)&&yX(n)?ev.createElement("path",FX({},PF(l),{className:j7("recharts-cross",o),d:"M".concat(t,",").concat(a,"v").concat(s,"M").concat(n,",").concat(r,"h").concat(i)})):null};function FQ(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:i}=e;return{points:[TW(t,r,a,n),TW(t,r,a,i)],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function F0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F0(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F2(){return(F2=Object.assign.bind()).apply(null,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F5(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return(0,ev.isValidElement)(t)?(0,ev.cloneElement)(t,a):(0,ev.createElement)(r,a)}function F6(e){var t,r,a,n,i,{coordinate:s,payload:o,index:l,offset:c,tooltipAxisBandSize:d,layout:u,cursor:f,tooltipEventType:h,chartName:p}=e;if(!f||!s||"ScatterChart"!==p&&"axis"!==h)return null;if("ScatterChart"===p)a=s,n=FJ,i=Tq.cursorLine;else if("BarChart"===p)t=d/2,a={stroke:"none",fill:"#ccc",x:"horizontal"===u?s.x-t:c.left+.5,y:"horizontal"===u?c.top+.5:s.y-t,width:"horizontal"===u?d:c.width-1,height:"horizontal"===u?c.height-1:d},n=DT,i=Tq.cursorRectangle;else if("radial"===u&&Ib(s)){var{cx:m,cy:x,radius:g,startAngle:b,endAngle:v}=FQ(s);a={cx:m,cy:x,startAngle:b,endAngle:v,innerRadius:g,outerRadius:g},n=DF,i=Tq.cursorLine}else a={points:function(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Ib(t)){if("centric"===e){var{cx:a,cy:n,innerRadius:i,outerRadius:s,angle:o}=t,l=TW(a,n,i,o),c=TW(a,n,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return FQ(t)}}(u,s,c)},n=MR,i=Tq.cursorLine;var y="object"==typeof f&&"className"in f?f.className:void 0,w=F3(F3(F3(F3({stroke:"#ccc",pointerEvents:"none"},c),a),PL(f)),{},{payload:o,payloadIndex:l,className:j7("recharts-tooltip-cursor",y)});return ev.createElement(R4,{zIndex:null!=(r=e.zIndex)?r:i},ev.createElement(F5,{cursor:f,cursorComp:n,cursorProps:w}))}function F8(e){var t,r,a,n=(t=jw(AB),r=jw(CD),a=jw(CP),t&&a?jV(F1(F1({},t),{},{scale:a}),r):jV(void 0,r)),i=Nv(),s=jw(Ny),o=jw(TF);return null==n||null==i||null==s||null==o?null:ev.createElement(F6,F2({},e,{offset:i,layout:s,tooltipAxisBandSize:n,chartName:o}))}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F7(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ue(e){return e.dataKey}var Ut=[],Ur={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ua(e){var t,r,a,n,i,s,o,l,c,d,u=Rm(e,Ur),{active:f,allowEscapeViewBox:h,animationDuration:p,animationEasing:m,content:x,filterNull:g,isAnimationActive:b,offset:v,payloadUniqBy:y,position:w,reverseDirection:j,useTranslate3d:N,wrapperStyle:E,cursor:S,shared:k,trigger:T,defaultIndex:A,portal:_,axisId:C}=u,O=jg(),P="number"==typeof A?String(A):A;(0,ev.useEffect)(()=>{O(w4({shared:k,trigger:T,axisId:C,active:f,defaultIndex:P}))},[O,k,T,C,f,P]);var R=Ng(),I=PC(),D=jw(e=>_Q(e,k)),{activeIndex:M,isActive:L}=null!=(c=jw(e=>C9(e,D,T,P)))?c:{},F=jw(e=>C7(e,D,T,P)),U=jw(e=>C8(e,D,T,P)),z=jw(e=>C6(e,D,T,P)),B=(0,ev.useContext)(P8),V=null!=(d=null!=f?f:L)&&d,[H,W]=FK([F,V]),G="axis"===D?U:void 0;t=jw(e=>((e,t,r)=>{if(null!=t){var a=_7(e);return"axis"===t?"hover"===r?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:"hover"===r?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}})(e,D,T)),r=jw(TB),a=jw(TU),n=jw(Tz),s=null==(i=jw(P4))?void 0:i.active,o=Ng(),(0,ev.useEffect)(()=>{if(!s&&null!=a&&null!=r){var e=je({active:V,coordinate:z,dataKey:t,index:M,label:"number"==typeof G?String(G):G,sourceViewBox:o});P0.emit(P1,a,e,r)}},[s,z,t,M,G,r,a,n,V,o]);var q=null!=_?_:B;if(null==q||null==R||null==D)return null;var K=null!=F?F:Ut;V||(K=Ut),g&&K.length&&(K=Fq(K.filter(e=>null!=e.value&&(!0!==e.hide||u.includeHidden)),y,Ue));var Y=K.length>0,X=ev.createElement(FW,{allowEscapeViewBox:h,animationDuration:p,animationEasing:m,isAnimationActive:b,active:V,coordinate:z,hasPayload:Y,offset:v,position:w,reverseDirection:j,useTranslate3d:N,viewBox:R,wrapperStyle:E,lastBoundingBox:H,innerRef:W,hasPortalFromProps:!!_},(l=F9(F9({},u),{},{payload:K,label:G,active:V,activeIndex:M,coordinate:z,accessibilityLayer:I}),ev.isValidElement(x)?ev.cloneElement(x,l):"function"==typeof x?ev.createElement(x,l):ev.createElement(FL,l)));return ev.createElement(ev.Fragment,null,(0,R2.createPortal)(X,q),V&&ev.createElement(F8,{cursor:S,tooltipEventType:D,coordinate:z,payload:K,index:M}))}function Un(){return(Un=Object.assign.bind()).apply(null,arguments)}function Ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var Us={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Uo(e){var t,{data:r,iconType:a,inactiveColor:n}=e,i=32/6,s=32/3,o=r.inactive?n:r.color,l=null!=a?a:r.type;if("none"===l)return null;if("plainline"===l)return ev.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:null==(t=r.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===l)return ev.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(16,"h").concat(s,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(16,"\n            H").concat(32,"M").concat(2*s,",").concat(16,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(16),className:"recharts-legend-icon"});if("rect"===l)return ev.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ev.isValidElement(r.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete c.legendIcon,ev.cloneElement(r.legendIcon,c)}return ev.createElement(Mr,{fill:o,cx:16,cy:16,size:32,sizeType:"diameter",type:l})}function Ul(e){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:s}=e,o={x:0,y:0,width:32,height:32},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,a)=>{var d=t.formatter||n,u=j7({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:t.inactive});if("none"===t.type)return null;var f=t.inactive?i:t.color,h=d?d(t.value,t,a):t.value;return ev.createElement("li",Un({className:u,style:l,key:"legend-item-".concat(a)},Iy(e,t,a)),ev.createElement(PB,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(h," legend icon")},ev.createElement(Uo,{data:t,iconType:s,inactiveColor:i})),ev.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},h))})}var Uc=e=>{var t=Rm(e,Us),{payload:r,layout:a,align:n}=t;return r&&r.length?ev.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===a?n:"left"}},ev.createElement(Ul,Un({},t,{payload:r}))):null},Ud=["contextPayload"];function Uu(){return(Uu=Object.assign.bind()).apply(null,arguments)}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Up(e){return e.value}function Um(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ud),a=Fq(t,e.payloadUniqBy,Up),n=Uh(Uh({},r),{},{payload:a});return ev.isValidElement(e.content)?ev.cloneElement(e.content,n):"function"==typeof e.content?ev.createElement(e.content,n):ev.createElement(Uc,n)}function Ux(e){var t=jg();return(0,ev.useEffect)(()=>{t(O$(e))},[t,e]),null}function Ug(e){var t=jg();return(0,ev.useEffect)(()=>(t(OV(e)),()=>{t(OV({width:0,height:0}))}),[t,e]),null}var Ub={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Uv(e){var t,r=Rm(e,Ub),a=jw(jE),n=(0,ev.useContext)(P7),i=jw(e=>e.layout.margin),{width:s,height:o,wrapperStyle:l,portal:c}=r,[d,u]=FK([a]),f=jw(jW),h=jw(jG);if(null==f||null==h)return null;var p=f-((null==i?void 0:i.left)||0)-((null==i?void 0:i.right)||0),m=(t=r.layout,"vertical"===t&&yX(o)?{height:o}:"horizontal"===t?{width:s||p}:null),x=c?l:Uh(Uh({position:"absolute",width:(null==m?void 0:m.width)||s||"auto",height:(null==m?void 0:m.height)||o||"auto"},function(e,t,r,a,n,i){var s,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((a||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((n||0)-i.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Uh(Uh({},s),o)}(l,r,i,f,h,d)),l),g=null!=c?c:n;if(null==g||null==a)return null;var b=ev.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},ev.createElement(Ux,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!c&&ev.createElement(Ug,{width:d.width,height:d.height}),ev.createElement(Um,Uu({},r,m,{margin:i,chartWidth:f,chartHeight:h,contextPayload:a})));return(0,R2.createPortal)(b,g)}Uv.displayName="Legend";let Uy=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],Uw=()=>{let{salesHistory:t,expenses:r,inventory:a,employees:n}=o4(),[i,s]=(0,ev.useState)("cash"),[o,l]=(0,ev.useState)({from:new Date(Date.now()-2592e6),to:new Date}),c=(0,ev.useMemo)(()=>bz.calculateMetrics(t,r,o),[t,r,o]),d=(0,ev.useMemo)(()=>bz.getDailySales(t,o),[t,o]),u=(0,ev.useMemo)(()=>bz.getTopProducts(t,o,10),[t,o]);(0,ev.useMemo)(()=>bz.getSalesSummary(bz.filterByDateRange(t,o.from,o.to)),[t,o]);let f=(0,ev.useMemo)(()=>bz.getExpensesSummary(bz.filterByDateRange(r,o.from,o.to)),[r,o]),h=(0,ev.useMemo)(()=>bz.getTaxCompliance(bz.filterByDateRange(t,o.from,o.to),bz.filterByDateRange(r,o.from,o.to)),[t,r,o]),p=(0,ev.useMemo)(()=>bz.getLaborCosts(n),[n]),m=(0,ev.useMemo)(()=>bz.calculateInventoryValue(a),[a]),x=(0,ev.useMemo)(()=>bz.getLowStockItems(a),[a]),g=(0,ev.useMemo)(()=>bz.getExpiringItems(a,30),[a]),b=async()=>{try{let{default:t}=await e.A(34162),{default:r}=await e.A(98136),a=new t;a.setFontSize(18),a.setFont("helvetica","bold"),a.text("Reporte Financiero - Farmacias Vallenar",14,20),a.setFontSize(10),a.setFont("helvetica","normal"),a.text(`Per\xedodo: ${o.from.toLocaleDateString("es-CL")} - ${o.to.toLocaleDateString("es-CL")}`,14,28),a.text(`Generado: ${new Date().toLocaleString("es-CL")}`,14,33),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("Resumen Financiero",14,45);let n=[["Ventas Totales",`$${c.totalSales.toLocaleString("es-CL")}`],["Gastos Totales",`$${c.totalExpenses.toLocaleString("es-CL")}`],["Utilidad Neta",`$${c.netProfit.toLocaleString("es-CL")}`],["Margen Bruto",`${c.grossMargin.toFixed(2)}%`],["Transacciones",c.transactionCount.toString()],["Ticket Promedio",`$${c.averageTicket.toLocaleString("es-CL")}`]];r(a,{startY:50,head:[["Mtrica","Valor"]],body:n,theme:"grid",headStyles:{fillColor:[59,130,246]}}),a.addPage(),a.setFontSize(14),a.text("Top 10 Productos",14,20);let i=u.map(e=>[e.name,e.quantity.toString(),`$${e.revenue.toLocaleString("es-CL")}`]);r(a,{startY:25,head:[["Producto","Cantidad","Ingresos"]],body:i,theme:"grid",headStyles:{fillColor:[59,130,246]}}),a.save(`reporte-financiero-${new Date().toISOString().split("T")[0]}.pdf`),o3.toast.success("Reporte PDF generado exitosamente")}catch(e){console.error("Error generating PDF:",e),o3.toast.error("Error al generar el reporte PDF")}},v=[{id:"cash",label:"Flujo de Caja",icon:lj.DollarSign},{id:"tax",label:"Tributario",icon:lO.FileText},{id:"logistics",label:"Logstica",icon:oB},{id:"hr",label:"RR.HH.",icon:oD.Users}];return(0,eb.jsxs)("div",{className:"p-6 space-y-6 h-[calc(100vh-80px)] overflow-y-auto bg-gray-50",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,eb.jsx)(lF,{className:"w-8 h-8 text-blue-600"}),"Reportes & Business Intelligence"]}),(0,eb.jsx)("p",{className:"text-gray-600 mt-1",children:"Anlisis financiero y operacional en tiempo real"})]}),(0,eb.jsxs)("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 font-bold shadow-lg shadow-blue-200",children:[(0,eb.jsx)(co.Download,{className:"w-5 h-5"}),"Exportar PDF"]})]}),(0,eb.jsx)(bU,{onFilterChange:l,initialRange:o}),(0,eb.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3",children:[(0,eb.jsx)(lo.CheckCircle,{className:"w-5 h-5 text-blue-600"}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-blue-900",children:"Conectado a Datos Reales"}),(0,eb.jsxs)("p",{className:"text-sm text-blue-700",children:["Mostrando ",t.length," transacciones, ",r.length," gastos, ",a.length," productos en inventario"]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsx)("div",{className:"border-b border-gray-200",children:(0,eb.jsx)("div",{className:"flex gap-1 p-2",children:v.map(e=>(0,eb.jsxs)("button",{onClick:()=>s(e.id),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-bold text-sm transition-all ${i===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:[(0,eb.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))})}),(0,eb.jsxs)("div",{className:"p-6",children:["cash"===i&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Ventas Totales"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",c.totalSales.toLocaleString("es-CL")]}),(0,eb.jsxs)("p",{className:"text-blue-100 text-sm mt-2",children:[c.transactionCount," transacciones"]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-green-100 text-sm font-medium",children:"Utilidad Neta"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",c.netProfit.toLocaleString("es-CL")]}),(0,eb.jsxs)("p",{className:"text-green-100 text-sm mt-2",children:[c.grossMargin.toFixed(1),"% margen"]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-orange-100 text-sm font-medium",children:"Ticket Promedio"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",c.averageTicket.toLocaleString("es-CL")]}),(0,eb.jsx)("p",{className:"text-orange-100 text-sm mt-2",children:"Por transaccin"})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Ventas Diarias"}),(0,eb.jsx)(Nm,{width:"100%",height:300,children:(0,eb.jsxs)(Ry,{data:d,children:[(0,eb.jsx)(FP,{strokeDasharray:"3 3"}),(0,eb.jsx)(Fs,{dataKey:"date"}),(0,eb.jsx)(Fp,{}),(0,eb.jsx)(Ua,{}),(0,eb.jsx)(Uv,{}),(0,eb.jsx)(M3,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:2,name:"Ventas ($)"}),(0,eb.jsx)(M3,{type:"monotone",dataKey:"transactions",stroke:"#10B981",strokeWidth:2,name:"Transacciones"})]})})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Top 10 Productos"}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"#"}),(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"Producto"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Cantidad"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Ingresos"})]})}),(0,eb.jsx)("tbody",{children:u.map((e,t)=>(0,eb.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,eb.jsx)("td",{className:"py-3 px-4 text-gray-600",children:t+1}),(0,eb.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.name}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right text-gray-600",children:e.quantity}),(0,eb.jsxs)("td",{className:"py-3 px-4 text-right font-bold text-green-600",children:["$",e.revenue.toLocaleString("es-CL")]})]},e.sku))})]})})]})]}),"tax"===i&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Resumen Tributario (F29)"}),(0,eb.jsxs)("div",{className:"space-y-3",children:[(0,eb.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,eb.jsx)("span",{className:"text-gray-600",children:"Dbito Fiscal (IVA Ventas)"}),(0,eb.jsxs)("span",{className:"font-bold text-gray-900",children:["$",h.debitFiscal.toLocaleString("es-CL")]})]}),(0,eb.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,eb.jsx)("span",{className:"text-gray-600",children:"Crdito Fiscal (IVA Compras)"}),(0,eb.jsxs)("span",{className:"font-bold text-green-600",children:["$",h.creditFiscal.toLocaleString("es-CL")]})]}),(0,eb.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,eb.jsx)("span",{className:"text-gray-700 font-bold",children:"IVA a Pagar"}),(0,eb.jsxs)("span",{className:"font-bold text-red-600",children:["$",h.ivaToPay.toLocaleString("es-CL")]})]}),(0,eb.jsxs)("div",{className:"flex justify-between py-2",children:[(0,eb.jsx)("span",{className:"text-gray-600",children:"PPM (1.5%)"}),(0,eb.jsxs)("span",{className:"font-bold text-orange-600",children:["$",h.ppm.toLocaleString("es-CL")]})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Gastos por Categora"}),(0,eb.jsx)(Nm,{width:"100%",height:250,children:(0,eb.jsxs)(Lr,{children:[(0,eb.jsx)(Lz,{data:Object.entries(f.byCategory).map(([e,t])=>({name:e,value:t})),cx:"50%",cy:"50%",labelLine:!1,label:e=>`${e.name}: $${e.value.toLocaleString("es-CL")}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Object.keys(f.byCategory).map((e,t)=>(0,eb.jsx)(Lj,{fill:Uy[t%Uy.length]},`cell-${t}`))}),(0,eb.jsx)(Ua,{})]})})]})]}),h.nonDeductibleWarning>0&&(0,eb.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[(0,eb.jsx)(li.AlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-yellow-900",children:"Gastos No Deducibles Detectados"}),(0,eb.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["$",h.nonDeductibleWarning.toLocaleString("es-CL")," en gastos no deducibles. Revisa las facturas para optimizar tu carga tributaria."]})]})]})]}),"logistics"===i&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-purple-100 text-sm font-medium",children:"Valorizacin Inventario"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",m.toLocaleString("es-CL")]}),(0,eb.jsxs)("p",{className:"text-purple-100 text-sm mt-2",children:[a.length," productos"]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-red-100 text-sm font-medium",children:"Stock Bajo"}),(0,eb.jsx)("p",{className:"text-3xl font-bold mt-2",children:x.length}),(0,eb.jsx)("p",{className:"text-red-100 text-sm mt-2",children:"Productos crticos"})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-yellow-100 text-sm font-medium",children:"Prximos a Vencer"}),(0,eb.jsx)("p",{className:"text-3xl font-bold mt-2",children:g.length}),(0,eb.jsx)("p",{className:"text-yellow-100 text-sm mt-2",children:"En 30 das"})]})]}),x.length>0&&(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(li.AlertTriangle,{className:"w-5 h-5 text-red-600"}),"Productos con Stock Bajo"]}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"Producto"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Stock Actual"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Stock Mnimo"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Estado"})]})}),(0,eb.jsx)("tbody",{children:x.slice(0,10).map(e=>(0,eb.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,eb.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.name}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right text-red-600 font-bold",children:e.stock_actual}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right text-gray-600",children:e.stock_min}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right",children:(0,eb.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold",children:"Crtico"})})]},e.id))})]})})]}),g.length>0&&(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(li.AlertTriangle,{className:"w-5 h-5 text-yellow-600"}),"Productos Prximos a Vencer"]}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"Producto"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Stock"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Vencimiento"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Das Restantes"})]})}),(0,eb.jsx)("tbody",{children:g.slice(0,10).map(e=>{let t=Math.ceil(((e.expiry_date||0)-Date.now())/864e5);return(0,eb.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,eb.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.name}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right text-gray-600",children:e.stock_actual}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right text-gray-600",children:new Date(e.expiry_date||0).toLocaleDateString("es-CL")}),(0,eb.jsx)("td",{className:"py-3 px-4 text-right",children:(0,eb.jsxs)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t<=7?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[t," das"]})})]},e.id)})})]})})]})]}),"hr"===i&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-indigo-100 text-sm font-medium",children:"Sueldos Base"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",p.totalSalaries.toLocaleString("es-CL")]}),(0,eb.jsx)("p",{className:"text-indigo-100 text-sm mt-2",children:"Mensual"})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-pink-100 text-sm font-medium",children:"Leyes Sociales"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",p.totalSocialLaws.toLocaleString("es-CL")]}),(0,eb.jsx)("p",{className:"text-pink-100 text-sm mt-2",children:"~22% sobre base"})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl p-6 text-white",children:[(0,eb.jsx)("p",{className:"text-cyan-100 text-sm font-medium",children:"Costo Total"}),(0,eb.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",p.totalCost.toLocaleString("es-CL")]}),(0,eb.jsxs)("p",{className:"text-cyan-100 text-sm mt-2",children:[n.filter(e=>"ACTIVE"===e.status).length," empleados"]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Nmina Activa"}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"Empleado"}),(0,eb.jsx)("th",{className:"text-left py-3 px-4 font-bold text-gray-700",children:"Cargo"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Sueldo Base"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Leyes Sociales"}),(0,eb.jsx)("th",{className:"text-right py-3 px-4 font-bold text-gray-700",children:"Costo Total"})]})}),(0,eb.jsx)("tbody",{children:n.filter(e=>"ACTIVE"===e.status).map(e=>{let t=e.base_salary||0,r=Math.round(.22*t),a=t+r;return(0,eb.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,eb.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.name}),(0,eb.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.job_title}),(0,eb.jsxs)("td",{className:"py-3 px-4 text-right text-gray-900",children:["$",t.toLocaleString("es-CL")]}),(0,eb.jsxs)("td",{className:"py-3 px-4 text-right text-gray-600",children:["$",r.toLocaleString("es-CL")]}),(0,eb.jsxs)("td",{className:"py-3 px-4 text-right font-bold text-indigo-600",children:["$",a.toLocaleString("es-CL")]})]},e.id)})})]})})]})]})]})]})]})},Uj=()=>{let{employees:e,registerAttendance:t,user:r}=o4(),[a,n]=(0,ev.useState)(!0),[i,s]=(0,ev.useState)(null),[o,l]=(0,ev.useState)(null),[c,d]=(0,ev.useState)(""),[u,f]=(0,ev.useState)(null),h=async()=>{if(i){f({text:"Coloque su dedo en el sensor...",type:"success"});try{await ce.authenticateCredential(i.biometric_credentials||[])?p():f({text:"Autenticacin fallida",type:"error"})}catch(e){f({text:"Error de autenticacin biomtrica",type:"error"})}}},p=()=>{i&&(i.current_status,l(null))},[m,x]=(0,ev.useState)(null),g=e=>{if(!m)return;let r=e;"LUNCH_START"===e&&(r="BREAK_START"),"LUNCH_END"===e&&(r="BREAK_END"),t(m.id,r),f({text:`Marcaje registrado: ${e}`,type:"success"}),setTimeout(()=>{x(null),f(null)},3e3)};return a?(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center text-white p-4",children:[(0,eb.jsx)(le.Lock,{size:64,className:"mb-6 text-slate-500"}),(0,eb.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Terminal Bloqueado"}),(0,eb.jsx)("p",{className:"text-slate-400 mb-8 text-center max-w-md",children:"Este dispositivo no est activo como Kiosco de Asistencia. Se requiere autorizacin de un Gerente para activarlo."}),(0,eb.jsx)("button",{onClick:()=>{"admin123"===prompt("Ingrese contrasea de GERENTE para activar el Kiosco:")?n(!1):alert("Contrasea incorrecta")},className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-bold transition-all",children:"Activar Terminal"})]}):m?(0,eb.jsx)("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-lg w-full text-center",children:[(0,eb.jsx)("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 font-bold text-3xl",children:m.name.charAt(0)}),(0,eb.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:["Hola, ",m.name]}),(0,eb.jsx)("p",{className:"text-slate-500 mb-8",children:"Selecciona tu marcaje"}),(0,eb.jsxs)("div",{className:"grid gap-4",children:["OUT"===m.current_status&&(0,eb.jsxs)("button",{onClick:()=>g("CHECK_IN"),className:"bg-green-500 hover:bg-green-600 text-white p-6 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all",children:[(0,eb.jsx)(oF,{className:"rotate-180"})," ENTRADA"]}),("IN"===m.current_status||"LUNCH"===m.current_status)&&(0,eb.jsxs)(eb.Fragment,{children:["IN"===m.current_status&&(0,eb.jsxs)("button",{onClick:()=>g("LUNCH_START"),className:"bg-amber-500 hover:bg-amber-600 text-white p-6 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all",children:[(0,eb.jsx)(l6,{})," SALIDA A COLACIN"]}),"LUNCH"===m.current_status&&(0,eb.jsxs)("button",{onClick:()=>g("LUNCH_END"),className:"bg-blue-500 hover:bg-blue-600 text-white p-6 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all",children:[(0,eb.jsx)(lu,{})," VUELTA DE COLACIN"]}),"IN"===m.current_status&&(0,eb.jsxs)("button",{onClick:()=>g("CHECK_OUT"),className:"bg-red-500 hover:bg-red-600 text-white p-6 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all",children:[(0,eb.jsx)(oF,{})," FIN DE JORNADA"]})]})]}),(0,eb.jsx)("button",{onClick:()=>x(null),className:"mt-8 text-slate-400 hover:text-slate-600 font-medium",children:"Cancelar"})]})}):(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-100 flex flex-col",children:[(0,eb.jsxs)("div",{className:"bg-white p-6 shadow-sm flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)(oW.Clock,{className:"text-blue-600",size:32}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-xl font-bold text-slate-800",children:"Control de Asistencia"}),(0,eb.jsxs)("p",{className:"text-sm text-slate-500",children:[new Date().toLocaleDateString()," - ",new Date().toLocaleTimeString()]})]})]}),(0,eb.jsx)("button",{onClick:()=>n(!0),className:"text-slate-400 hover:text-red-500",children:(0,eb.jsx)(le.Lock,{size:20})})]}),(0,eb.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(0,eb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(e=>(0,eb.jsxs)(oR.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{s(e),l("BIOMETRIC")},className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-all flex flex-col items-center text-center relative overflow-hidden",children:[(0,eb.jsx)("div",{className:`absolute top-4 right-4 w-4 h-4 rounded-full ${"IN"===e.current_status?"bg-green-500 animate-pulse":"LUNCH"===e.current_status?"bg-amber-500":"bg-slate-300"}`}),(0,eb.jsx)("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4 text-slate-500 font-bold text-2xl",children:e.name.charAt(0)}),(0,eb.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:e.name}),(0,eb.jsx)("p",{className:"text-sm text-slate-500",children:e.role}),(0,eb.jsx)("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-bold ${"IN"===e.current_status?"bg-green-100 text-green-700":"LUNCH"===e.current_status?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:"IN"===e.current_status?"TRABAJANDO":"LUNCH"===e.current_status?"EN COLACIN":"FUERA"})]},e.id))})}),(0,eb.jsx)(tJ,{children:i&&o&&(0,eb.jsx)(oR.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)(oR.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-3xl p-8 max-w-md w-full relative",children:[(0,eb.jsx)("button",{onClick:()=>{s(null),l(null),d(""),f(null)},className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:(0,eb.jsx)(oF,{size:24})}),(0,eb.jsxs)("div",{className:"text-center mb-8",children:[(0,eb.jsx)("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 font-bold text-2xl",children:i.name.charAt(0)}),(0,eb.jsxs)("h3",{className:"text-xl font-bold text-slate-800",children:["Hola, ",i.name]}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Verifica tu identidad para continuar"})]}),u&&(0,eb.jsx)("div",{className:`mb-6 p-4 rounded-xl text-center font-bold ${"success"===u.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.text}),"BIOMETRIC"===o?(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("button",{onClick:h,className:"w-full py-8 border-2 border-dashed border-blue-300 bg-blue-50 rounded-2xl flex flex-col items-center gap-3 hover:bg-blue-100 transition-colors group",children:[(0,eb.jsx)(cf,{size:48,className:"text-blue-500 group-hover:scale-110 transition-transform"}),(0,eb.jsx)("span",{className:"font-bold text-blue-700",children:"Tocar Sensor de Huella"})]}),(0,eb.jsxs)("div",{className:"relative",children:[(0,eb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,eb.jsx)("div",{className:"w-full border-t border-slate-200"})}),(0,eb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,eb.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"O usa tu PIN"})})]}),(0,eb.jsx)("button",{onClick:()=>l("PIN"),className:"w-full py-3 text-slate-600 font-bold hover:bg-slate-50 rounded-xl transition-colors",children:"Ingresar PIN Manualmente"})]}):(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ingresa tu PIN de 4 dgitos"}),(0,eb.jsx)("input",{type:"password",maxLength:4,value:c,onChange:e=>d(e.target.value),className:"w-full text-center text-4xl tracking-widest font-bold py-4 border-2 border-slate-200 rounded-xl focus:border-blue-500 outline-none",placeholder:"",autoFocus:!0})]}),(0,eb.jsx)("button",{onClick:()=>{c===i.access_pin?(x(i),s(null),l(null),d(""),f(null)):(f({text:"PIN Incorrecto",type:"error"}),d(""))},className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 transition-all",children:"Confirmar PIN"}),(0,eb.jsx)("button",{onClick:()=>l("BIOMETRIC"),className:"w-full py-3 text-slate-600 font-bold hover:bg-slate-50 rounded-xl transition-colors",children:"Volver a Huella Digital"})]})]})})})]})},UN=(0,oM.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),UE=(0,oM.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),US=(0,oM.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Uk=(0,oM.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),UT=({isOpen:e,onClose:t,shipment:r})=>{let{confirmReception:a,uploadLogisticsDocument:n}=o4(),[i,s]=(0,ev.useState)([]),[o,l]=(0,ev.useState)(""),[c,d]=(0,ev.useState)([]),[u,f]=(0,ev.useState)("ITEMS"),[h,p]=(0,ev.useState)(null),[m,x]=(0,ev.useState)(null),g=(0,ev.useRef)(null);if((0,ev.useEffect)(()=>{r&&s(r.items.map(e=>({batchId:e.batchId,quantity:e.quantity,condition:"GOOD"})))},[r]),lq({onScan:e=>{let t=r.items.findIndex(t=>t.sku===e||t.batchId===e);if(-1!==t){let e=r.items[t].batchId;s(a=>a.map(a=>a.batchId===e?(o3.toast.success(`Escaneado: ${r.items[t].name}`),{...a,quantity:a.quantity+1}):a))}else o3.toast.error(`Producto no encontrado en este despacho: ${e}`)},minLength:3,targetInputRef:g}),!e)return null;let b=(e,t)=>{s(r=>r.map(r=>r.batchId===e?{...r,quantity:Math.max(0,t)}:r))},v=(e,t)=>{let r=e.target.files?.[0];if(r){let e=URL.createObjectURL(r);"PHOTO"===t&&d([...c,e]),"INVOICE"===t&&p(e),"GUIDE"===t&&x(e),o3.toast.success("Documento adjuntado")}},y=r.items.reduce((e,t)=>e+t.quantity,0),w=i.reduce((e,t)=>e+t.quantity,0);return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(lo.CheckCircle,{className:"text-emerald-600"}),"Recepcin de Carga"]}),(0,eb.jsxs)("p",{className:"text-sm text-gray-500",children:["INBOUND_PROVIDER"===r.type?"Proveedor":"Transferencia Interna","  OT: ",r.transport_data.tracking_number]})]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:20,className:"text-gray-500"})})]}),(0,eb.jsxs)("div",{className:"flex border-b border-gray-100 px-6",children:[(0,eb.jsxs)("button",{onClick:()=>f("ITEMS"),className:`px-6 py-3 font-bold text-sm border-b-2 transition-colors flex items-center gap-2 ${"ITEMS"===u?"border-blue-600 text-blue-600":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(oB,{size:18})," Items y Conteo"]}),(0,eb.jsxs)("button",{onClick:()=>f("DOCS"),className:`px-6 py-3 font-bold text-sm border-b-2 transition-colors flex items-center gap-2 ${"DOCS"===u?"border-blue-600 text-blue-600":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(lO.FileText,{size:18})," Documentacin"]})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:["ITEMS"===u&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex items-center gap-4",children:[(0,eb.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg text-blue-600",children:(0,eb.jsx)(cE,{size:24})}),(0,eb.jsxs)("div",{className:"flex-1",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Escner Activo"}),(0,eb.jsx)("input",{ref:g,type:"text",placeholder:"Pistolear producto para sumar...",className:"w-full bg-transparent outline-none font-mono text-lg text-gray-800 placeholder-gray-300",autoFocus:!0,onBlur:()=>setTimeout(()=>g.current?.focus(),100)})]}),(0,eb.jsxs)("div",{className:"text-right px-4 border-l border-gray-100",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Progreso"}),(0,eb.jsxs)("p",{className:`text-2xl font-extrabold ${w!==y?"text-amber-500":"text-emerald-600"}`,children:[w," / ",y]})]})]}),(0,eb.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:(0,eb.jsxs)("table",{className:"w-full",children:[(0,eb.jsx)("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500 font-bold",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"px-6 py-4 text-left",children:"Producto"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-center",children:"Lote"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-center",children:"Esperado"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-center",children:"Recibido"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-center",children:"Estado"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-gray-100",children:r.items.map(e=>{let t=i.find(t=>t.batchId===e.batchId);return t?(0,eb.jsxs)("tr",{className:t.quantity!==e.quantity?"bg-amber-50/30":"",children:[(0,eb.jsxs)("td",{className:"px-6 py-4",children:[(0,eb.jsx)("p",{className:"font-bold text-gray-800",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:e.sku})]}),(0,eb.jsx)("td",{className:"px-6 py-4 text-center",children:(0,eb.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-600",children:e.lot_number||"S/L"})}),(0,eb.jsx)("td",{className:"px-6 py-4 text-center font-medium text-gray-600",children:e.quantity}),(0,eb.jsx)("td",{className:"px-6 py-4 text-center",children:(0,eb.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,eb.jsx)("button",{onClick:()=>b(e.batchId,t.quantity-1),className:"w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold",children:"-"}),(0,eb.jsx)("input",{type:"number",value:t.quantity,onChange:t=>b(e.batchId,parseInt(t.target.value)||0),className:`w-16 text-center font-bold border rounded py-1 focus:ring-2 outline-none ${t.quantity!==e.quantity?"border-amber-300 text-amber-700 focus:ring-amber-200":"border-gray-200 text-gray-800 focus:ring-blue-200"}`}),(0,eb.jsx)("button",{onClick:()=>b(e.batchId,t.quantity+1),className:"w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold",children:"+"})]})}),(0,eb.jsx)("td",{className:"px-6 py-4 text-center",children:(0,eb.jsxs)("select",{value:t.condition,onChange:t=>{var r,a;return r=e.batchId,a=t.target.value,void s(e=>e.map(e=>e.batchId===r?{...e,condition:a}:e))},className:`px-3 py-1 rounded-lg text-sm font-bold border outline-none ${"GOOD"===t.condition?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[(0,eb.jsx)("option",{value:"GOOD",children:"OK"}),(0,eb.jsx)("option",{value:"DAMAGED",children:"DAADO"})]})})]},e.batchId):null})})]})})]}),"DOCS"===u&&(0,eb.jsxs)("div",{className:"space-y-6 max-w-3xl mx-auto",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-gray-800",children:"Factura"}),(0,eb.jsx)("p",{className:"text-xs text-gray-500",children:"Documento tributario"})]}),(0,eb.jsx)(lO.FileText,{className:"text-blue-500"})]}),h?(0,eb.jsxs)("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 h-40 bg-gray-50 flex items-center justify-center",children:[(0,eb.jsx)(lO.FileText,{size:48,className:"text-gray-300"}),(0,eb.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[(0,eb.jsx)("a",{href:h,target:"_blank",rel:"noreferrer",className:"p-2 bg-white rounded-full text-gray-800 hover:bg-gray-100",children:(0,eb.jsx)(cl,{size:20})}),(0,eb.jsx)("button",{onClick:()=>p(null),className:"p-2 bg-red-500 rounded-full text-white hover:bg-red-600",children:(0,eb.jsx)(oz.X,{size:20})})]}),(0,eb.jsx)("p",{className:"absolute bottom-2 text-xs font-bold text-gray-500",children:"Factura Adjunta"})]}):(0,eb.jsxs)("label",{className:"block w-full h-40 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer flex flex-col items-center justify-center text-gray-400",children:[(0,eb.jsx)(cU.Upload,{size:32,className:"mb-2"}),(0,eb.jsx)("span",{className:"text-sm font-bold",children:"Subir Factura (PDF/Img)"}),(0,eb.jsx)("input",{type:"file",className:"hidden",accept:"image/*,application/pdf",onChange:e=>v(e,"INVOICE")})]})]}),(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-gray-800",children:"Gua de Despacho"}),(0,eb.jsx)("p",{className:"text-xs text-gray-500",children:"Documento de transporte"})]}),(0,eb.jsx)(o$,{className:"text-orange-500"})]}),m?(0,eb.jsxs)("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 h-40 bg-gray-50 flex items-center justify-center",children:[(0,eb.jsx)(lO.FileText,{size:48,className:"text-gray-300"}),(0,eb.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[(0,eb.jsx)("a",{href:m,target:"_blank",rel:"noreferrer",className:"p-2 bg-white rounded-full text-gray-800 hover:bg-gray-100",children:(0,eb.jsx)(cl,{size:20})}),(0,eb.jsx)("button",{onClick:()=>x(null),className:"p-2 bg-red-500 rounded-full text-white hover:bg-red-600",children:(0,eb.jsx)(oz.X,{size:20})})]}),(0,eb.jsx)("p",{className:"absolute bottom-2 text-xs font-bold text-gray-500",children:"Gua Adjunta"})]}):(0,eb.jsxs)("label",{className:"block w-full h-40 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer flex flex-col items-center justify-center text-gray-400",children:[(0,eb.jsx)(cU.Upload,{size:32,className:"mb-2"}),(0,eb.jsx)("span",{className:"text-sm font-bold",children:"Subir Gua (PDF/Img)"}),(0,eb.jsx)("input",{type:"file",className:"hidden",accept:"image/*,application/pdf",onChange:e=>v(e,"GUIDE")})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsxs)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(UN,{size:18,className:"text-purple-500"}),"Evidencia Fotogrfica (Daos/Cajas)"]}),(0,eb.jsxs)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[(0,eb.jsxs)("label",{className:"flex-shrink-0 w-32 h-32 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-purple-400 hover:bg-purple-50 cursor-pointer transition-colors bg-gray-50",children:[(0,eb.jsx)(UN,{size:24,className:"mb-1"}),(0,eb.jsx)("span",{className:"text-xs font-bold uppercase",children:"Agregar Foto"}),(0,eb.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>v(e,"PHOTO")})]}),c.map((e,t)=>(0,eb.jsxs)("div",{className:"flex-shrink-0 w-32 h-32 rounded-xl border border-gray-200 overflow-hidden relative group",children:[(0,eb.jsx)("img",{src:e,alt:"Evidence",className:"w-full h-full object-cover"}),(0,eb.jsx)("button",{onClick:()=>d(c.filter((e,r)=>r!==t)),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm",children:(0,eb.jsx)(oz.X,{size:14})})]},t))]})]}),(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Observaciones Generales"}),(0,eb.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),placeholder:"Detalle cualquier anomala, discrepancia o comentario sobre la recepcin...",className:"w-full h-32 px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none resize-none text-sm"})]})]})]}),(0,eb.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-white rounded-b-2xl flex justify-end gap-4",children:[(0,eb.jsx)("button",{onClick:t,className:"px-6 py-3 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancelar"}),(0,eb.jsxs)("button",{onClick:()=>{let e=i.some(e=>{let t=r.items.find(t=>t.batchId===e.batchId);return t&&(e.quantity!==t.quantity||"DAMAGED"===e.condition)});e&&!o?o3.toast.error("Debes agregar una observacin si hay discrepancias"):(h&&n(r.id,"INVOICE",h),m&&n(r.id,"GUIDE",m),a(r.id,{photos:c,notes:o,receivedItems:i}),o3.toast.success(e?"Recepcin con observaciones registrada":"Recepcin exitosa"),t())},className:"px-8 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all flex items-center gap-2",children:[(0,eb.jsx)(lo.CheckCircle,{size:18}),"Confirmar Recepcin"]})]})]})})},UA=({isOpen:t,onClose:r})=>{let{inventory:a,createDispatch:n,user:i}=o4(),{currentLocation:s}=o8(),[o,l]=(0,ev.useState)(1),[c,d]=(0,ev.useState)(s?.id||"BODEGA_CENTRAL"),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)(""),[m,x]=(0,ev.useState)([]),[g,b]=(0,ev.useState)({carrier:"STARKEN",tracking_number:"",driver_name:"",package_count:1}),v=(0,ev.useRef)(null),y=(0,ev.useMemo)(()=>a.filter(e=>e.location_id===c&&e.stock_actual>0),[a,c]);lq({onScan:e=>{let t=y.filter(t=>t.sku===e||t.id===e);if(t.length>0){let e=t.sort((e,t)=>(e.expiry_date||0)-(t.expiry_date||0))[0],r=m.find(t=>t.batchId===e.id);r?r.quantity<r.max?(N(r.batchId,r.quantity+1),o3.toast.success(`+1 ${e.name} (Lote: ${e.lot_number})`)):o3.toast.error("Stock insuficiente para agregar ms"):(j(e),o3.toast.success(`Agregado: ${e.name} (Lote: ${e.lot_number})`))}else o3.toast.error(`Producto no encontrado: ${e}`)},minLength:3,targetInputRef:v});let w=(0,ev.useMemo)(()=>h?y.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.sku.includes(h)||e.lot_number&&e.lot_number.toLowerCase().includes(h.toLowerCase())).slice(0,10):[],[y,h]),j=e=>{m.find(t=>t.batchId===e.id)||(x([...m,{batchId:e.id,sku:e.sku,name:e.name,quantity:1,max:e.stock_actual,expiry:e.expiry_date,lot:e.lot_number}]),p(""))},N=(e,t)=>{x(r=>r.map(r=>r.batchId===e?{...r,quantity:Math.min(Math.max(1,t),r.max)}:r))};return t?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(o$,{className:"text-blue-600"}),"Nuevo Despacho"]}),(0,eb.jsx)("p",{className:"text-sm text-gray-500",children:"Asistente de creacin de envos"})]}),(0,eb.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:20,className:"text-gray-500"})})]}),(0,eb.jsx)("div",{className:"flex justify-between px-12 py-4 border-b border-gray-100 bg-white",children:[{num:1,label:"Ruta",icon:oq.MapPin},{num:2,label:"Picking Hbrido",icon:oB},{num:3,label:"Transporte",icon:o$},{num:4,label:"Confirmar",icon:lo.CheckCircle}].map(e=>(0,eb.jsxs)("div",{className:`flex flex-col items-center gap-2 ${o>=e.num?"text-blue-600":"text-gray-300"}`,children:[(0,eb.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${o>=e.num?"bg-blue-100 ring-4 ring-blue-50":"bg-gray-100"}`,children:(0,eb.jsx)(e.icon,{size:18})}),(0,eb.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:e.label})]},e.num))}),(0,eb.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50/50",children:[1===o&&(0,eb.jsxs)("div",{className:"max-w-xl mx-auto space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Origen"}),(0,eb.jsxs)("select",{value:c,onChange:e=>d(e.target.value),disabled:i?.role!=="MANAGER",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-medium",children:[(0,eb.jsx)("option",{value:"BODEGA_CENTRAL",children:"BODEGA_CENTRAL"}),(0,eb.jsx)("option",{value:"SUCURSAL_CENTRO",children:"SUCURSAL_CENTRO"}),(0,eb.jsx)("option",{value:"SUCURSAL_NORTE",children:"SUCURSAL_NORTE"})]})]}),(0,eb.jsx)("div",{className:"flex justify-center",children:(0,eb.jsx)("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:(0,eb.jsx)(lu,{size:24,className:"rotate-90"})})}),(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Destino"}),(0,eb.jsxs)("select",{value:u,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 font-medium",children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar Sucursal..."}),(0,eb.jsx)("option",{value:"SUCURSAL_CENTRO",disabled:"SUCURSAL_CENTRO"===c,children:"SUCURSAL_CENTRO"}),(0,eb.jsx)("option",{value:"SUCURSAL_NORTE",disabled:"SUCURSAL_NORTE"===c,children:"SUCURSAL_NORTE"}),(0,eb.jsx)("option",{value:"BODEGA_CENTRAL",disabled:"BODEGA_CENTRAL"===c,children:"BODEGA_CENTRAL"})]})]})]}),2===o&&(0,eb.jsxs)("div",{className:"space-y-6 h-full flex flex-col",children:[(0,eb.jsxs)("div",{className:"bg-blue-600 p-6 rounded-2xl shadow-lg text-white text-center shrink-0",children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-blue-100 mb-2 uppercase tracking-wider flex items-center justify-center gap-2",children:[(0,eb.jsx)(cE,{size:18})," Pistolear para agregar 1 unidad"]}),(0,eb.jsxs)("div",{className:"relative max-w-lg mx-auto",children:[(0,eb.jsx)("input",{ref:v,type:"text",placeholder:"Escanea aqu...",className:"w-full px-6 py-4 rounded-xl border-2 border-blue-400 bg-blue-700/50 text-white placeholder-blue-300 shadow-inner focus:ring-4 focus:ring-blue-400 focus:border-white text-2xl font-mono text-center outline-none transition-all",value:h,onChange:e=>p(e.target.value),autoFocus:!0,onBlur:()=>{}}),(0,eb.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-300 animate-pulse",children:(0,eb.jsx)(oB,{size:24})})]})]}),(0,eb.jsxs)("div",{className:"flex gap-6 flex-1 overflow-hidden",children:[(0,eb.jsxs)("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[(0,eb.jsx)(lx.Search,{size:18})," Resultados (",w.length,")"]}),(0,eb.jsx)("span",{className:"text-xs text-gray-400",children:"Mostrando lotes disponibles"})]}),(0,eb.jsxs)("div",{className:"overflow-y-auto flex-1 p-2 space-y-2",children:[0===w.length&&h.length>2&&(0,eb.jsx)("div",{className:"text-center py-10 text-gray-400",children:"No se encontraron productos"}),w.map(e=>(0,eb.jsxs)("div",{className:"bg-white border border-gray-100 rounded-lg p-3 hover:border-blue-300 transition-all group",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-gray-800",children:e.name}),(0,eb.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:["SKU: ",e.sku]})]}),(0,eb.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.expiry_date&&e.expiry_date<Date.now()+2592e6?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:e.expiry_date?new Date(e.expiry_date).toLocaleDateString():"S/F"})]}),(0,eb.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-3",children:[(0,eb.jsxs)("span",{className:"flex items-center gap-1",children:[(0,eb.jsx)(oB,{size:14})," Lote: ",e.lot_number||"N/A"]}),(0,eb.jsxs)("span",{className:"font-bold",children:["Stock: ",e.stock_actual]})]}),(0,eb.jsx)("button",{onClick:()=>j(e),className:"w-full py-2 bg-gray-50 hover:bg-blue-50 text-blue-600 font-bold rounded-lg transition-colors flex items-center justify-center gap-2 group-hover:bg-blue-600 group-hover:text-white",children:"Agregar al Despacho"})]},e.id))]})]}),(0,eb.jsxs)("div",{className:"w-1/3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,eb.jsxs)("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[(0,eb.jsx)(lo.CheckCircle,{size:18,className:"text-green-500"}),"Seleccionados"]}),(0,eb.jsx)("span",{className:"bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-bold",children:m.reduce((e,t)=>e+t.quantity,0)})]}),(0,eb.jsxs)("div",{className:"overflow-y-auto flex-1 p-2 space-y-2",children:[m.map(e=>(0,eb.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-100",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,eb.jsx)("p",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:e.name}),(0,eb.jsx)("button",{onClick:()=>{var t;return t=e.batchId,void x(e=>e.filter(e=>e.batchId!==t))},className:"text-gray-400 hover:text-red-500",children:(0,eb.jsx)(oz.X,{size:16})})]}),(0,eb.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:[(0,eb.jsxs)("span",{children:["Lote: ",e.lot||"N/A"]}),(0,eb.jsxs)("span",{children:["Vence: ",e.expiry?new Date(e.expiry).toLocaleDateString():"S/F"]})]}),(0,eb.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-1",children:[(0,eb.jsx)("button",{onClick:()=>N(e.batchId,e.quantity-1),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded",children:"-"}),(0,eb.jsx)("span",{className:"font-bold text-gray-800",children:e.quantity}),(0,eb.jsx)("button",{onClick:()=>N(e.batchId,e.quantity+1),className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded",children:"+"})]})]},e.batchId)),0===m.length&&(0,eb.jsx)("div",{className:"text-center py-10 text-gray-400 text-sm",children:"Lista vaca"})]})]})]})]}),3===o&&(0,eb.jsx)("div",{className:"max-w-xl mx-auto space-y-6",children:(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Empresa de Transporte"}),(0,eb.jsxs)("select",{value:g.carrier,onChange:e=>b({...g,carrier:e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 font-medium",children:[(0,eb.jsx)("option",{value:"STARKEN",children:"Starken"}),(0,eb.jsx)("option",{value:"CHILEXPRESS",children:"Chilexpress"}),(0,eb.jsx)("option",{value:"BLUE_EXPRESS",children:"Blue Express"}),(0,eb.jsx)("option",{value:"FLOTA_PROPIA",children:"Flota Propia"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nmero de Seguimiento / OT"}),(0,eb.jsx)("input",{type:"text",value:g.tracking_number,onChange:e=>b({...g,tracking_number:e.target.value}),placeholder:"Ej: 123456789",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 font-medium"})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Conductor (Opcional)"}),(0,eb.jsx)("input",{type:"text",value:g.driver_name,onChange:e=>b({...g,driver_name:e.target.value}),placeholder:"Nombre Chofer",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 font-medium"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Cantidad de Bultos"}),(0,eb.jsx)("input",{type:"number",value:g.package_count,onChange:e=>b({...g,package_count:parseInt(e.target.value)||1}),min:1,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 font-medium"})]})]})]})}),4===o&&(0,eb.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-6 text-center",children:[(0,eb.jsx)(lo.CheckCircle,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),(0,eb.jsx)("h3",{className:"text-2xl font-bold text-emerald-900 mb-2",children:"Todo listo para despachar"}),(0,eb.jsx)("p",{className:"text-emerald-700",children:"Revisa los detalles antes de confirmar la operacin."})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 divide-y divide-gray-100",children:[(0,eb.jsxs)("div",{className:"p-6 grid grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Ruta"}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 font-bold text-gray-800",children:[c," ",(0,eb.jsx)(lu,{size:14,className:"text-gray-400"})," ",u]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Transporte"}),(0,eb.jsxs)("p",{className:"font-bold text-gray-800",children:[g.carrier," - OT: ",g.tracking_number]})]})]}),(0,eb.jsxs)("div",{className:"p-6",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase mb-4",children:"Resumen de Carga"}),(0,eb.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,eb.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("span",{className:"text-gray-600 block",children:e.name}),(0,eb.jsxs)("span",{className:"text-xs text-gray-400",children:["Lote: ",e.lot||"N/A"]})]}),(0,eb.jsxs)("span",{className:"font-bold text-gray-900",children:["x",e.quantity]})]},e.batchId))}),(0,eb.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",children:[(0,eb.jsx)("span",{className:"font-bold text-gray-800",children:"Total Items"}),(0,eb.jsx)("span",{className:"text-xl font-bold text-blue-600",children:m.reduce((e,t)=>e+t.quantity,0)})]})]})]})]})]}),(0,eb.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-white rounded-b-2xl flex justify-between",children:[(0,eb.jsx)("button",{onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===o,className:"px-6 py-3 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors disabled:opacity-50",children:"Atrs"}),o<4?(0,eb.jsxs)("button",{onClick:()=>1!==o||u?2===o&&0===m.length?o3.toast.error("Agrega productos"):void l(e=>e+1):o3.toast.error("Selecciona destino"),className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all flex items-center gap-2",children:["Siguiente ",(0,eb.jsx)(lu,{size:18})]}):(0,eb.jsxs)("button",{onClick:()=>{u?0===m.length?o3.toast.error("Agrega al menos un producto"):g.tracking_number?(n({type:"INTERNAL_TRANSFER",origin_location_id:c,destination_location_id:u,transport_data:g,documentation:{evidence_photos:[]},items:m.map(e=>({batchId:e.batchId,sku:e.sku,name:e.name,quantity:e.quantity,condition:"GOOD"})),valuation:m.reduce((e,t)=>{let r=y.find(e=>e.id===t.batchId);return e+(r?.cost_price||0)*t.quantity},0)}),o3.toast.success("Despacho creado exitosamente"),e.A(34162).then(async({default:e})=>{let t=new e;t.text(`GU\xcdA DE DESPACHO INTERNA`,105,20,{align:"center"}),t.text(`OT: ${g.tracking_number}`,20,40),t.text(`Origen: ${c}`,20,50),t.text(`Destino: ${u}`,20,60),t.save(`guia-${g.tracking_number}.pdf`)}),r()):o3.toast.error("Ingresa el nmero de seguimiento (OT)"):o3.toast.error("Selecciona un destino")},className:"px-8 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all flex items-center gap-2",children:[(0,eb.jsx)(lo.CheckCircle,{size:18})," Confirmar Despacho"]})]})]})}):null},U_=(0,oM.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),UC=(0,oM.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),UO=({isOpen:e,onClose:t,shipment:r})=>{let{uploadLogisticsDocument:a,user:n}=o4(),[i,s]=(0,ev.useState)("PHOTO"),[o,l]=(0,ev.useState)(null);if(!e)return null;let c=n?.role==="MANAGER"||n?.role==="ADMIN",d=[{type:"Factura",url:r.documentation.invoice_url,icon:lO.FileText,key:"INVOICE"},{type:"Gua de Despacho",url:r.documentation.dispatch_guide_url,icon:lO.FileText,key:"GUIDE"},...r.documentation.evidence_photos.map((e,t)=>({type:`Evidencia #${t+1}`,url:e,icon:U_,key:"PHOTO",index:t}))].filter(e=>e.url);return(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Documentacin del Envo"}),(0,eb.jsxs)("p",{className:"text-sm text-gray-500 font-mono",children:["OT: ",r.transport_data.tracking_number]})]}),(0,eb.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:(0,eb.jsx)(oz.X,{size:20,className:"text-gray-500"})})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,eb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:d.length>0?d.map((e,t)=>(0,eb.jsxs)("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all group relative bg-white",children:[(0,eb.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:(0,eb.jsx)(e.icon,{size:24})}),c&&(0,eb.jsx)("button",{onClick:()=>(e.key,e.index,void(!c?o3.toast.error("Solo administradores pueden eliminar documentos"):o3.toast.info("Funcionalidad de eliminar pendiente de implementacin en store"))),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,eb.jsx)(ln.Trash2,{size:16})})]}),(0,eb.jsx)("h3",{className:"font-bold text-gray-700 mb-1",children:e.type}),(0,eb.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,eb.jsxs)("button",{onClick:()=>l(e.url),className:"flex-1 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[(0,eb.jsx)(cl,{size:16})," Ver"]}),(0,eb.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:(0,eb.jsx)(UC,{size:16})})]})]},t)):(0,eb.jsxs)("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[(0,eb.jsx)(lO.FileText,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,eb.jsx)("p",{className:"text-gray-500 font-medium",children:"No hay documentos adjuntos"})]})}),(0,eb.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:[(0,eb.jsxs)("h3",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(cU.Upload,{size:18}),"Adjuntar Nuevo Documento"]}),(0,eb.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[(0,eb.jsxs)("div",{className:"flex-1 w-full",children:[(0,eb.jsx)("label",{className:"block text-xs font-bold text-blue-700 mb-1 uppercase",children:"Tipo de Documento"}),(0,eb.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-blue-200 focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium",children:[(0,eb.jsx)("option",{value:"PHOTO",children:"Evidencia Fotogrfica"}),(0,eb.jsx)("option",{value:"GUIDE",children:"Gua de Despacho"}),(0,eb.jsx)("option",{value:"INVOICE",children:"Factura"})]})]}),(0,eb.jsx)("div",{className:"flex-1 w-full",children:(0,eb.jsxs)("label",{className:"block w-full cursor-pointer",children:[(0,eb.jsx)("input",{type:"file",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let n=URL.createObjectURL(t);a(r.id,i,n),o3.toast.success("Documento adjuntado correctamente")},accept:"image/*,.pdf"}),(0,eb.jsxs)("div",{className:"w-full px-4 py-2 bg-white border border-blue-200 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-center text-sm font-bold flex items-center justify-center gap-2",children:[(0,eb.jsx)(cU.Upload,{size:16}),"Seleccionar Archivo"]})]})})]})]})]}),o&&(0,eb.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4",onClick:()=>l(null),children:[(0,eb.jsx)("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",children:(0,eb.jsx)(oz.X,{size:32})}),(0,eb.jsx)("img",{src:o,alt:"Preview",className:"max-w-full max-h-full rounded-lg shadow-2xl",onClick:e=>e.stopPropagation()})]})]})})},UP=(0,oM.default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),UR=({isOpen:e,onClose:t})=>{let{inventory:r,suppliers:a}=o4(),[n,i]=(0,ev.useState)([]),[s,o]=(0,ev.useState)(null),[l,c]=(0,ev.useState)(""),d=(0,ev.useRef)(null);if(lq({onScan:e=>{let t=r.find(t=>t.sku===e||t.barcode===e||t.id===e);t?(i(e=>e.find(e=>e.sku===t.sku)?e.map(e=>e.sku===t.sku?{...e,quantity:e.quantity+1}:e):[...e,{sku:t.sku,name:t.name,quantity:1,cost:t.cost_price}]),o(t.name),o3.toast.success(`Le\xeddo: ${t.name}`)):o3.toast.error(`Producto desconocido: ${e}`)},minLength:3,targetInputRef:d}),!e)return null;let u=n.reduce((e,t)=>e+t.quantity,0),f=n.length;return(0,eb.jsxs)("div",{className:"fixed inset-0 bg-slate-900/95 backdrop-blur-md z-50 flex flex-col animate-in fade-in duration-200",children:[(0,eb.jsxs)("div",{className:"p-6 flex justify-between items-center border-b border-slate-700/50",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,eb.jsx)(cE,{className:"text-cyan-400",size:32}),"Recepcin Modo Escner"]}),(0,eb.jsx)("p",{className:"text-slate-400",children:"Escaneo rpido de entrada"})]}),(0,eb.jsx)("button",{onClick:t,className:"p-3 hover:bg-slate-800 rounded-full transition-colors text-slate-400 hover:text-white",children:(0,eb.jsx)(oz.X,{size:32})})]}),(0,eb.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[(0,eb.jsxs)("div",{className:"flex-1 p-8 flex flex-col items-center justify-center border-r border-slate-700/50 relative",children:[(0,eb.jsxs)("div",{className:"text-center mb-12",children:[(0,eb.jsx)("div",{className:"text-[120px] font-bold text-cyan-400 leading-none tabular-nums tracking-tighter drop-shadow-2xl",children:u}),(0,eb.jsx)("div",{className:"text-2xl text-slate-500 font-medium uppercase tracking-widest mt-2",children:"Unidades Totales"})]}),(0,eb.jsxs)("div",{className:"w-full max-w-2xl relative group",children:[(0,eb.jsx)("div",{className:"absolute inset-0 bg-cyan-500/20 blur-xl rounded-full opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"}),(0,eb.jsx)("input",{ref:d,type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full bg-slate-800 border-2 border-slate-600 focus:border-cyan-500 text-white text-3xl font-mono text-center py-6 rounded-2xl shadow-2xl outline-none transition-all placeholder:text-slate-600",placeholder:"Escanear Cdigo...",autoFocus:!0,onBlur:()=>setTimeout(()=>d.current?.focus(),100)}),(0,eb.jsx)("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-500",children:(0,eb.jsx)(cE,{size:32})})]}),(0,eb.jsxs)("div",{className:`mt-8 p-4 rounded-xl bg-slate-800/50 border border-slate-700 transition-all duration-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[(0,eb.jsx)("p",{className:"text-slate-400 text-sm uppercase font-bold mb-1 text-center",children:"ltimo Escaneado"}),(0,eb.jsx)("p",{className:"text-xl text-white font-bold text-center",children:s})]}),(0,eb.jsx)("div",{className:"absolute bottom-8 left-0 right-0 text-center text-slate-600 text-sm",children:(0,eb.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,eb.jsx)(UP,{size:16})," Sonido Activado"]})})]}),(0,eb.jsxs)("div",{className:"w-full lg:w-[450px] bg-slate-800/30 flex flex-col border-l border-slate-700/50",children:[(0,eb.jsx)("div",{className:"p-4 border-b border-slate-700/50 bg-slate-800/50",children:(0,eb.jsxs)("h3",{className:"text-white font-bold flex items-center justify-between",children:[(0,eb.jsx)("span",{children:"Lista de Entrada"}),(0,eb.jsxs)("span",{className:"bg-slate-700 px-2 py-1 rounded text-xs text-slate-300",children:[f," Lneas"]})]})}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:0===n.length?(0,eb.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 opacity-50",children:[(0,eb.jsx)(oB,{size:48,className:"mb-4"}),(0,eb.jsx)("p",{children:"Esperando productos..."})]}):n.map((e,t)=>(0,eb.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 flex justify-between items-center animate-in slide-in-from-right-4 duration-300",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-white font-bold",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 font-mono",children:e.sku})]}),(0,eb.jsx)("div",{className:"flex items-center gap-3",children:(0,eb.jsx)("div",{className:"text-2xl font-bold text-cyan-400 tabular-nums",children:e.quantity})})]},`${e.sku}-${t}`))}),(0,eb.jsx)("div",{className:"p-4 border-t border-slate-700/50 bg-slate-800/80 backdrop-blur",children:(0,eb.jsxs)("button",{onClick:()=>{0===n.length||o3.toast.success(`Recepci\xf3n guardada con ${n.reduce((e,t)=>e+t.quantity,0)} unidades.`),t()},className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-xl shadow-lg shadow-cyan-900/20 transition-all flex items-center justify-center gap-2",children:[(0,eb.jsx)(lQ.Save,{size:20})," Finalizar Recepcin"]})})]})]})]})},UI=()=>{let{shipments:t}=o4(),{currentLocation:r}=o8(),[a,n]=(0,ev.useState)("INBOUND"),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(null),[c,d]=(0,ev.useState)(!1),[u,f]=(0,ev.useState)(!1),[h,p]=(0,ev.useState)(!1),[m,x]=(0,ev.useState)(!1),[g,b]=(0,ev.useState)(!1),[v,y]=(0,ev.useState)({start:"",end:""}),[w,j]=(0,ev.useState)("newest"),N=r?.type==="WAREHOUSE",E=r?.id||"SUCURSAL_CENTRO",S=t.filter(e=>{if(!(e.transport_data.tracking_number.includes(i)||e.origin_location_id.toLowerCase().includes(i.toLowerCase())||e.items.some(e=>e.sku.includes(i))))return!1;let t=!0,r=new Date(e.created_at).getTime();if(v.start){let e=new Date(v.start).getTime();t=t&&r>=e}if(v.end){let e=new Date(v.end);e.setHours(23,59,59,999),t=t&&r<=e.getTime()}if(!t)return!1;if(N){if("INBOUND"===a)return!1;if("OUTBOUND"===a)return e.origin_location_id===E;if("TRANSIT"===a)return"IN_TRANSIT"===e.status&&e.origin_location_id===E;if("REVERSE"===a)return"RETURN"===e.type&&e.destination_location_id===E}else{if("INBOUND"===a)return"IN_TRANSIT"===e.status&&e.destination_location_id===E;if("OUTBOUND"===a)return e.origin_location_id===E;if("TRANSIT"===a)return"IN_TRANSIT"===e.status&&e.origin_location_id===E;if("REVERSE"===a)return"RETURN"===e.type&&e.origin_location_id===E}return!1}).sort((e,t)=>{let r=new Date(e.created_at).getTime(),a=new Date(t.created_at).getTime();return"newest"===w?a-r:r-a}),k=async()=>{try{let{default:r}=await e.A(34162),{default:a}=await e.A(98136),n=new r;n.setFontSize(18),n.setFont("helvetica","bold"),n.text("Informe de Movimientos de Bodega",14,20),n.setFontSize(10),n.setFont("helvetica","normal"),n.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,14,28),n.text(`Hora: ${new Date().toLocaleTimeString("es-CL")}`,14,33);let i=new Date;i.setHours(0,0,0,0);let s=t.filter(e=>e.created_at>=i.getTime()),o=s.map(e=>[new Date(e.created_at).toLocaleTimeString("es-CL"),"INBOUND_PROVIDER"===e.type?"Entrada":"INTERNAL_TRANSFER"===e.type?"Transferencia":"Devolucin",`${e.origin_location_id}  ${e.destination_location_id}`,e.status.replace("_"," "),e.transport_data.package_count.toString(),`$${e.valuation.toLocaleString("es-CL")}`]);a(n,{startY:40,head:[["Hora","Tipo","Ruta","Estado","Bultos","Valorizacin"]],body:o,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3}});let l=n.internal.pages.length-1;n.setFontSize(8),n.text(`Total de registros hoy: ${s.length}`,14,n.internal.pageSize.height-10),n.text(`P\xe1gina 1 de ${l}`,n.internal.pageSize.width-40,n.internal.pageSize.height-10),n.save(`informe-bodega-${new Date().toISOString().split("T")[0]}.pdf`),o3.toast.success("Reporte PDF generado exitosamente")}catch(e){console.error("Error generating PDF:",e),o3.toast.error("Error al generar el reporte PDF")}};return(0,eb.jsxs)("div",{className:"p-6 space-y-6 h-[calc(100vh-80px)] overflow-y-auto",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eb.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,eb.jsx)(oB,{className:"w-8 h-8 text-blue-600"}),"Operaciones Logsticas (WMS)"]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 flex items-center gap-2 font-bold text-sm shadow-lg shadow-cyan-200",children:[(0,eb.jsx)(UN,{className:"w-4 h-4"}),"Recepcin Escner"]}),(0,eb.jsxs)("button",{onClick:k,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 flex items-center gap-2 font-bold text-sm",children:[(0,eb.jsx)(lO.FileText,{className:"w-4 h-4"}),"Reportes"]}),(0,eb.jsxs)("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 font-bold text-sm shadow-lg shadow-blue-200",children:[(0,eb.jsx)(o$,{className:"w-4 h-4"}),"Nuevo Despacho"]})]})]}),(0,eb.jsxs)("div",{className:"flex gap-4 border-b border-gray-200",children:[(0,eb.jsxs)("button",{onClick:()=>n("INBOUND"),className:`pb-3 px-4 font-bold text-sm flex items-center gap-2 transition-colors ${"INBOUND"===a?"text-blue-600 border-b-2 border-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(lu,{className:"w-4 h-4 rotate-90"}),"Recepcin (Inbound)",t.filter(e=>"IN_TRANSIT"===e.status&&e.destination_location_id===E).length>0&&(0,eb.jsx)("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:t.filter(e=>"IN_TRANSIT"===e.status&&e.destination_location_id===E).length})]}),(0,eb.jsxs)("button",{onClick:()=>n("OUTBOUND"),className:`pb-3 px-4 font-bold text-sm flex items-center gap-2 transition-colors ${"OUTBOUND"===a?"text-blue-600 border-b-2 border-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(lu,{className:"w-4 h-4 -rotate-90"}),"Despacho (Outbound)"]}),(0,eb.jsxs)("button",{onClick:()=>n("TRANSIT"),className:`pb-3 px-4 font-bold text-sm flex items-center gap-2 transition-colors ${"TRANSIT"===a?"text-blue-600 border-b-2 border-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(o$,{className:"w-4 h-4"}),"En Trnsito"]}),(0,eb.jsxs)("button",{onClick:()=>n("REVERSE"),className:`pb-3 px-4 font-bold text-sm flex items-center gap-2 transition-colors ${"REVERSE"===a?"text-blue-600 border-b-2 border-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[(0,eb.jsx)(li.AlertTriangle,{className:"w-4 h-4"}),"Logstica Inversa"]})]}),(0,eb.jsxs)("div",{className:"space-y-2",children:[(0,eb.jsxs)("div",{className:"flex gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[(0,eb.jsxs)("div",{className:"relative flex-1",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar por OT, Proveedor o SKU...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-medium text-sm",value:i,onChange:e=>s(e.target.value)})]}),(0,eb.jsxs)("button",{onClick:()=>b(!g),className:`px-4 py-2 border rounded-lg flex items-center gap-2 font-bold text-sm transition-all ${g?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-200":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[(0,eb.jsx)(cO.Filter,{className:"w-4 h-4"}),"Filtros",(v.start||v.end)&&(0,eb.jsx)("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:[v.start,v.end].filter(Boolean).length})]})]}),g&&(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-slate-200 space-y-4",children:[(0,eb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,eb.jsxs)("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[(0,eb.jsx)(cO.Filter,{className:"w-4 h-4 text-blue-600"}),"Filtros Avanzados"]}),(0,eb.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,eb.jsx)(oz.X,{className:"w-5 h-5"})})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[(0,eb.jsx)(lZ,{className:"w-4 h-4 inline mr-1"}),"Desde"]}),(0,eb.jsx)("input",{type:"date",value:v.start,onChange:e=>y(t=>({...t,start:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[(0,eb.jsx)(lZ,{className:"w-4 h-4 inline mr-1"}),"Hasta"]}),(0,eb.jsx)("input",{type:"date",value:v.end,onChange:e=>y(t=>({...t,end:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[(0,eb.jsx)(oW.Clock,{className:"w-4 h-4 inline mr-1"}),"Ordenar por Fecha"]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsxs)("button",{onClick:()=>j("newest"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-all ${"newest"===w?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,eb.jsx)(US,{className:"w-4 h-4"}),"Recientes"]}),(0,eb.jsxs)("button",{onClick:()=>j("oldest"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-all ${"oldest"===w?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,eb.jsx)(UE,{className:"w-4 h-4"}),"Antiguos"]})]})]})]}),(0,eb.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[(0,eb.jsxs)("div",{className:"text-xs text-gray-600",children:[S.length," resultado(s) encontrado(s)"]}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsx)("button",{onClick:()=>{y({start:"",end:""}),j("newest"),s(""),o3.toast.success("Filtros limpiados")},className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Limpiar Filtros"}),(0,eb.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Aplicar"})]})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 min-h-[400px] p-6",children:["TRANSIT"===a&&(0,eb.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-center justify-between",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,eb.jsx)(o$,{className:"text-blue-600",size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-blue-600 uppercase",children:"Valorizacin en Ruta"}),(0,eb.jsxs)("p",{className:"text-2xl font-extrabold text-blue-900",children:["$",S.reduce((e,t)=>e+t.valuation,0).toLocaleString()]})]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-blue-400 uppercase",children:"Envos Activos"}),(0,eb.jsx)("p",{className:"text-xl font-bold text-blue-800",children:S.length})]})]}),0===S.length?(0,eb.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,eb.jsx)(oB,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),(0,eb.jsx)("h3",{className:"text-lg font-bold text-gray-500",children:"No hay registros encontrados"}),(0,eb.jsx)("p",{className:"text-sm",children:"Intente ajustar los filtros o cree una nueva operacin."})]}):(0,eb.jsx)("div",{className:"grid gap-4",children:S.map(e=>(0,eb.jsxs)("div",{className:"border border-gray-200 rounded-xl p-5 hover:shadow-md transition-all bg-white group",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,eb.jsxs)("div",{className:"flex items-start gap-4",children:[(0,eb.jsx)("div",{className:`p-3 rounded-xl ${"INBOUND_PROVIDER"===e.type?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:"INBOUND_PROVIDER"===e.type?(0,eb.jsx)(oB,{size:24}):(0,eb.jsx)(o$,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,eb.jsxs)("span",{className:"font-bold text-lg text-gray-800",children:["OT: ",e.transport_data.tracking_number]}),(0,eb.jsx)("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded-full uppercase tracking-wide
                                                    ${"IN_TRANSIT"===e.status?"bg-amber-100 text-amber-700":"DELIVERED"===e.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:e.status.replace("_"," ")})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-1",children:[(0,eb.jsx)(oq.MapPin,{size:14}),(0,eb.jsx)("span",{children:e.origin_location_id}),(0,eb.jsx)(lu,{size:14,className:"mx-1"}),(0,eb.jsx)("span",{className:"font-bold text-gray-700",children:e.destination_location_id})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-1",children:[(0,eb.jsx)(oW.Clock,{size:14}),(0,eb.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Transporte"}),(0,eb.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,eb.jsx)("p",{className:"font-bold text-gray-700",children:e.transport_data.carrier}),"TRANSIT"===a&&(0,eb.jsx)("button",{onClick:()=>{o3.toast.info(`Editando env\xedo OT: ${e.transport_data.tracking_number}`,{description:"Funcionalidad de edicin de transporte en desarrollo"})},className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Editar Transporte",children:(0,eb.jsx)(Uk,{size:12})})]}),(0,eb.jsxs)("p",{className:"text-xs text-gray-500",children:[e.transport_data.package_count," Bultos"]})]})]}),(0,eb.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center gap-4 overflow-x-auto",children:[e.items.slice(0,5).map((e,t)=>(0,eb.jsxs)("div",{className:"flex-shrink-0 bg-white border border-gray-200 px-3 py-1.5 rounded-md shadow-sm",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-gray-700",children:e.name}),(0,eb.jsxs)("p",{className:"text-[10px] text-gray-400",children:["Cant: ",e.quantity]})]},t)),e.items.length>5&&(0,eb.jsxs)("span",{className:"text-xs font-bold text-gray-400",children:["+",e.items.length-5," ms..."]})]}),(0,eb.jsxs)("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:[(0,eb.jsxs)("button",{onClick:()=>{l(e),x(!0)},className:"px-4 py-2 text-sm font-bold text-gray-500 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:[(0,eb.jsx)(lO.FileText,{size:16})," Ver Documentos"]}),"INBOUND"===a&&"IN_TRANSIT"===e.status&&(0,eb.jsxs)("button",{onClick:()=>{l(e),d(!0)},className:"px-4 py-2 text-sm font-bold bg-emerald-600 text-white hover:bg-emerald-700 rounded-lg shadow-md shadow-emerald-100 flex items-center gap-2 transition-all transform hover:scale-105",children:[(0,eb.jsx)(lo.CheckCircle,{size:16}),"Recepcionar Carga"]})]})]},e.id))})]}),o&&(0,eb.jsx)(UT,{isOpen:c,onClose:()=>{d(!1),l(null)},shipment:o}),o&&(0,eb.jsx)(UO,{isOpen:m,onClose:()=>{x(!1),l(null)},shipment:o}),(0,eb.jsx)(UR,{isOpen:u,onClose:()=>f(!1)}),(0,eb.jsx)(UA,{isOpen:h,onClose:()=>p(!1)})]})},UD=(0,oM.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),UM=["Banco Estado","Banco de Chile","Banco Santander","Banco BCI","Banco Scotiabank","Banco Ita","Banco Security","Banco Falabella","Banco Ripley","Banco Consorcio"],UL=["Regin de Arica y Parinacota","Regin de Tarapac","Regin de Antofagasta","Regin de Atacama","Regin de Coquimbo","Regin de Valparaso","Regin Metropolitana","Regin del Libertador General Bernardo O'Higgins","Regin del Maule","Regin de uble","Regin del Biobo","Regin de La Araucana","Regin de Los Ros","Regin de Los Lagos","Regin de Aysn","Regin de Magallanes"],UF=["Laboratorio Farmacutico","Distribuidora Mayorista","Insumos Mdicos","Retail y Belleza","Servicios Logsticos","Equipamiento Mdico"],UU=({isOpen:e,onClose:t,onSave:r})=>{let[a,n]=(0,ev.useState)(""),[i,s]=(0,ev.useState)(""),[o,l]=(0,ev.useState)(""),[c,d]=(0,ev.useState)(""),[u,f]=(0,ev.useState)(""),[h,p]=(0,ev.useState)(""),[m,x]=(0,ev.useState)(""),[g,b]=(0,ev.useState)(""),[v,y]=(0,ev.useState)(""),[w,j]=(0,ev.useState)(""),[N,E]=(0,ev.useState)(""),[S,k]=(0,ev.useState)(""),[T,A]=(0,ev.useState)(""),[_,C]=(0,ev.useState)(""),[O,P]=(0,ev.useState)(""),[R,I]=(0,ev.useState)("CORRIENTE"),[D,M]=(0,ev.useState)(""),[L,F]=(0,ev.useState)(""),[U,z]=(0,ev.useState)(""),[B,V]=(0,ev.useState)([]),[H,W]=(0,ev.useState)("30_DIAS"),[G,q]=(0,ev.useState)(7),K=()=>{let e=U.trim();e&&!B.includes(e)&&(V([...B,e]),z(""))},Y=e=>{if(e.preventDefault(),!a||!i||!o||!c)return void o3.toast.error("Por favor completa los campos obligatorios de Datos Empresa");if(!h||!m||!g||!S||!T||!w)return void o3.toast.error("Por favor completa los campos obligatorios de Ubicacin & Contacto");let n=O&&D?{bank:O,account_type:R,account_number:D,email_notification:T,rut_holder:L||a}:void 0;r({rut:a,business_name:i,fantasy_name:o,website:u,address:h,region:m,city:g,commune:v,phone_1:w,phone_2:N,contact_email:_||S,email_orders:S,email_billing:T,contacts:[],sector:c,brands:B,categories:[],payment_terms:H,rating:3,lead_time_days:G,bank_account:n}),X(),t()},X=()=>{n(""),s(""),l(""),d(""),f(""),p(""),x(""),b(""),y(""),j(""),E(""),k(""),A(""),C(""),P(""),I("CORRIENTE"),M(""),F(""),V([]),z(""),W("30_DIAS"),q(7)};return e?(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4 flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"bg-white/20 p-2 rounded-lg",children:(0,eb.jsx)(oG,{className:"w-6 h-6 text-white"})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h2",{className:"text-xl font-bold text-white",children:"Nuevo Proveedor"}),(0,eb.jsx)("p",{className:"text-blue-100 text-sm",children:"Alta Maestra de Socio Comercial"})]})]}),(0,eb.jsx)("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors",children:(0,eb.jsx)(oz.X,{className:"w-6 h-6"})})]}),(0,eb.jsxs)("form",{onSubmit:Y,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oG,{className:"w-5 h-5 text-blue-600"}),"A. Datos de la Empresa"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["RUT ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"12.345.678-9",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Razn Social ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Laboratorios Chile S.A.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Nombre Fantasa ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"Lab Chile",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Rubro/Sector ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),UF.map(e=>(0,eb.jsx)("option",{value:e,children:e},e))]})]}),(0,eb.jsxs)("div",{className:"md:col-span-2",children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Sitio Web"}),(0,eb.jsx)("input",{type:"url",value:u,onChange:e=>f(e.target.value),placeholder:"https://www.ejemplo.cl",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oq.MapPin,{className:"w-5 h-5 text-green-600"}),"B. Ubicacin & Contacto"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{className:"md:col-span-2",children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Direccin ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Av. Libertador Bernardo O'Higgins 1234",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Regin ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0,children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),UL.map(e=>(0,eb.jsx)("option",{value:e,children:e},e))]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Ciudad ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"Santiago",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Comuna"}),(0,eb.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Providencia",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Telfono Principal ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"tel",value:w,onChange:e=>j(e.target.value),placeholder:"+56 2 2345 6789",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Telfono Secundario"}),(0,eb.jsx)("input",{type:"tel",value:N,onChange:e=>E(e.target.value),placeholder:"+56 9 8765 4321",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Email Pedidos/O.C. ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"email",value:S,onChange:e=>k(e.target.value),placeholder:"pedidos@proveedor.cl",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Email Facturacin/Cobranza ",(0,eb.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,eb.jsx)("input",{type:"email",value:T,onChange:e=>A(e.target.value),placeholder:"cobranza@proveedor.cl",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",required:!0})]})]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lv.CreditCard,{className:"w-5 h-5 text-purple-600"}),"C. Datos Bancarios (Para Transferencias)"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Banco"}),(0,eb.jsxs)("select",{value:O,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",children:[(0,eb.jsx)("option",{value:"",children:"Seleccionar..."}),UM.map(e=>(0,eb.jsx)("option",{value:e,children:e},e))]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tipo de Cuenta"}),(0,eb.jsxs)("select",{value:R,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",children:[(0,eb.jsx)("option",{value:"CORRIENTE",children:"Cuenta Corriente"}),(0,eb.jsx)("option",{value:"VISTA",children:"Cuenta Vista"}),(0,eb.jsx)("option",{value:"AHORRO",children:"Cuenta de Ahorro"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nmero de Cuenta"}),(0,eb.jsx)("input",{type:"text",value:D,onChange:e=>M(e.target.value),placeholder:"1234567890",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none"})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"RUT Titular (si difiere)"}),(0,eb.jsx)("input",{type:"text",value:L,onChange:e=>F(e.target.value),placeholder:"11.111.111-1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none"})]})]})]}),(0,eb.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lb,{className:"w-5 h-5 text-orange-600"}),"D. Marcas & Portafolio"]}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Agregar Marcas"}),(0,eb.jsxs)("div",{className:"flex gap-2",children:[(0,eb.jsx)("input",{type:"text",value:U,onChange:e=>z(e.target.value),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),K())},placeholder:"Escribe una marca y presiona Enter o Espacio",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"}),(0,eb.jsxs)("button",{type:"button",onClick:K,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2",children:[(0,eb.jsx)(lg.Plus,{className:"w-4 h-4"}),"Agregar"]})]}),(0,eb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Presiona Enter o Espacio para agregar cada marca"})]}),B.length>0&&(0,eb.jsx)("div",{className:"flex flex-wrap gap-2",children:B.map((e,t)=>(0,eb.jsxs)("div",{className:"bg-orange-100 text-orange-800 px-3 py-1.5 rounded-full flex items-center gap-2 text-sm font-medium",children:[(0,eb.jsx)(lb,{className:"w-3 h-3"}),e,(0,eb.jsx)("button",{type:"button",onClick:()=>{V(B.filter(t=>t!==e))},className:"hover:text-orange-900",children:(0,eb.jsx)(ln.Trash2,{className:"w-3 h-3"})})]},t))}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-orange-200",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Condiciones de Pago"}),(0,eb.jsxs)("select",{value:H,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none",children:[(0,eb.jsx)("option",{value:"CONTADO",children:"Contado"}),(0,eb.jsx)("option",{value:"30_DIAS",children:"30 Das"}),(0,eb.jsx)("option",{value:"60_DIAS",children:"60 Das"}),(0,eb.jsx)("option",{value:"90_DIAS",children:"90 Das"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tiempo de Entrega (das)"}),(0,eb.jsx)("input",{type:"number",value:G,onChange:e=>q(parseInt(e.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})]})]})]})]}),(0,eb.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center border-t border-gray-200",children:[(0,eb.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,eb.jsx)("span",{className:"text-red-500",children:"*"})," Campos obligatorios"]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsx)("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 font-medium",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:Y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg shadow-blue-200",children:"Guardar Proveedor"})]})]})]})}):null},Uz=()=>{let{suppliers:e,addSupplier:t}=o4(),[r,a]=(0,ev.useState)(""),[n,i]=(0,ev.useState)("ALL"),[s,o]=(0,ev.useState)(!1),l=e.filter(e=>{let t=e.business_name.toLowerCase().includes(r.toLowerCase())||e.fantasy_name.toLowerCase().includes(r.toLowerCase())||e.rut.includes(r),a="ALL"===n||e.categories.includes(n);return t&&a});return(0,eb.jsxs)("div",{className:"p-6 space-y-6 bg-slate-50 min-h-screen",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Directorio de Proveedores"}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Gestin 360 de laboratorios y distribuidores"})]}),(0,eb.jsxs)("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,eb.jsx)(lg.Plus,{size:20}),"Nuevo Proveedor"]})]}),(0,eb.jsx)(UU,{isOpen:s,onClose:()=>o(!1),onSave:e=>{t(e),o3.toast.success(` Proveedor ${e.fantasy_name} registrado exitosamente`)}}),(0,eb.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-4 items-center",children:[(0,eb.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,eb.jsx)("input",{type:"text",placeholder:"Buscar por nombre, RUT o fantasa...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:r,onChange:e=>a(e.target.value)})]}),(0,eb.jsx)("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:["ALL","MEDICAMENTOS","INSUMOS","RETAIL"].map(e=>(0,eb.jsx)("button",{onClick:()=>i(e),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${n===e?"bg-blue-100 text-blue-700 border border-blue-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:"ALL"===e?"Todos":e},e))})]}),(0,eb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,eb.jsxs)(tO,{to:`/suppliers/${e.id}`,className:"group bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:border-blue-300 transition-all duration-200 overflow-hidden flex flex-col",children:[(0,eb.jsxs)("div",{className:"p-5 flex-1",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400",children:e.logo_url?(0,eb.jsx)("img",{src:e.logo_url,alt:e.fantasy_name,className:"w-full h-full object-contain rounded-lg"}):(0,eb.jsx)(oG,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 group-hover:text-blue-600 transition-colors",children:e.fantasy_name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:e.business_name})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded text-yellow-700 text-xs font-bold",children:[(0,eb.jsx)(c_,{size:12,className:"fill-yellow-500 text-yellow-500"}),e.rating,".0"]})]}),(0,eb.jsxs)("div",{className:"space-y-2 text-sm text-slate-600",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)(lv.CreditCard,{size:16,className:"text-slate-400"}),(0,eb.jsx)("span",{children:e.rut})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)(UD,{size:16,className:"text-slate-400"}),(0,eb.jsx)("span",{className:"truncate",children:e.contact_email})]}),(0,eb.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:e.categories.map(e=>(0,eb.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded-full border border-slate-200",children:e},e))})]})]}),(0,eb.jsxs)("div",{className:"bg-slate-50 px-5 py-3 border-t border-slate-100 flex justify-between items-center",children:[(0,eb.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,eb.jsx)("span",{className:"block font-medium text-slate-700",children:"Condicin Pago"}),e.payment_terms.replace("_"," ")]}),(0,eb.jsxs)("div",{className:"flex items-center gap-1 text-blue-600 text-sm font-medium",children:["Ver Perfil ",(0,eb.jsx)(lU,{size:16})]})]})]},e.id))})]})},UB=(0,oM.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var UV=e.i(43432);let U$=(0,oM.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),UH=(0,oM.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),UW=()=>{let{id:e}=function(){let{matches:e}=ey.useContext(eJ),t=e[e.length-1];return t?t.params:{}}(),{suppliers:t,purchaseOrders:r,supplierDocuments:a}=o4(),[n,i]=(0,ev.useState)("PROFILE"),s=t.find(t=>t.id===e);if(!s)return(0,eb.jsxs)("div",{className:"p-10 text-center",children:[(0,eb.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Proveedor no encontrado"}),(0,eb.jsx)(tO,{to:"/suppliers",className:"text-blue-600 hover:underline mt-2 block",children:"Volver al directorio"})]});let o=r.filter(t=>t.supplier_id===e),l=a.filter(t=>t.supplier_id===e).filter(e=>"FACTURA"===e.type&&"PENDING"===e.status).reduce((e,t)=>e+t.amount,0);return(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,eb.jsx)("div",{className:"bg-white border-b border-slate-200 shadow-sm",children:(0,eb.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,eb.jsxs)(tO,{to:"/suppliers",className:"inline-flex items-center text-slate-500 hover:text-slate-800 mb-4 transition-colors",children:[(0,eb.jsx)(UB,{size:16,className:"mr-1"})," Volver al Directorio"]}),(0,eb.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,eb.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-xl flex items-center justify-center border border-slate-200",children:s.logo_url?(0,eb.jsx)("img",{src:s.logo_url,alt:s.fantasy_name,className:"w-full h-full object-contain rounded-xl"}):(0,eb.jsx)(oG,{size:32,className:"text-slate-400"})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:s.fantasy_name}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[(0,eb.jsx)("span",{children:s.business_name}),(0,eb.jsx)("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),(0,eb.jsx)("span",{children:s.rut})]})]})]}),(0,eb.jsxs)("div",{className:"flex gap-3",children:[(0,eb.jsxs)("div",{className:"text-right px-4 py-2 bg-red-50 border border-red-100 rounded-lg",children:[(0,eb.jsx)("p",{className:"text-xs text-red-600 font-semibold uppercase",children:"Deuda Actual"}),(0,eb.jsxs)("p",{className:"text-xl font-bold text-red-700",children:["$",l.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"text-right px-4 py-2 bg-blue-50 border border-blue-100 rounded-lg",children:[(0,eb.jsx)("p",{className:"text-xs text-blue-600 font-semibold uppercase",children:"Lead Time"}),(0,eb.jsxs)("p",{className:"text-xl font-bold text-blue-700",children:[s.lead_time_days," Das"]})]})]})]}),(0,eb.jsx)("div",{className:"flex gap-6 mt-8 border-b border-slate-200",children:[{id:"PROFILE",label:"Perfil & Contacto",icon:oG},{id:"HISTORY",label:"Historial Pedidos",icon:UH},{id:"ACCOUNT",label:"Cuenta Corriente",icon:lv.CreditCard},{id:"PRODUCTS",label:"Productos",icon:oB}].map(e=>(0,eb.jsxs)("button",{onClick:()=>i(e.id),className:`pb-3 px-2 flex items-center gap-2 font-medium text-sm transition-colors relative ${n===e.id?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:[(0,eb.jsx)(e.icon,{size:18}),e.label,n===e.id&&(0,eb.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]},e.id))})]})}),(0,eb.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:["PROFILE"===n&&(0,eb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,eb.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oG,{size:20,className:"text-blue-600"}),"Informacin Comercial"]}),(0,eb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Razn Social"}),(0,eb.jsx)("p",{className:"text-slate-800 font-medium",children:s.business_name})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"RUT"}),(0,eb.jsx)("p",{className:"text-slate-800 font-medium",children:s.rut})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Sitio Web"}),(0,eb.jsxs)("a",{href:s.website,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:[s.website||"No registrado"," ",(0,eb.jsx)(U$,{size:14})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Condicin de Pago"}),(0,eb.jsx)("span",{className:"inline-block px-2 py-1 bg-slate-100 rounded text-slate-700 text-sm font-medium",children:s.payment_terms.replace("_"," ")})]})]})]}),(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,eb.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(lv.CreditCard,{size:20,className:"text-blue-600"}),"Datos Bancarios"]}),s.bank_account?(0,eb.jsx)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:"Banco"}),(0,eb.jsx)("p",{className:"font-medium text-slate-800",children:s.bank_account.bank})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:"Tipo Cuenta"}),(0,eb.jsx)("p",{className:"font-medium text-slate-800",children:s.bank_account.account_type})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:"Nmero"}),(0,eb.jsx)("p",{className:"font-mono font-medium text-slate-800",children:s.bank_account.account_number})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:"Email Notificacin"}),(0,eb.jsx)("p",{className:"font-medium text-slate-800",children:s.bank_account.email_notification})]})]})}):(0,eb.jsx)("div",{className:"text-slate-500 italic",children:"No hay datos bancarios registrados."})]})]}),(0,eb.jsx)("div",{className:"space-y-6",children:(0,eb.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,eb.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Contactos"}),(0,eb.jsxs)("div",{className:"space-y-4",children:[s.contacts.map((e,t)=>(0,eb.jsxs)("div",{className:"pb-4 border-b border-slate-100 last:border-0 last:pb-0",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start",children:[(0,eb.jsx)("p",{className:"font-bold text-slate-800",children:e.name}),e.is_primary&&(0,eb.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-full",children:"PRINCIPAL"})]}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:e.role}),(0,eb.jsxs)("div",{className:"space-y-1",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,eb.jsx)(UD,{size:14})," ",(0,eb.jsx)("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600",children:e.email})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,eb.jsx)(UV.Phone,{size:14})," ",(0,eb.jsx)("span",{children:e.phone})]})]})]},t)),0===s.contacts.length&&(0,eb.jsx)("p",{className:"text-slate-500 text-sm",children:"No hay contactos registrados."})]})]})})]}),"HISTORY"===n&&(0,eb.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,eb.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,eb.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-200",children:(0,eb.jsxs)("tr",{children:[(0,eb.jsx)("th",{className:"px-6 py-4",children:"ID Orden"}),(0,eb.jsx)("th",{className:"px-6 py-4",children:"Fecha"}),(0,eb.jsx)("th",{className:"px-6 py-4",children:"Estado"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-right",children:"Monto"}),(0,eb.jsx)("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-100",children:o.length>0?o.map(e=>(0,eb.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,eb.jsx)("td",{className:"px-6 py-4 font-medium text-slate-900",children:e.id}),(0,eb.jsx)("td",{className:"px-6 py-4 text-slate-600",children:new Date(e.created_at).toLocaleDateString()}),(0,eb.jsx)("td",{className:"px-6 py-4",children:(0,eb.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"COMPLETED"===e.status?"bg-green-100 text-green-700":"SENT"===e.status?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-700"}`,children:e.status})}),(0,eb.jsxs)("td",{className:"px-6 py-4 text-right font-medium text-slate-900",children:["$",e.total_estimated.toLocaleString()]}),(0,eb.jsx)("td",{className:"px-6 py-4 text-center",children:(0,eb.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-xs",children:"Ver Detalle"})})]},e.id)):(0,eb.jsx)("tr",{children:(0,eb.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No hay rdenes de compra registradas."})})})]})}),"ACCOUNT"===n&&(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsx)("div",{className:"flex justify-end",children:(0,eb.jsxs)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm font-medium",children:[(0,eb.jsx)(UG,{})," Nueva Factura / NC"]})}),(0,eb.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,eb.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,eb.jsx)(lO.FileText,{size:48,className:"mx-auto mb-4 text-slate-300"}),(0,eb.jsx)("p",{children:"Mdulo de Cuenta Corriente en construccin."}),(0,eb.jsx)("p",{className:"text-sm mt-2",children:"Aqu se mostrarn Facturas y Notas de Crdito."})]})})]}),"PRODUCTS"===n&&(0,eb.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center text-slate-500",children:[(0,eb.jsx)(oB,{size:48,className:"mx-auto mb-4 text-slate-300"}),(0,eb.jsx)("p",{children:"Catlogo de productos del proveedor."})]})]})]})},UG=()=>(0,eb.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,eb.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,eb.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Uq=(0,oM.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),UK=(0,oM.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);var UY=e.i(23962);let UX=(0,oM.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),UZ=()=>{let{locations:e,kiosks:t,currentLocation:r,addLocation:a,switchLocation:n,generatePairingCode:i}=o8(),{employees:s,user:o}=o4(),[l,c]=(0,ev.useState)("BRANCHES"),[d,u]=(0,ev.useState)(!1),[f,h]=(0,ev.useState)({type:"STORE",name:"",address:""}),[p,m]=(0,ev.useState)(null),[x,g]=(0,ev.useState)(null),[b,v]=(0,ev.useState)("");return(0,eb.jsxs)("div",{className:"h-full flex flex-col bg-slate-50 p-6 overflow-hidden",children:[(0,eb.jsxs)("header",{className:"flex justify-between items-center mb-6",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsxs)("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[(0,eb.jsx)(oq.MapPin,{className:"text-cyan-600"}),"Gestin de Red"]}),(0,eb.jsx)("p",{className:"text-slate-500",children:"Administra sucursales, bodegas y puntos de atencin."})]}),(0,eb.jsxs)("button",{onClick:()=>u(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-xl font-bold hover:bg-cyan-700 transition-colors flex items-center gap-2 shadow-lg shadow-cyan-200",children:[(0,eb.jsx)(lg.Plus,{size:20}),"Nueva Sucursal"]})]}),(0,eb.jsxs)("div",{className:"bg-slate-800 text-white p-4 rounded-xl mb-6 flex justify-between items-center shadow-lg",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"p-2 bg-white/10 rounded-lg",children:r?.type==="WAREHOUSE"?(0,eb.jsx)(o7,{size:24}):(0,eb.jsx)(Uq,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs text-slate-400 uppercase tracking-wider font-bold",children:"Ubicacin Actual (Contexto)"}),(0,eb.jsx)("h2",{className:"text-xl font-bold",children:r?.name})]})]}),(0,eb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,eb.jsx)("span",{className:"text-xs text-slate-400",children:"Cambiar vista:"}),(0,eb.jsx)("select",{className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1 text-sm font-bold focus:outline-none focus:border-cyan-500",value:r?.id,onChange:e=>n(e.target.value),children:e.map(e=>(0,eb.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,eb.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[(0,eb.jsx)("button",{onClick:()=>c("BRANCHES"),className:`px-4 py-2 font-bold text-sm border-b-2 transition-colors ${"BRANCHES"===l?"border-cyan-600 text-cyan-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:"Sucursales"}),(0,eb.jsx)("button",{onClick:()=>c("TEAMS"),className:`px-4 py-2 font-bold text-sm border-b-2 transition-colors ${"TEAMS"===l?"border-cyan-600 text-cyan-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:"Equipos"}),(0,eb.jsx)("button",{onClick:()=>c("DEVICES"),className:`px-4 py-2 font-bold text-sm border-b-2 transition-colors ${"DEVICES"===l?"border-cyan-600 text-cyan-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:"Dispositivos"}),(0,eb.jsx)("button",{onClick:()=>c("MANAGERS"),className:`px-4 py-2 font-bold text-sm border-b-2 transition-colors ${"MANAGERS"===l?"border-cyan-600 text-cyan-700":"border-transparent text-slate-400 hover:text-slate-600"}`,children:"Gerentes"})]}),(0,eb.jsxs)("div",{className:"flex-1 overflow-hidden",children:["BRANCHES"===l&&(0,eb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto pb-20",children:e.map(e=>(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden group hover:shadow-md transition-all",children:[(0,eb.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start",children:[(0,eb.jsxs)("div",{className:"flex items-start gap-3",children:[(0,eb.jsx)("div",{className:`p-3 rounded-xl ${"WAREHOUSE"===e.type?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:"WAREHOUSE"===e.type?(0,eb.jsx)(o7,{size:24}):(0,eb.jsx)(Uq,{size:24})}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"HQ"===e.type?"Casa Matriz":"WAREHOUSE"===e.type?"Bodega":"Sucursal"})]})]}),(0,eb.jsx)("button",{className:"text-slate-300 hover:text-slate-600 transition-colors",children:(0,eb.jsx)(oL,{size:18})})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-3 gap-2 p-4 border-b border-slate-100 bg-slate-50/50",children:[(0,eb.jsxs)("div",{className:"text-center",children:[(0,eb.jsx)("p",{className:"text-xs text-slate-400 font-bold",children:"VENTAS"}),(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-700",children:"$1.2M"})]}),(0,eb.jsxs)("div",{className:"text-center border-l border-slate-200",children:[(0,eb.jsx)("p",{className:"text-xs text-slate-400 font-bold",children:"PERSONAL"}),(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-700",children:s.filter(t=>t.assigned_location_id===e.id||!t.assigned_location_id&&t.base_location_id===e.id).length})]}),(0,eb.jsxs)("div",{className:"text-center border-l border-slate-200",children:[(0,eb.jsx)("p",{className:"text-xs text-slate-400 font-bold",children:"ALERTAS"}),(0,eb.jsx)("p",{className:"text-sm font-bold text-red-500",children:"3"})]})]}),(0,eb.jsx)("div",{className:"p-6 space-y-4",children:(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Direccin"}),(0,eb.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-1",children:[(0,eb.jsx)(oq.MapPin,{size:14})," ",e.address]})]})}),(0,eb.jsxs)("div",{className:"bg-slate-50 p-4 border-t border-slate-100 flex justify-between items-center",children:[(0,eb.jsxs)("span",{className:"text-xs font-bold text-slate-500",children:["ID: ",e.id]}),r?.id===e.id&&(0,eb.jsxs)("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-100 px-2 py-1 rounded-full",children:[(0,eb.jsx)(lo.CheckCircle,{size:12})," Contexto Activo"]})]})]},e.id))}),"TEAMS"===l&&(0,eb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex flex-col",children:[(0,eb.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oD.Users,{className:"text-slate-400"})," Personal Disponible (Global)"]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3",children:s.map(e=>(0,eb.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 hover:border-cyan-200 transition-colors group",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center font-bold text-slate-500",children:e.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-slate-700",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:e.job_title})]})]}),(0,eb.jsxs)("div",{className:"text-right",children:[(0,eb.jsx)("p",{className:"text-xs font-bold text-slate-400",children:e.assigned_location_id||"Sin Asignar"}),(0,eb.jsxs)("button",{className:"text-xs text-cyan-600 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:["Mover a ",r?.name]})]})]},e.id))})]}),(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex flex-col border-l-4 border-l-cyan-500",children:[(0,eb.jsxs)("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,eb.jsx)(oq.MapPin,{className:"text-cyan-600"})," En ",r?.name]}),(0,eb.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3",children:s.filter(e=>e.assigned_location_id===r?.id).length>0?s.filter(e=>e.assigned_location_id===r?.id).map(e=>(0,eb.jsxs)("div",{className:"flex justify-between items-center p-3 bg-cyan-50 rounded-xl border border-cyan-100",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"w-10 h-10 rounded-full bg-cyan-200 flex items-center justify-center font-bold text-cyan-700",children:e.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-slate-700",children:e.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500",children:e.job_title})]})]}),(0,eb.jsx)("button",{className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:(0,eb.jsx)(cP,{size:16})})]},e.id)):(0,eb.jsxs)("div",{className:"text-center py-10 text-slate-400",children:[(0,eb.jsx)("p",{children:"No hay personal asignado hoy."}),(0,eb.jsx)("p",{className:"text-xs",children:"Arrastra o selecciona personal de la izquierda."})]})})]})]}),"DEVICES"===l&&(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,eb.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,eb.jsx)(UX,{className:"text-slate-400"})," Kioscos & Dispositivos"]}),(0,eb.jsx)("button",{className:"text-sm font-bold text-cyan-600 hover:bg-cyan-50 px-3 py-1 rounded-lg transition",children:"+ Vincular Nuevo"})]}),(0,eb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(t=>(0,eb.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[(0,eb.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,eb.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg",children:"QUEUE"===t.type?(0,eb.jsx)(UK,{size:20,className:"text-slate-600"}):(0,eb.jsx)(oD.Users,{size:20,className:"text-slate-600"})}),(0,eb.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${"ACTIVE"===t.status?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:t.status})]}),(0,eb.jsx)("h4",{className:"font-bold text-slate-800",children:t.id}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 mb-4",children:"QUEUE"===t.type?"Totem de Filas":"Reloj Control"}),(0,eb.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-400 bg-slate-50 p-2 rounded-lg",children:[(0,eb.jsx)("span",{children:"Ubicacin:"}),(0,eb.jsx)("span",{className:"font-bold text-slate-600",children:e.find(e=>e.id===t.location_id)?.name||"Desconocida"})]}),(0,eb.jsxs)("button",{onClick:()=>{m(i(t.id))},className:"w-full mt-4 py-2 border border-cyan-200 text-cyan-600 font-bold rounded-lg hover:bg-cyan-50 transition flex items-center justify-center gap-2",children:[(0,eb.jsx)(UY.QrCode,{size:16})," Generar Cdigo"]})]},t.id))})]}),"MANAGERS"===l&&(0,eb.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[(0,eb.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,eb.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,eb.jsx)(cr.Shield,{className:"text-slate-400"})," Gestin de Gerentes (Socios)"]})}),(0,eb.jsx)("div",{className:"overflow-x-auto",children:(0,eb.jsxs)("table",{className:"w-full text-left",children:[(0,eb.jsx)("thead",{children:(0,eb.jsxs)("tr",{className:"border-b border-slate-100 text-xs font-bold text-slate-400 uppercase",children:[(0,eb.jsx)("th",{className:"pb-3 pl-4",children:"Empleado"}),(0,eb.jsx)("th",{className:"pb-3",children:"Rol Actual"}),(0,eb.jsx)("th",{className:"pb-3",children:"Sucursal Base"}),(0,eb.jsx)("th",{className:"pb-3 text-right pr-4",children:"Acciones"})]})}),(0,eb.jsx)("tbody",{className:"divide-y divide-slate-50",children:s.map(t=>(0,eb.jsxs)("tr",{className:"group hover:bg-slate-50 transition-colors",children:[(0,eb.jsx)("td",{className:"py-3 pl-4",children:(0,eb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,eb.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center font-bold text-slate-500 text-xs",children:t.name.charAt(0)}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-slate-700 text-sm",children:t.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-400",children:t.rut})]})]})}),(0,eb.jsx)("td",{className:"py-3",children:(0,eb.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"MANAGER"===t.role?"bg-purple-100 text-purple-600":"bg-slate-100 text-slate-500"}`,children:t.role})}),(0,eb.jsx)("td",{className:"py-3 text-sm text-slate-600",children:e.find(e=>e.id===t.base_location_id)?.name||"-"}),(0,eb.jsx)("td",{className:"py-3 text-right pr-4",children:"MANAGER"!==t.role&&(0,eb.jsx)("button",{onClick:()=>g(t),className:"text-xs font-bold text-cyan-600 hover:bg-cyan-50 px-3 py-1 rounded-lg transition",children:"Ascender a Socio"})})]},t.id))})]})})]})]}),d&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[(0,eb.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Nueva Ubicacin"}),(0,eb.jsxs)("div",{className:"space-y-4",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"Tipo"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,eb.jsx)("button",{onClick:()=>h({...f,type:"STORE"}),className:`p-3 rounded-xl border-2 font-bold text-sm transition-all ${"STORE"===f.type?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 text-slate-400"}`,children:"Sucursal"}),(0,eb.jsx)("button",{onClick:()=>h({...f,type:"WAREHOUSE"}),className:`p-3 rounded-xl border-2 font-bold text-sm transition-all ${"WAREHOUSE"===f.type?"border-orange-500 bg-orange-50 text-orange-700":"border-slate-200 text-slate-400"}`,children:"Bodega"})]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"Nombre"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border-2 border-slate-200 rounded-xl font-medium",placeholder:"Ej: Sucursal Norte",value:f.name,onChange:e=>h({...f,name:e.target.value})})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"Direccin"}),(0,eb.jsx)("input",{type:"text",className:"w-full p-3 border-2 border-slate-200 rounded-xl font-medium",placeholder:"Ej: Av. Matta 550",value:f.address,onChange:e=>h({...f,address:e.target.value})})]}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[(0,eb.jsx)("button",{onClick:()=>u(!1),className:"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100",children:"Cancelar"}),(0,eb.jsx)("button",{onClick:()=>{f.name&&f.address&&(a({id:`LOC-${Date.now()}`,type:f.type,name:f.name,address:f.address,associated_kiosks:[]}),u(!1),h({type:"STORE",name:"",address:""}))},className:"py-3 rounded-xl font-bold bg-cyan-600 text-white hover:bg-cyan-700",children:"Crear Ubicacin"})]})]})]})}),p&&(0,eb.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,eb.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm p-8 text-center animate-in fade-in zoom-in duration-200",children:[(0,eb.jsx)(UY.QrCode,{size:48,className:"mx-auto text-slate-800 mb-4"}),(0,eb.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Cdigo de Vinculacin"}),(0,eb.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"Ingresa este cdigo en la Tablet para asignarla a esta sucursal."}),(0,eb.jsx)("div",{className:"bg-slate-100 p-4 rounded-2xl mb-6",children:(0,eb.jsx)("span",{className:"text-4xl font-mono font-bold text-slate-900 tracking-widest",children:p})}),(0,eb.jsx)("button",{onClick:()=>m(null),className:"w-full py-3 rounded-xl font-bold bg-slate-900 text-white hover:bg-slate-800",children:"Listo"})]})})]})},UJ=()=>{let{inventory:e}=o4(),[t,r]=(0,ev.useState)(""),[a,n]=(0,ev.useState)(null),[i,s]=(0,ev.useState)([]),[o,l]=(0,ev.useState)(!1),c=(0,ev.useRef)(null),d=()=>{c.current&&clearTimeout(c.current),l(!1),c.current=setTimeout(()=>{u()},15e3)},u=()=>{r(""),n(null),l(!0)};(0,ev.useEffect)(()=>(d(),window.addEventListener("mousemove",d),window.addEventListener("touchstart",d),window.addEventListener("keydown",d),()=>{c.current&&clearTimeout(c.current),window.removeEventListener("mousemove",d),window.removeEventListener("touchstart",d),window.removeEventListener("keydown",d)}),[]),lq({onScan:t=>{let r=e.find(e=>e.sku===t||e.id===t);r&&(n(r),s(e.filter(e=>e.id!==r.id&&e.dci&&r.dci&&e.dci.toLowerCase()===r.dci.toLowerCase()&&e.stock_actual>0).sort((e,t)=>e.price-t.price)),d())}});let f=e.filter(e=>{if(!t)return!1;let r=t.toLowerCase();return e.name.toLowerCase().includes(r)||e.dci.toLowerCase().includes(r)||e.laboratory&&e.laboratory.toLowerCase().includes(r)||e.brand&&e.brand.toLowerCase().includes(r)}).slice(0,6);return(0,eb.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden flex flex-col relative",children:[(0,eb.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-20 pointer-events-none",children:[(0,eb.jsx)("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-cyan-500 rounded-full blur-3xl mix-blend-screen animate-pulse"}),(0,eb.jsx)("div",{className:"absolute top-1/2 right-0 w-80 h-80 bg-purple-500 rounded-full blur-3xl mix-blend-screen animate-pulse delay-1000"})]}),(0,eb.jsxs)("header",{className:"relative z-10 p-8 flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Consultor de Precios"}),(0,eb.jsx)("p",{className:"text-slate-400 text-lg",children:"Escanee un producto o busque manualmente"})]}),(0,eb.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-2xl border border-slate-700 flex items-center gap-3",children:[(0,eb.jsx)(lh,{size:32,className:"text-cyan-400 animate-pulse"}),(0,eb.jsx)("span",{className:"font-bold text-sm text-slate-300",children:"Lector Activo"})]})]}),(0,eb.jsxs)("main",{className:"relative z-10 flex-1 flex flex-col items-center justify-start p-8 max-w-5xl mx-auto w-full",children:[(0,eb.jsxs)("div",{className:"w-full relative mb-12",children:[(0,eb.jsx)(lx.Search,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400",size:32}),(0,eb.jsx)("input",{type:"text",placeholder:"Qu busca? (Ej: Paracetamol, Bago...)",className:"w-full pl-20 pr-6 py-8 bg-slate-800/80 border-2 border-slate-700 rounded-3xl text-3xl font-bold text-white placeholder:text-slate-500 focus:border-cyan-500 focus:outline-none focus:ring-4 focus:ring-cyan-500/20 transition-all shadow-2xl",value:t,onChange:e=>r(e.target.value),autoFocus:!0})]}),!a&&t&&(0,eb.jsxs)("div",{className:"w-full grid grid-cols-2 gap-6 animate-in fade-in slide-in-from-bottom-4",children:[f.map(e=>(0,eb.jsxs)("div",{onClick:()=>n(e),className:"bg-slate-800/60 border border-slate-700 p-6 rounded-2xl cursor-pointer hover:bg-slate-700/80 hover:border-cyan-500/50 transition-all group",children:[(0,eb.jsx)("h3",{className:"text-2xl font-bold text-slate-100 mb-2 group-hover:text-cyan-400",children:e.name}),(0,eb.jsxs)("p",{className:"text-slate-400 text-lg mb-4",children:[e.dci," - ",e.laboratory]}),(0,eb.jsxs)("div",{className:"flex justify-between items-end",children:[(0,eb.jsxs)("span",{className:"text-3xl font-extrabold text-white",children:["$",e.price.toLocaleString()]}),(0,eb.jsx)("span",{className:"text-sm bg-slate-700 px-3 py-1 rounded-lg text-slate-300",children:"Ver Detalle"})]})]},e.id)),0===f.length&&(0,eb.jsx)("div",{className:"col-span-2 text-center py-12 text-slate-500",children:(0,eb.jsx)("p",{className:"text-xl",children:"No se encontraron productos"})})]}),!a&&!t&&(0,eb.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center opacity-50",children:[(0,eb.jsx)(lh,{size:120,className:"text-slate-600 mb-8"}),(0,eb.jsx)("p",{className:"text-2xl font-bold text-slate-500",children:"Acerque el cdigo de barras al lector"})]})]}),(0,eb.jsx)(tJ,{children:a&&(0,eb.jsx)(oR.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 bg-slate-900/95 backdrop-blur-xl flex items-center justify-center p-8",children:(0,eb.jsxs)("div",{className:"bg-white text-slate-900 w-full max-w-4xl rounded-[3rem] overflow-hidden shadow-2xl relative",children:[(0,eb.jsx)("button",{onClick:()=>n(null),className:"absolute top-8 right-8 bg-slate-100 hover:bg-slate-200 p-4 rounded-full transition-colors z-10",children:(0,eb.jsx)(oz.X,{size:32,className:"text-slate-600"})}),(0,eb.jsxs)("div",{className:"flex flex-col md:flex-row h-full",children:[(0,eb.jsxs)("div",{className:"w-full md:w-5/12 bg-slate-50 p-12 flex flex-col justify-center items-center border-r border-slate-100 relative overflow-hidden",children:[(0,eb.jsx)("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-cyan-500 to-blue-500"}),(0,eb.jsxs)("div",{className:"mb-8 text-center",children:[(0,eb.jsx)("span",{className:"inline-block px-4 py-2 bg-slate-200 rounded-full text-sm font-bold text-slate-600 mb-4",children:a.sku}),(0,eb.jsx)("h2",{className:"text-3xl font-extrabold text-slate-800 leading-tight mb-2",children:a.name}),(0,eb.jsxs)("p",{className:"text-xl text-slate-500 font-medium",children:[a.format," x",a.unit_count]})]}),(0,eb.jsxs)("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-slate-100 w-full text-center transform scale-110",children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Precio Venta"}),(0,eb.jsxs)("p",{className:"text-6xl font-black text-slate-900 tracking-tight",children:["$",a.price.toLocaleString()]})]}),(0,eb.jsxs)("div",{className:"mt-12 flex items-center gap-2 text-slate-400 text-sm font-medium animate-pulse",children:[(0,eb.jsx)(oW.Clock,{size:16}),(0,eb.jsx)("span",{children:"Cerrando en 15s..."})]})]}),(0,eb.jsxs)("div",{className:"w-full md:w-7/12 p-12 bg-white",children:[(0,eb.jsxs)("h3",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center gap-3",children:[(0,eb.jsx)(ls,{className:"text-cyan-600"}),"Ficha Tcnica"]}),(0,eb.jsxs)("div",{className:"space-y-6",children:[(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Principio Activo (DCI)"}),(0,eb.jsx)("p",{className:"text-xl font-bold text-slate-800",children:a.dci})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Concentracin"}),(0,eb.jsx)("p",{className:"text-xl font-bold text-slate-800",children:a.concentration})]})]}),(0,eb.jsx)("div",{className:"h-px bg-slate-100"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Laboratorio"}),(0,eb.jsx)("p",{className:"text-lg font-bold text-slate-700",children:a.laboratory})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Bioequivalencia"}),(0,eb.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-sm font-bold ${"BIOEQUIVALENTE"===a.bioequivalent_status?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-500"}`,children:"BIOEQUIVALENTE"===a.bioequivalent_status?"BIOEQUIVALENTE":"NO APLICA"})]})]}),(0,eb.jsx)("div",{className:"h-px bg-slate-100"}),(0,eb.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Precio por Unidad"}),(0,eb.jsxs)("p",{className:"text-lg font-bold text-slate-700",children:["$",Math.round(!a.unit_count||0===a.unit_count?0:a.price/a.unit_count).toLocaleString()," / un"]})]}),(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-slate-400 mb-1",children:"Condicin de Venta"}),(0,eb.jsx)("div",{className:"flex items-center gap-2",children:"VD"===a.condition?(0,eb.jsx)("span",{className:"text-emerald-600 font-bold",children:"Venta Directa"}):(0,eb.jsxs)("span",{className:"flex items-center gap-1 text-purple-600 font-bold",children:[(0,eb.jsx)(li.AlertTriangle,{size:16})," Receta ",a.condition]})})]})]})]}),(0,eb.jsxs)("div",{className:"mt-8",children:[(0,eb.jsxs)("h4",{className:"text-lg font-bold text-slate-800 mb-4",children:["Alternativas Disponibles (",a.dci,")"]}),(0,eb.jsx)("div",{className:"space-y-3 max-h-[200px] overflow-y-auto pr-2",children:i.length>0?i.map(e=>(0,eb.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("p",{className:"font-bold text-slate-700",children:e.name}),(0,eb.jsxs)("div",{className:"flex gap-2 text-xs mt-1",children:[(0,eb.jsx)("span",{className:"text-slate-500",children:e.laboratory}),"BIOEQUIVALENTE"===e.bioequivalent_status&&(0,eb.jsx)("span",{className:"text-emerald-600 font-bold bg-emerald-50 px-2 rounded-full",children:"BIO"})]})]}),(0,eb.jsxs)("p",{className:"font-bold text-slate-900 text-lg",children:["$",e.price.toLocaleString()]})]},e.id)):(0,eb.jsx)("p",{className:"text-slate-400 text-sm italic",children:"No se encontraron otras alternativas disponibles."})})]}),(0,eb.jsx)("div",{className:"mt-8 bg-slate-50 p-4 rounded-xl border border-slate-100",children:(0,eb.jsx)("p",{className:"text-xs text-slate-400 text-center leading-relaxed",children:"La informacin mostrada cumple con el Decreto Supremo 466. Consulte siempre a su Qumico Farmacutico. Visite ispch.cl"})})]})]})]})})})]})},UQ=({children:e})=>{let{user:t,logout:r}=o4(),a=e1(),[n,i]=ev.default.useState(!1),s=[{icon:oI.ShoppingCart,label:"Punto de Venta",path:"/pos",roles:["CASHIER","QF","MANAGER"]},{icon:oB,label:"Inventario",path:"/inventory",roles:["WAREHOUSE","MANAGER","QF"]},{icon:o$,label:"Operaciones WMS",path:"/warehouse",roles:["WAREHOUSE","MANAGER","QF"]},{icon:oG,label:"Proveedores",path:"/suppliers",roles:["MANAGER","QF","WAREHOUSE"]},{icon:oV,label:"Reportes & BI",path:"/reports",roles:["MANAGER","QF"]},{icon:o$,label:"Abastecimiento",path:"/supply-chain",roles:["WAREHOUSE","MANAGER"]},{icon:oH,label:"Clientes (CRM)",path:"/clients",roles:["MANAGER","QF","CASHIER"]},{icon:oD.Users,label:"Recursos Humanos",path:"/hr",roles:["MANAGER"]},{icon:oq.MapPin,label:"Gestin de Red",path:"/network",roles:["MANAGER"]},{icon:oW.Clock,label:"Control Asistencia",path:"/access",roles:["MANAGER"]},{icon:oL,label:"Configuracin",path:"/settings",roles:["MANAGER"]}].filter(e=>t&&e.roles.includes(t.role));return(0,eb.jsxs)("div",{className:"flex h-screen bg-slate-100 overflow-hidden",children:[(0,eb.jsxs)("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 shadow-2xl`,children:[(0,eb.jsxs)("div",{className:"p-6 flex justify-between items-center",children:[(0,eb.jsxs)("div",{children:[(0,eb.jsx)("h1",{className:"text-xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Farmacias Vallenar"}),(0,eb.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Sistema ERP Clnico Integral v2.1"})]}),(0,eb.jsx)("button",{onClick:()=>i(!1),className:"md:hidden text-slate-400 hover:text-white",children:(0,eb.jsx)(oz.X,{size:24})})]}),(0,eb.jsx)("nav",{className:"mt-6 px-4 space-y-2",children:s.map(e=>(0,eb.jsxs)(tO,{to:e.path,onClick:()=>i(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${a.pathname===e.path?"bg-cyan-600 text-white shadow-lg shadow-cyan-900/50":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[(0,eb.jsx)(e.icon,{size:20}),(0,eb.jsx)("span",{className:"font-medium",children:e.label})]},e.path))}),(0,eb.jsxs)("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-slate-950",children:[(0,eb.jsxs)("div",{className:"flex items-center gap-3 mb-4 px-2",children:[(0,eb.jsx)("div",{className:"w-10 h-10 rounded-full bg-cyan-900 flex items-center justify-center text-cyan-400 font-bold border border-cyan-700",children:t?.name.charAt(0)}),(0,eb.jsxs)("div",{className:"overflow-hidden",children:[(0,eb.jsx)("p",{className:"text-sm font-bold text-white truncate",children:t?.name}),(0,eb.jsx)("p",{className:"text-xs text-slate-500 truncate",children:t?.role})]})]}),(0,eb.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-colors text-sm font-bold",children:[(0,eb.jsx)(oF,{size:16})," Cerrar Sesin"]})]})]}),(0,eb.jsxs)("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[(0,eb.jsxs)("header",{className:"md:hidden bg-white p-4 shadow-sm flex justify-between items-center z-40",children:[(0,eb.jsx)("button",{onClick:()=>i(!0),className:"text-slate-600",children:(0,eb.jsx)(oU,{size:24})}),(0,eb.jsx)("span",{className:"font-bold text-slate-800",children:"Farmacias Vallenar"}),(0,eb.jsx)(lt,{})]}),(0,eb.jsxs)("header",{className:"hidden md:flex bg-white px-6 py-3 shadow-sm justify-end items-center z-40 gap-4",children:[(0,eb.jsx)(ld,{}),(0,eb.jsx)(lt,{})]}),(0,eb.jsx)("div",{className:"flex-1 overflow-auto",children:(0,eb.jsx)(tJ,{mode:"wait",children:(0,eb.jsx)(oR.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:e},a.pathname)})})]})]})},U0=({children:e})=>{let{user:t}=o4();return t?(0,eb.jsx)(UQ,{children:e}):(0,eb.jsx)(ti,{to:"/",replace:!0})};e.s(["default",0,()=>{let{syncData:e}=o4();return(0,ev.useEffect)(()=>{e()},[]),(0,eb.jsxs)(t_,{children:[(0,eb.jsx)(o3.Toaster,{position:"top-center",richColors:!0}),(0,eb.jsxs)(tl,{children:[(0,eb.jsx)(ts,{path:"/",element:(0,eb.jsx)(lp,{})}),(0,eb.jsx)(ts,{path:"/kiosk",element:(0,eb.jsx)(Uj,{})}),(0,eb.jsx)(ts,{path:"/access",element:(0,eb.jsx)(ct,{})}),(0,eb.jsx)(ts,{path:"/queue",element:(0,eb.jsx)(l5,{})}),(0,eb.jsx)(ts,{path:"/price-check",element:(0,eb.jsx)(UJ,{})}),(0,eb.jsx)(ts,{path:"/dashboard",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(lm,{})})}),(0,eb.jsx)(ts,{path:"/pos",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(lY,{})})}),(0,eb.jsx)(ts,{path:"/inventory",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(bF,{})})}),(0,eb.jsx)(ts,{path:"/warehouse",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(UI,{})})}),(0,eb.jsx)(ts,{path:"/suppliers",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(Uz,{})})}),(0,eb.jsx)(ts,{path:"/suppliers/:id",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(UW,{})})}),(0,eb.jsx)(ts,{path:"/reports",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(Uw,{})})}),(0,eb.jsx)(ts,{path:"/supply-chain",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(l4,{})})}),(0,eb.jsx)(ts,{path:"/clients",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(cC,{})})}),(0,eb.jsx)(ts,{path:"/hr",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(cg,{})})}),(0,eb.jsx)(ts,{path:"/network",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(UZ,{})})}),(0,eb.jsx)(ts,{path:"/settings",element:(0,eb.jsx)(U0,{children:(0,eb.jsx)(cT,{})})}),(0,eb.jsx)(ts,{path:"/admin",element:(0,eb.jsx)(ti,{to:"/dashboard",replace:!0})}),(0,eb.jsx)(ts,{path:"*",element:(0,eb.jsx)(ti,{to:"/",replace:!0})})]})]})}],13716)},6923,e=>{e.n(e.i(13716))}]);