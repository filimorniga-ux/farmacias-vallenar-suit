module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},30056,a=>a.a(async(b,c)=>{try{let b=await a.y("pg");a.n(b),c()}catch(a){c(a)}},!0),61469,a=>a.a(async(b,c)=>{try{var d=a.i(30056),e=b([d]);[d]=e.then?(await e)():e;let g=new d.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}});async function f(a,b){let c=Date.now(),d=await g.query(a,b),e=Date.now()-c;return console.log("Executed query",{text:a,duration:e,rows:d.rowCount}),d}a.s(["query",()=>f]),c()}catch(a){c(a)}},!1),73921,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/auth/RouteGuard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/auth/RouteGuard.tsx <module evaluation>","default");a.s(["default",0,b])},21524,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/auth/RouteGuard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/auth/RouteGuard.tsx","default");a.s(["default",0,b])},78240,a=>{"use strict";a.i(73921);var b=a.i(21524);a.n(b)},74990,a=>a.a(async(b,c)=>{try{var d=a.i(61469),e=b([d]);async function f(){try{return(await (0,d.query)("SELECT id, nombre FROM productos WHERE activo = true ORDER BY nombre ASC")).rows}catch(a){return console.error("Error fetching products:",a),[]}}async function g(){try{return(await (0,d.query)("SELECT * FROM proveedores ORDER BY nombre_fantasia ASC")).rows}catch(a){return console.error("Error fetching suppliers:",a),[]}}async function h(){try{let a=`
      SELECT 
        p.id as producto_id,
        p.nombre,
        p.stock_minimo_seguridad,
        COALESCE(SUM(l.cantidad_disponible), 0) as stock_actual
      FROM productos p
      LEFT JOIN lotes l ON p.id = l.producto_id
      WHERE p.activo = true
      GROUP BY p.id, p.nombre, p.stock_minimo_seguridad
    `,b=await (0,d.query)(a),c=[];return b.rows.forEach(a=>{let b=Number(a.stock_actual),d=Number(a.stock_minimo_seguridad)||10;if(b<=d){let e=3*d-b;e<0&&(e=0),e>0&&c.push({producto_id:a.producto_id,nombre:a.nombre,stock_actual:b,stock_minimo:d,sugerencia_pedido:e,proveedor_sugerido:"Laboratorio Chile"})}}),c.sort((a,b)=>a.stock_actual-b.stock_actual)}catch(a){return console.error("Error calculating restocking suggestions:",a),[]}}[d]=e.then?(await e)():e,a.s(["getProducts",()=>f,"getRestockingSuggestions",()=>h,"getSuppliers",()=>g]),c()}catch(a){c(a)}},!1),81170,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/supply/RestockingTable.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/supply/RestockingTable.tsx <module evaluation>","default");a.s(["default",0,b])},3739,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/supply/RestockingTable.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/supply/RestockingTable.tsx","default");a.s(["default",0,b])},18060,a=>{"use strict";a.i(81170);var b=a.i(3739);a.n(b)},46604,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/supply/ReceptionForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/supply/ReceptionForm.tsx <module evaluation>","default");a.s(["default",0,b])},31983,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/supply/ReceptionForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/supply/ReceptionForm.tsx","default");a.s(["default",0,b])},43759,a=>{"use strict";a.i(46604);var b=a.i(31983);a.n(b)},24847,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(74990),f=a.i(18060),g=a.i(43759),h=a.i(78240),i=b([e]);async function j(){let a=await (0,e.getSuppliers)(),b=await (0,e.getRestockingSuggestions)(),c=await (0,e.getProducts)();return(0,d.jsx)(h.default,{allowedRoles:["ADMIN","QUIMICO"],children:(0,d.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsx)("div",{className:"md:flex md:items-center md:justify-between mb-8",children:(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"ðŸšš Abastecimiento"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"GestiÃ³n de proveedores y reposiciÃ³n inteligente."})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,d.jsxs)("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Alertas de Stock"}),(0,d.jsx)(f.default,{suggestions:b})]})}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsx)(g.default,{suppliers:a,products:c})})]})]})})})}[e]=i.then?(await i)():i,a.s(["default",()=>j,"dynamic",0,"force-dynamic"]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__89ca4311._.js.map