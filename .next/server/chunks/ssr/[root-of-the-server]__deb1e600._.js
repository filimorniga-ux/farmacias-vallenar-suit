module.exports=[30056,a=>a.a(async(b,c)=>{try{let b=await a.y("pg");a.n(b),c()}catch(a){c(a)}},!0),61469,a=>a.a(async(b,c)=>{try{var d=a.i(30056),e=b([d]);[d]=e.then?(await e)():e;let g=new d.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}});async function f(a,b){let c=Date.now();try{let d=await g.query(a,b),e=Date.now()-c;return console.log("Executed query",{text:a,duration:e,rows:d.rowCount}),d}catch(a){return console.warn("⚠️ Safe Mode: Database connection failed. Returning empty data."),{rows:[],rowCount:0,command:"",oid:0,fields:[]}}}g.on("error",(a,b)=>{console.error("Unexpected error on idle client",a)}),a.s(["query",()=>f]),c()}catch(a){c(a)}},!1),37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},24666,a=>a.a(async(b,c)=>{try{var d=a.i(37936),e=a.i(61469),f=a.i(13095),g=b([e]);async function h(){try{return(await (0,e.query)("SELECT * FROM productos")).rows.map(a=>({id:a.id?.toString()||`PROD-${Math.random()}`,sku:a.sku||a.codigo||"UNKNOWN",name:a.nombre||a.name||"Sin Nombre",dci:a.dci||a.principio_activo||"",laboratory:a.laboratory||a.laboratorio||"GENERICO",isp_register:a.isp_register||a.registro_isp||"",format:a.format||a.formato||"CAJA",units_per_box:Number(a.units_per_box||a.unidades_por_caja)||1,is_bioequivalent:a.is_bioequivalent||a.es_bioequivalente||!1,concentration:a.concentration||"",unit_count:Number(a.unit_count)||1,is_generic:a.is_generic||!1,bioequivalent_status:a.bioequivalent_status||"NO_BIOEQUIVALENTE",cost_net:Number(a.cost_net||a.costo_neto)||0,tax_percent:Number(a.tax_percent||a.iva)||19,price_sell_box:Number(a.price_sell_box||a.precio_venta_caja)||Number(a.price||a.precio)||0,price_sell_unit:Number(a.price_sell_unit||a.precio_venta_unitario)||0,price:Number(a.price||a.precio)||0,cost_price:Number(a.cost_price)||0,stock_actual:Number(a.stock_actual||a.stock)||0,stock_min:Number(a.stock_min||a.stock_min)||5,stock_max:Number(a.stock_max)||100,expiry_date:a.vencimiento?new Date(a.vencimiento).getTime():Date.now()+31536e6,location_id:a.location_id||"BODEGA_CENTRAL",category:a.category||a.categoria,condition:a.sale_condition||a.condicion_venta,allows_commission:a.allows_commission||a.permite_comision||!1,active_ingredients:a.active_ingredients||a.principios_activos?Array.isArray(a.principios_activos)?a.principios_activos:[a.principios_activos]:[],supplier_id:a.supplier_id||a.proveedor_id||"SUP-001"}))}catch(a){return console.error("Error fetching inventory:",a),[]}}async function i(){try{return(await (0,e.query)("SELECT * FROM users")).rows.map(a=>({id:a.id?.toString()||`EMP-${Math.random()}`,rut:a.rut||"SIN-RUT",name:a.name||"Usuario Sistema",role:a.role||"CASHIER",access_pin:a.pin||"0000",status:a.status||"ACTIVE",current_status:"OUT",job_title:"CAJERO_VENDEDOR",labor_data:{base_salary:5e5,afp:"MODELO",isapre:"FONASA",contract_hours:45}}))}catch(a){return console.error("Error fetching employees:",a),[]}}[e]=g.then?(await g)():g,(0,f.ensureServerEntryExports)([h,i]),(0,d.registerServerReference)(h,"00c615738dee04c926eae6a477946663d417070cbe",null),(0,d.registerServerReference)(i,"00d0672270153964780a8329ffe4e1f0f604b77dd0",null),a.s(["fetchEmployees",()=>i,"fetchInventory",()=>h]),c()}catch(a){c(a)}},!1),80480,a=>a.a(async(b,c)=>{try{var d=a.i(24666),e=b([d]);[d]=e.then?(await e)():e,a.s([]),c()}catch(a){c(a)}},!1),30269,a=>a.a(async(b,c)=>{try{var d=a.i(80480),e=a.i(24666),f=b([d,e]);[d,e]=f.then?(await f)():f,a.s(["00c615738dee04c926eae6a477946663d417070cbe",()=>e.fetchInventory,"00d0672270153964780a8329ffe4e1f0f604b77dd0",()=>e.fetchEmployees]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__deb1e600._.js.map