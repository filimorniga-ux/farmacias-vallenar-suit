{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/layout/LocationSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocationStore } from '../../store/useLocationStore';\nimport { usePharmaStore } from '../../store/useStore';\nimport { MapPin, Building2, Warehouse, ChevronDown, Lock } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst LocationSelector: React.FC = () => {\n    const { currentLocation, locations, switchLocation, canSwitchLocation } = useLocationStore();\n    const { user } = usePharmaStore();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const canSwitch = user ? canSwitchLocation(user.role) : false;\n\n    const getLocationIcon = (type: string) => {\n        switch (type) {\n            case 'WAREHOUSE':\n                return Warehouse;\n            case 'STORE':\n                return Building2;\n            default:\n                return MapPin;\n        }\n    };\n\n    const getLocationColor = (type: string) => {\n        switch (type) {\n            case 'WAREHOUSE':\n                return 'from-amber-500 to-orange-600';\n            case 'STORE':\n                return 'from-blue-500 to-cyan-600';\n            default:\n                return 'from-gray-500 to-gray-600';\n        }\n    };\n\n    const getLocationBadgeColor = (type: string) => {\n        switch (type) {\n            case 'WAREHOUSE':\n                return 'bg-amber-100 text-amber-700 border-amber-300';\n            case 'STORE':\n                return 'bg-blue-100 text-blue-700 border-blue-300';\n            default:\n                return 'bg-gray-100 text-gray-700 border-gray-300';\n        }\n    };\n\n    const handleLocationSwitch = (locationId: string) => {\n        if (!canSwitch) return;\n\n        switchLocation(locationId, () => {\n            setIsOpen(false);\n            // Optionally trigger data refresh here\n            // usePharmaStore.getState().syncData();\n        });\n    };\n\n    if (!currentLocation) return null;\n\n    const Icon = getLocationIcon(currentLocation.type);\n\n    return (\n        <div className=\"relative\">\n            {/* Current Location Button */}\n            <button\n                onClick={() => canSwitch && setIsOpen(!isOpen)}\n                disabled={!canSwitch}\n                className={`flex items-center gap-3 px-4 py-2.5 rounded-xl border-2 transition-all ${canSwitch\n                    ? 'hover:shadow-lg cursor-pointer'\n                    : 'opacity-75 cursor-not-allowed'\n                    } bg-gradient-to-r ${getLocationColor(currentLocation.type)} text-white border-white/20`}\n            >\n                <Icon className=\"w-5 h-5\" />\n                <div className=\"text-left\">\n                    <div className=\"text-xs font-medium opacity-90\">\n                        {currentLocation.type === 'WAREHOUSE' ? 'üè≠ BODEGA' : 'üè• SUCURSAL'}\n                    </div>\n                    <div className=\"text-sm font-bold\">\n                        {currentLocation.name.replace('Farmacia Vallenar ', '').replace('Bodega Central ', '')}\n                    </div>\n                </div>\n                {canSwitch ? (\n                    <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\n                ) : (\n                    <Lock className=\"w-4 h-4\" />\n                )}\n            </button>\n\n            {/* Dropdown Menu */}\n            <AnimatePresence>\n                {isOpen && canSwitch && (\n                    <motion.div\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -10 }}\n                        transition={{ duration: 0.2 }}\n                        className=\"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-50\"\n                    >\n                        {/* Header */}\n                        <div className=\"bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-3 border-b border-gray-200\">\n                            <div className=\"flex items-center gap-2\">\n                                <MapPin className=\"w-4 h-4 text-gray-600\" />\n                                <span className=\"text-sm font-bold text-gray-900\">Cambiar Ubicaci√≥n</span>\n                            </div>\n                            <p className=\"text-xs text-gray-600 mt-1\">\n                                Selecciona la sucursal o bodega que deseas gestionar\n                            </p>\n                        </div>\n\n                        {/* Locations List */}\n                        <div className=\"max-h-96 overflow-y-auto\">\n                            {locations.map((location) => {\n                                const LocationIcon = getLocationIcon(location.type);\n                                const isActive = location.id === currentLocation?.id;\n\n                                return (\n                                    <button\n                                        key={location.id}\n                                        onClick={() => handleLocationSwitch(location.id)}\n                                        className={`w-full px-4 py-3 flex items-center gap-3 transition-all ${isActive\n                                            ? 'bg-blue-50 border-l-4 border-blue-600'\n                                            : 'hover:bg-gray-50 border-l-4 border-transparent'\n                                            }`}\n                                    >\n                                        <div className={`p-2 rounded-lg bg-gradient-to-br ${getLocationColor(location.type)}`}>\n                                            <LocationIcon className=\"w-5 h-5 text-white\" />\n                                        </div>\n                                        <div className=\"flex-1 text-left\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <span className={`text-sm font-bold ${isActive ? 'text-blue-900' : 'text-gray-900'\n                                                    }`}>\n                                                    {location.name}\n                                                </span>\n                                                {isActive && (\n                                                    <span className=\"px-2 py-0.5 bg-blue-600 text-white text-xs font-bold rounded-full\">\n                                                        Actual\n                                                    </span>\n                                                )}\n                                            </div>\n                                            <div className=\"flex items-center gap-2 mt-1\">\n                                                <span className={`px-2 py-0.5 text-xs font-medium rounded-full border ${getLocationBadgeColor(location.type)\n                                                    }`}>\n                                                    {location.type === 'WAREHOUSE' ? 'Bodega' : 'Sucursal'}\n                                                </span>\n                                                <span className=\"text-xs text-gray-500\">\n                                                    {location.address}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </button>\n                                );\n                            })}\n                        </div>\n\n                        {/* Footer Info */}\n                        <div className=\"bg-gray-50 px-4 py-3 border-t border-gray-200\">\n                            <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                                <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                                <span>Rol: <span className=\"font-bold text-gray-900\">{user?.role}</span></span>\n                                <span className=\"mx-1\">‚Ä¢</span>\n                                <span>Acceso: <span className=\"font-bold text-green-600\">Total</span></span>\n                            </div>\n                        </div>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n\n            {/* Locked Message for Non-Managers */}\n            {!canSwitch && (\n                <div className=\"absolute top-full right-0 mt-2 w-64 bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-xs text-yellow-800 shadow-lg z-50 hidden group-hover:block\">\n                    <div className=\"flex items-start gap-2\">\n                        <Lock className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\n                        <div>\n                            <p className=\"font-bold\">Ubicaci√≥n Bloqueada</p>\n                            <p className=\"mt-1\">\n                                Tu rol ({user?.role}) solo tiene acceso a esta ubicaci√≥n.\n                                Contacta al gerente para cambiar de sucursal.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default LocationSelector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/ui/NotificationCenter.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Bell, Check, Trash2, X, AlertTriangle, Info, CheckCircle, AlertCircle } from 'lucide-react';\nimport { useNotificationStore, Notification } from '../../store/useNotificationStore';\nimport { usePharmaStore } from '../../store/useStore';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst NotificationCenter: React.FC = () => {\n    const { notifications, markAsRead, markAllAsRead, clearAll, getUnreadCount } = useNotificationStore();\n    const { user } = usePharmaStore();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const userRole = user?.role || 'GUEST';\n    const unreadCount = getUnreadCount(userRole);\n\n    const filteredNotifications = notifications.filter(\n        n => n.roleTarget === 'ALL' || n.roleTarget === userRole\n    );\n\n    const getIcon = (type: string) => {\n        switch (type) {\n            case 'CRITICAL': return <AlertCircle className=\"text-red-500\" size={20} />;\n            case 'WARNING': return <AlertTriangle className=\"text-amber-500\" size={20} />;\n            case 'SUCCESS': return <CheckCircle className=\"text-emerald-500\" size={20} />;\n            default: return <Info className=\"text-blue-500\" size={20} />;\n        }\n    };\n\n    const getBorderColor = (type: string) => {\n        switch (type) {\n            case 'CRITICAL': return 'border-l-4 border-l-red-500 bg-red-50/50';\n            case 'WARNING': return 'border-l-4 border-l-amber-500 bg-amber-50/50';\n            case 'SUCCESS': return 'border-l-4 border-l-emerald-500 bg-emerald-50/50';\n            default: return 'border-l-4 border-l-blue-500 bg-blue-50/50';\n        }\n    };\n\n    return (\n        <div className=\"relative z-50\">\n            <button\n                onClick={() => setIsOpen(!isOpen)}\n                className=\"relative p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors\"\n            >\n                <Bell size={24} />\n                {unreadCount > 0 && (\n                    <span className=\"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold flex items-center justify-center rounded-full animate-bounce\">\n                        {unreadCount > 9 ? '9+' : unreadCount}\n                    </span>\n                )}\n            </button>\n\n            <AnimatePresence>\n                {isOpen && (\n                    <>\n                        <div\n                            className=\"fixed inset-0 z-40\"\n                            onClick={() => setIsOpen(false)}\n                        />\n                        <motion.div\n                            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                            animate={{ opacity: 1, y: 0, scale: 1 }}\n                            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n                            className=\"absolute right-0 mt-2 w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 z-50 overflow-hidden\"\n                        >\n                            <div className=\"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/80 backdrop-blur-sm\">\n                                <h3 className=\"font-bold text-slate-800\">Notificaciones</h3>\n                                <div className=\"flex gap-2\">\n                                    <button\n                                        onClick={() => markAllAsRead()}\n                                        className=\"text-xs font-bold text-cyan-600 hover:text-cyan-700 flex items-center gap-1 px-2 py-1 rounded hover:bg-cyan-50\"\n                                        title=\"Marcar todas como le√≠das\"\n                                    >\n                                        <Check size={14} /> Le√≠das\n                                    </button>\n                                    <button\n                                        onClick={() => clearAll()}\n                                        className=\"text-xs font-bold text-slate-400 hover:text-red-500 flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50\"\n                                        title=\"Borrar todas\"\n                                    >\n                                        <Trash2 size={14} />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"max-h-[400px] overflow-y-auto\">\n                                {filteredNotifications.length === 0 ? (\n                                    <div className=\"p-8 text-center text-slate-400\">\n                                        <Bell size={48} className=\"mx-auto mb-3 opacity-20\" />\n                                        <p className=\"text-sm\">No tienes notificaciones nuevas</p>\n                                    </div>\n                                ) : (\n                                    <div className=\"divide-y divide-slate-100\">\n                                        {filteredNotifications.map(notification => (\n                                            <div\n                                                key={notification.id}\n                                                className={`p-4 hover:bg-slate-50 transition-colors relative group ${notification.read ? 'opacity-60' : 'bg-white'} ${getBorderColor(notification.type)}`}\n                                                onClick={() => markAsRead(notification.id)}\n                                            >\n                                                <div className=\"flex gap-3\">\n                                                    <div className=\"mt-1 flex-shrink-0\">\n                                                        {getIcon(notification.type)}\n                                                    </div>\n                                                    <div className=\"flex-1\">\n                                                        <div className=\"flex justify-between items-start\">\n                                                            <h4 className={`text-sm font-bold ${notification.read ? 'text-slate-600' : 'text-slate-800'}`}>\n                                                                {notification.title}\n                                                            </h4>\n                                                            <span className=\"text-[10px] text-slate-400 whitespace-nowrap ml-2\">\n                                                                {new Date(notification.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                                            </span>\n                                                        </div>\n                                                        <p className=\"text-xs text-slate-500 mt-1 leading-relaxed\">\n                                                            {notification.message}\n                                                        </p>\n                                                    </div>\n                                                </div>\n                                                {!notification.read && (\n                                                    <div className=\"absolute top-4 right-4 w-2 h-2 bg-cyan-500 rounded-full\" />\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </motion.div>\n                    </>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n};\n\nexport default NotificationCenter;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/scm/BlindReceptionModal.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { Truck, Lock, Save } from 'lucide-react';\nimport { PurchaseOrder } from '../../../domain/types';\n\ninterface BlindReceptionModalProps {\n    isOpen: boolean;\n    order: PurchaseOrder;\n    onReceive: (order: PurchaseOrder, receivedItems: { sku: string; receivedQty: number }[]) => void;\n    onClose: () => void;\n}\n\nconst BlindReceptionModal: React.FC<BlindReceptionModalProps> = ({ isOpen, order, onReceive, onClose }) => {\n    if (!isOpen) return null;\n    const [receivedQuantities, setReceivedQuantities] = useState<{ [sku: string]: number }>({});\n\n    const handleInputChange = (sku: string, value: string) => {\n        setReceivedQuantities(prev => ({\n            ...prev,\n            [sku]: parseInt(value) || 0\n        }));\n    };\n\n    const totalReceived = order.items.reduce((sum, item) => sum + (receivedQuantities[item.sku] || 0), 0);\n\n    // Comprobar si todas las cantidades han sido ingresadas manualmente\n    const isComplete = order.items.every(item => receivedQuantities[item.sku] !== undefined && receivedQuantities[item.sku] >= 0);\n\n    const inputStyle = \"w-full py-2 border-2 border-slate-400 rounded-lg text-center font-semibold text-lg text-slate-900\";\n\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white p-8 rounded-xl w-full max-w-2xl shadow-2xl\">\n                <h3 className=\"text-2xl font-bold text-slate-900 mb-6 flex items-center\">\n                    <Truck className=\"mr-3\" /> Recepci√≥n Ciega de Orden #{order.id}\n                </h3>\n\n                <p className=\"text-red-600 font-semibold mb-4 flex items-center\">\n                    <Lock size={18} className=\"mr-2\" /> La cantidad esperada (Expected Qty) NO es visible. Debe contar manualmente.\n                </p>\n\n                <div className=\"max-h-80 overflow-y-auto space-y-4 pr-2\">\n                    {order.items.map((item) => (\n                        <div key={item.sku} className=\"flex items-center justify-between border-b pb-3\">\n                            <p className=\"font-semibold text-slate-700 w-1/2\">{item.name}</p>\n                            <div className=\"w-1/3 ml-4\">\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Cantidad Real Recibida\"\n                                    className={inputStyle}\n                                    value={receivedQuantities[item.sku] || ''}\n                                    onChange={(e) => handleInputChange(item.sku, e.target.value)}\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"mt-8 pt-4 border-t border-slate-200\">\n                    <p className=\"text-xl font-bold text-slate-900 mb-4\">Total de Unidades Contadas: {totalReceived}</p>\n                    <button\n                        className=\"w-full py-3 bg-cyan-700 text-white font-bold rounded-xl hover:bg-cyan-800 transition disabled:opacity-50 flex items-center justify-center\"\n                        onClick={() => isComplete && onReceive(order, Object.entries(receivedQuantities).map(([sku, receivedQty]) => ({ sku, receivedQty })))}\n                        disabled={!isComplete}\n                    >\n                        <Save size={20} className=\"mr-2\" /> Confirmar Recepci√≥n Ciega\n                    </button>\n                    <button className=\"mt-2 w-full py-2 text-slate-600 hover:text-slate-900 transition\" onClick={onClose}>Cancelar</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default BlindReceptionModal;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;;;;;AAUA,MAAM,sBAA0D,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE;;IAClG,IAAI,CAAC,QAAQ,OAAO;IACpB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAA4B,CAAC;IAEzF,MAAM,oBAAoB,CAAC,KAAa;QACpC,sBAAsB,CAAA,OAAQ,CAAC;gBAC3B,GAAG,IAAI;gBACP,CAAC,IAAI,EAAE,SAAS,UAAU;YAC9B,CAAC;IACL;IAEA,MAAM,gBAAgB,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,CAAC,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG;IAEnG,oEAAoE;IACpE,MAAM,aAAa,MAAM,KAAK,CAAC,KAAK,CAAC,CAAA,OAAQ,kBAAkB,CAAC,KAAK,GAAG,CAAC,KAAK,aAAa,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI;IAE3H,MAAM,aAAa;IAGnB,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;;sCACV,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBAAS;wBAA4B,MAAM,EAAE;;;;;;;8BAGlE,6LAAC;oBAAE,WAAU;;sCACT,6LAAC,6MAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAS;;;;;;;8BAGvC,6LAAC;oBAAI,WAAU;8BACV,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,qBACd,6LAAC;4BAAmB,WAAU;;8CAC1B,6LAAC;oCAAE,WAAU;8CAAsC,KAAK,IAAI;;;;;;8CAC5D,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCACG,MAAK;wCACL,aAAY;wCACZ,WAAW;wCACX,OAAO,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI;wCACvC,UAAU,CAAC,IAAM,kBAAkB,KAAK,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;2BAR7D,KAAK,GAAG;;;;;;;;;;8BAe1B,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAE,WAAU;;gCAAwC;gCAA6B;;;;;;;sCAClF,6LAAC;4BACG,WAAU;4BACV,SAAS,IAAM,cAAc,UAAU,OAAO,OAAO,OAAO,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC,KAAK,YAAY,GAAK,CAAC;wCAAE;wCAAK;oCAAY,CAAC;4BAClI,UAAU,CAAC;;8CAEX,6LAAC,6MAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;gCAAS;;;;;;;sCAEvC,6LAAC;4BAAO,WAAU;4BAAkE,SAAS;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAK1H;GA7DM;KAAA;uCA+DS"}},
    {"offset": {"line": 978, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/supply/ManualOrderModal.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { X, Search, Plus, Trash2, AlertTriangle, Save, Send, DollarSign, Calendar, Truck, Package } from 'lucide-react';\nimport { usePharmaStore } from '../../store/useStore';\nimport { useNotificationStore } from '../../store/useNotificationStore';\nimport { toast } from 'sonner';\nimport { InventoryBatch } from '../../../domain/types';\n\ninterface ManualOrderModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\ninterface OrderItem {\n    sku: string;\n    name: string;\n    quantity: number;\n    cost_price: number;\n    stock_actual: number;\n    stock_max: number;\n}\n\nconst ManualOrderModal: React.FC<ManualOrderModalProps> = ({ isOpen, onClose }) => {\n    const { inventory, suppliers, addPurchaseOrder } = usePharmaStore();\n    const { pushNotification } = useNotificationStore();\n\n    const [selectedSupplierId, setSelectedSupplierId] = useState('');\n    const [expectedDate, setExpectedDate] = useState('');\n    const [searchTerm, setSearchTerm] = useState('');\n    const [orderItems, setOrderItems] = useState<OrderItem[]>([]);\n\n    const selectedSupplier = useMemo(() =>\n        suppliers.find(s => s.id === selectedSupplierId),\n        [selectedSupplierId, suppliers]);\n\n    const searchResults = useMemo(() => {\n        if (!searchTerm) return [];\n        return inventory.filter(item =>\n            item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            item.sku.includes(searchTerm)\n        ).slice(0, 5);\n    }, [searchTerm, inventory]);\n\n    const handleAddItem = (product: InventoryBatch) => {\n        if (orderItems.find(i => i.sku === product.sku)) {\n            toast.error('El producto ya est√° en la orden');\n            return;\n        }\n\n        setOrderItems([...orderItems, {\n            sku: product.sku,\n            name: product.name,\n            quantity: 1,\n            cost_price: product.cost_price || 0,\n            stock_actual: product.stock_actual,\n            stock_max: product.stock_max || 100 // Default max if not set\n        }]);\n        setSearchTerm('');\n    };\n\n    const updateItem = (sku: string, field: keyof OrderItem, value: number) => {\n        setOrderItems(items => items.map(item =>\n            item.sku === sku ? { ...item, [field]: value } : item\n        ));\n    };\n\n    const removeItem = (sku: string) => {\n        setOrderItems(items => items.filter(i => i.sku !== sku));\n    };\n\n    const totals = useMemo(() => {\n        const net = orderItems.reduce((acc, item) => acc + (item.quantity * item.cost_price), 0);\n        const tax = net * 0.19;\n        return { net, tax, total: net + tax };\n    }, [orderItems]);\n\n    const handleSave = (status: 'DRAFT' | 'SENT') => {\n        if (!selectedSupplierId) {\n            toast.error('Seleccione un proveedor');\n            return;\n        }\n        if (orderItems.length === 0) {\n            toast.error('Agregue productos a la orden');\n            return;\n        }\n\n        const newOrder = {\n            id: `ORD-${Date.now()}`,\n            supplier_id: selectedSupplierId,\n            created_at: Date.now(),\n            status,\n            items: orderItems.map(i => ({\n                sku: i.sku,\n                name: i.name,\n                quantity: i.quantity,\n                cost_price: i.cost_price\n            })),\n            total_estimated: totals.total\n        };\n\n        addPurchaseOrder(newOrder);\n\n        if (status === 'SENT') {\n            pushNotification({\n                title: 'Orden de Compra Enviada',\n                message: `Orden ${newOrder.id} enviada a ${selectedSupplier?.fantasy_name}`,\n                type: 'INFO',\n                roleTarget: 'MANAGER'\n            });\n            toast.success('Orden enviada exitosamente');\n        } else {\n            toast.success('Borrador guardado');\n        }\n\n        onClose();\n        // Reset state\n        setOrderItems([]);\n        setSelectedSupplierId('');\n        setExpectedDate('');\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col\">\n                {/* Header */}\n                <div className=\"p-6 border-b border-gray-100 flex justify-between items-start bg-gray-50 rounded-t-2xl\">\n                    <div>\n                        <h2 className=\"text-2xl font-bold text-gray-800 flex items-center gap-2\">\n                            <Plus className=\"text-cyan-600\" />\n                            Nueva Orden Manual\n                        </h2>\n                        <p className=\"text-sm text-gray-500\">Creaci√≥n de pedido discrecional</p>\n                    </div>\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-200 rounded-full transition-colors\">\n                        <X size={24} className=\"text-gray-500\" />\n                    </button>\n                </div>\n\n                {/* Body */}\n                <div className=\"flex-1 flex overflow-hidden\">\n                    {/* Left: Configuration & Search */}\n                    <div className=\"w-1/3 border-r border-gray-100 p-6 flex flex-col gap-6 bg-white overflow-y-auto\">\n                        {/* Supplier Selection */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-bold text-gray-700\">Proveedor</label>\n                            <select\n                                value={selectedSupplierId}\n                                onChange={(e) => setSelectedSupplierId(e.target.value)}\n                                className=\"w-full p-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none bg-gray-50\"\n                            >\n                                <option value=\"\">Seleccione un proveedor...</option>\n                                {suppliers.map(s => (\n                                    <option key={s.id} value={s.id}>{s.fantasy_name}</option>\n                                ))}\n                            </select>\n                            {selectedSupplier && (\n                                <div className=\"bg-blue-50 p-3 rounded-lg border border-blue-100 text-sm\">\n                                    <div className=\"flex justify-between mb-1\">\n                                        <span className=\"text-blue-600 font-bold\">Condici√≥n:</span>\n                                        <span className=\"text-blue-800\">{selectedSupplier.payment_terms} d√≠as</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-blue-600 font-bold\">Cr√©dito:</span>\n                                        <span className=\"text-blue-800\">$5.000.000 (Disp)</span>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Date */}\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-bold text-gray-700\">Fecha Esperada</label>\n                            <div className=\"relative\">\n                                <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                                <input\n                                    type=\"date\"\n                                    value={expectedDate}\n                                    onChange={(e) => setExpectedDate(e.target.value)}\n                                    className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Product Search */}\n                        <div className=\"space-y-2 flex-1\">\n                            <label className=\"text-sm font-bold text-gray-700\">Agregar Productos</label>\n                            <div className=\"relative\">\n                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Buscar por SKU o Nombre...\"\n                                    value={searchTerm}\n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                    className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:border-cyan-500 focus:outline-none\"\n                                />\n                            </div>\n\n                            {/* Search Results */}\n                            {searchTerm && (\n                                <div className=\"mt-2 border border-gray-200 rounded-xl overflow-hidden shadow-lg\">\n                                    {searchResults.map(item => (\n                                        <button\n                                            key={item.id}\n                                            onClick={() => handleAddItem(item)}\n                                            className=\"w-full p-3 text-left hover:bg-cyan-50 border-b border-gray-100 last:border-0 transition flex justify-between items-center group\"\n                                        >\n                                            <div>\n                                                <div className=\"font-bold text-gray-800\">{item.name}</div>\n                                                <div className=\"text-xs text-gray-500\">{item.sku} ‚Ä¢ Stock: {item.stock_actual}</div>\n                                            </div>\n                                            <Plus size={18} className=\"text-gray-300 group-hover:text-cyan-600\" />\n                                        </button>\n                                    ))}\n                                    {searchResults.length === 0 && (\n                                        <div className=\"p-4 text-center text-gray-400 text-sm\">No se encontraron productos</div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Right: Order Grid */}\n                    <div className=\"flex-1 flex flex-col bg-gray-50\">\n                        <div className=\"flex-1 overflow-auto p-6\">\n                            {orderItems.length === 0 ? (\n                                <div className=\"h-full flex flex-col items-center justify-center text-gray-400\">\n                                    <Package size={64} className=\"mb-4 opacity-50\" />\n                                    <p className=\"text-lg font-medium\">El carrito de compra est√° vac√≠o</p>\n                                    <p className=\"text-sm\">Seleccione un proveedor y agregue productos</p>\n                                </div>\n                            ) : (\n                                <table className=\"w-full text-left border-separate border-spacing-y-2\">\n                                    <thead>\n                                        <tr className=\"text-xs font-bold text-gray-500 uppercase\">\n                                            <th className=\"px-4\">Producto</th>\n                                            <th className=\"px-4 text-center\">Cantidad</th>\n                                            <th className=\"px-4 text-right\">Costo Unit.</th>\n                                            <th className=\"px-4 text-right\">Subtotal</th>\n                                            <th className=\"px-4\"></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {orderItems.map(item => (\n                                            <tr key={item.sku} className=\"bg-white shadow-sm rounded-xl\">\n                                                <td className=\"p-4 rounded-l-xl\">\n                                                    <div className=\"font-bold text-gray-800\">{item.name}</div>\n                                                    <div className=\"flex items-center gap-2 mt-1\">\n                                                        <span className=\"text-xs font-mono text-gray-400\">{item.sku}</span>\n                                                        {item.stock_actual > item.stock_max && (\n                                                            <span className=\"flex items-center gap-1 text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100\">\n                                                                <AlertTriangle size={10} /> SOBRESTOCK\n                                                            </span>\n                                                        )}\n                                                    </div>\n                                                </td>\n                                                <td className=\"p-4 text-center\">\n                                                    <input\n                                                        type=\"number\"\n                                                        min=\"1\"\n                                                        value={item.quantity}\n                                                        onChange={(e) => updateItem(item.sku, 'quantity', parseInt(e.target.value) || 0)}\n                                                        className=\"w-20 p-2 text-center border border-gray-200 rounded-lg font-bold focus:border-cyan-500 focus:outline-none\"\n                                                    />\n                                                </td>\n                                                <td className=\"p-4 text-right\">\n                                                    <div className=\"relative\">\n                                                        <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs\">$</span>\n                                                        <input\n                                                            type=\"number\"\n                                                            min=\"0\"\n                                                            value={item.cost_price}\n                                                            onChange={(e) => updateItem(item.sku, 'cost_price', parseInt(e.target.value) || 0)}\n                                                            className=\"w-24 p-2 pl-6 text-right border border-gray-200 rounded-lg font-mono text-sm focus:border-cyan-500 focus:outline-none\"\n                                                        />\n                                                    </div>\n                                                </td>\n                                                <td className=\"p-4 text-right font-bold text-gray-800\">\n                                                    ${(item.quantity * item.cost_price).toLocaleString()}\n                                                </td>\n                                                <td className=\"p-4 rounded-r-xl text-center\">\n                                                    <button\n                                                        onClick={() => removeItem(item.sku)}\n                                                        className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition\"\n                                                    >\n                                                        <Trash2 size={18} />\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            )}\n                        </div>\n\n                        {/* Totals Footer */}\n                        <div className=\"p-6 bg-white border-t border-gray-200\">\n                            <div className=\"flex justify-end gap-12 mb-6\">\n                                <div className=\"text-right\">\n                                    <p className=\"text-sm text-gray-500 mb-1\">Neto</p>\n                                    <p className=\"text-xl font-bold text-gray-800\">${totals.net.toLocaleString()}</p>\n                                </div>\n                                <div className=\"text-right\">\n                                    <p className=\"text-sm text-gray-500 mb-1\">IVA (19%)</p>\n                                    <p className=\"text-xl font-bold text-gray-800\">${totals.tax.toLocaleString()}</p>\n                                </div>\n                                <div className=\"text-right\">\n                                    <p className=\"text-sm text-gray-500 mb-1\">Total a Pagar</p>\n                                    <p className=\"text-3xl font-extrabold text-cyan-600\">${totals.total.toLocaleString()}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"flex justify-end gap-4\">\n                                <button\n                                    onClick={() => handleSave('DRAFT')}\n                                    className=\"px-6 py-3 text-gray-600 font-bold hover:bg-gray-100 rounded-xl transition flex items-center gap-2\"\n                                >\n                                    <Save size={20} />\n                                    Guardar Borrador\n                                </button>\n                                <button\n                                    onClick={() => handleSave('SENT')}\n                                    className=\"px-8 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center gap-2\"\n                                >\n                                    <Send size={20} />\n                                    Confirmar y Enviar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ManualOrderModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/hr/EmployeeModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Save, UserPlus, Briefcase, FileText, Lock, Shield, Fingerprint } from 'lucide-react';\nimport { EmployeeProfile } from '../../../domain/types';\nimport { ROLES, Role } from '../../../domain/security/roles';\nimport { APP_MODULES, ROLE_PRESETS } from '../../../domain/config/roles_presets';\nimport { WebAuthnService } from '../../../infrastructure/biometrics/WebAuthnService';\nimport { toast } from 'sonner';\n\ninterface EmployeeModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    employee: EmployeeProfile | null;\n    onSave: (employee: EmployeeProfile) => void;\n}\n\nexport const EmployeeModal: React.FC<EmployeeModalProps> = ({ isOpen, onClose, employee, onSave }) => {\n    const [formData, setFormData] = useState<EmployeeProfile | null>(null);\n\n    useEffect(() => {\n        if (employee) {\n            setFormData({ ...employee });\n        }\n    }, [employee]);\n\n    if (!isOpen || !formData) return null;\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        onSave(formData);\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\">\n                {/* Header */}\n                <div className=\"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50\">\n                    <h2 className=\"text-2xl font-bold text-slate-800 flex items-center gap-2\">\n                        {formData.id.startsWith('EMP-') && !formData.rut ? <UserPlus className=\"text-blue-600\" /> : <Briefcase className=\"text-blue-600\" />}\n                        {formData.id.startsWith('EMP-') && !formData.rut ? 'Nuevo Empleado' : 'Editar Empleado'}\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-slate-200 rounded-full transition-colors\">\n                        <X size={24} className=\"text-slate-500\" />\n                    </button>\n                </div>\n\n                {/* Body */}\n                <div className=\"flex-1 overflow-y-auto p-8\">\n                    <form id=\"employee-form\" onSubmit={handleSubmit} className=\"space-y-8\">\n\n                        {/* Security Section - Highlighted */}\n                        <div className=\"bg-red-50 border-2 border-red-100 rounded-2xl p-6 relative overflow-hidden\">\n                            <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n                                <Lock size={120} className=\"text-red-500\" />\n                            </div>\n\n                            <h3 className=\"text-lg font-bold text-red-700 mb-4 flex items-center gap-2 relative z-10\">\n                                <Shield className=\"fill-red-100\" />\n                                üîê Llaves de Acceso (Kiosco)\n                            </h3>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-red-800 mb-2\">PIN de Acceso (4 d√≠gitos)</label>\n                                    <input\n                                        type=\"password\"\n                                        maxLength={4}\n                                        value={formData.access_pin}\n                                        onChange={e => setFormData({ ...formData, access_pin: e.target.value })}\n                                        className=\"w-full p-4 bg-white border-2 border-red-200 rounded-xl focus:ring-4 focus:ring-red-200 focus:border-red-500 outline-none font-mono text-center text-2xl tracking-[0.5em] text-red-900 placeholder-red-200\"\n                                        placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                                    />\n                                    <p className=\"text-xs text-red-600 mt-2 font-medium\">\n                                        * Este PIN es el que el empleado usar√° en el Totem de entrada.\n                                    </p>\n                                </div>\n\n                                <div className=\"bg-white/50 rounded-xl p-4 border border-red-100\">\n                                    <label className=\"block text-sm font-bold text-red-800 mb-2\">Biometr√≠a</label>\n                                    <div className=\"flex items-center justify-between mb-4\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Fingerprint className=\"text-red-400\" />\n                                            <span className=\"text-sm font-medium text-slate-600\">\n                                                {formData.biometric_credentials?.length ? '‚úÖ Huella Vinculada' : '‚ö†Ô∏è No configurada'}\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <button\n                                        type=\"button\"\n                                        onClick={async () => {\n                                            try {\n                                                toast.info('Iniciando registro biom√©trico...');\n                                                const credential = await WebAuthnService.registerCredential(formData.id, formData.name);\n                                                if (credential) {\n                                                    const currentCreds = formData.biometric_credentials || [];\n                                                    setFormData({\n                                                        ...formData,\n                                                        biometric_credentials: [...currentCreds, credential.id]\n                                                    });\n                                                    toast.success('Biometr√≠a registrada exitosamente');\n                                                }\n                                            } catch (error) {\n                                                toast.error('Error al registrar biometr√≠a');\n                                            }\n                                        }}\n                                        className=\"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-200\"\n                                    >\n                                        <span className=\"text-xl\">üñêÔ∏è</span>\n                                        Enrolar Huella Digital\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                            {/* Personal Info */}\n                            <div className=\"space-y-4\">\n                                <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2\">\n                                    <FileText size={16} />\n                                    Informaci√≥n Personal\n                                </h3>\n                                <div className=\"space-y-4\">\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-slate-700 mb-1\">Nombre Completo</label>\n                                        <input\n                                            type=\"text\"\n                                            value={formData.name}\n                                            onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                            className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                        />\n                                    </div>\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">RUT</label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.rut}\n                                                onChange={e => setFormData({ ...formData, rut: e.target.value })}\n                                                className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">Tel√©fono</label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.contact_phone || ''}\n                                                onChange={e => setFormData({ ...formData, contact_phone: e.target.value })}\n                                                className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                            />\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-slate-700 mb-1\">Estado</label>\n                                        <select\n                                            value={formData.status}\n                                            onChange={e => setFormData({ ...formData, status: e.target.value as any })}\n                                            className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                        >\n                                            <option value=\"ACTIVE\">Activo</option>\n                                            <option value=\"ON_LEAVE\">Licencia/Vacaciones</option>\n                                            <option value=\"TERMINATED\">Desvinculado</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Contract Info */}\n                            <div className=\"space-y-4\">\n                                <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2\">\n                                    <Briefcase size={16} />\n                                    Contrato y Rol\n                                </h3>\n                                <div className=\"space-y-4\">\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">Cargo</label>\n                                            <select\n                                                value={formData.job_title}\n                                                onChange={e => setFormData({ ...formData, job_title: e.target.value as any })}\n                                                className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                            >\n                                                <option value=\"QUIMICO_FARMACEUTICO\">Qu√≠mico Farmac√©utico</option>\n                                                <option value=\"AUXILIAR_FARMACIA\">Auxiliar de Farmacia</option>\n                                                <option value=\"CAJERO_VENDEDOR\">Cajero Vendedor</option>\n                                                <option value=\"BODEGUERO\">Bodeguero</option>\n                                                <option value=\"ADMINISTRATIVO\">Administrativo</option>\n                                                <option value=\"GERENTE_GENERAL\">Gerente General</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">Rol Sistema</label>\n                                            <select\n                                                value={formData.role}\n                                                onChange={(e) => {\n                                                    const newRole = e.target.value as Role;\n                                                    const presetModules = ROLE_PRESETS[newRole] || [];\n                                                    setFormData({\n                                                        ...formData,\n                                                        role: newRole,\n                                                        allowed_modules: [...presetModules]\n                                                    });\n                                                }}\n                                                className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\"\n                                            >\n                                                {Object.entries(ROLES).map(([key, label]) => (\n                                                    <option key={key} value={key}>{label}</option>\n                                                ))}\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">AFP</label>\n                                            <select className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\" value={formData.pension_fund || ''} onChange={e => setFormData({ ...formData, pension_fund: e.target.value })}>\n                                                <option value=\"\">Seleccionar...</option>\n                                                <option value=\"HABITAT\">Habitat</option>\n                                                <option value=\"MODELO\">Modelo</option>\n                                                <option value=\"PLANVITAL\">Planvital</option>\n                                                <option value=\"PROVIDA\">Provida</option>\n                                                <option value=\"CAPITAL\">Capital</option>\n                                                <option value=\"CUPRUM\">Cuprum</option>\n                                                <option value=\"UNO\">Uno</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-slate-700 mb-1\">Salud</label>\n                                            <select className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none\" value={formData.health_system || ''} onChange={e => setFormData({ ...formData, health_system: e.target.value })}>\n                                                <option value=\"\">Seleccionar...</option>\n                                                <option value=\"FONASA\">Fonasa</option>\n                                                <option value=\"ISAPRE_CONSALUD\">Consalud</option>\n                                                <option value=\"ISAPRE_CRUZBLANCA\">Cruz Blanca</option>\n                                                <option value=\"ISAPRE_COLMENA\">Colmena</option>\n                                                <option value=\"ISAPRE_BANMEDICA\">Banm√©dica</option>\n                                                <option value=\"ISAPRE_VIDATRES\">Vida Tres</option>\n                                                <option value=\"ISAPRE_NUEVAMASVIDA\">Nueva Masvida</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Module Permissions */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-3\">Permisos Adicionales (M√≥dulos)</label>\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                {['OPERATIVO', 'LOGISTICA', 'ADMIN', 'GERENCIA'].map(category => (\n                                    <div key={category} className=\"bg-slate-50 p-4 rounded-xl border border-slate-100\">\n                                        <h4 className=\"text-xs font-bold text-slate-400 uppercase mb-3\">{category}</h4>\n                                        <div className=\"space-y-2\">\n                                            {APP_MODULES.filter(m => m.category === category).map(module => (\n                                                <label key={module.id} className=\"flex items-center gap-2 cursor-pointer group\">\n                                                    <div className={`w-5 h-5 rounded border flex items-center justify-center transition-colors ${formData.allowed_modules?.includes(module.id) ? 'bg-blue-500 border-blue-500' : 'bg-white border-slate-300 group-hover:border-blue-400'}`}>\n                                                        {formData.allowed_modules?.includes(module.id) && <CheckCircle size={12} className=\"text-white\" />}\n                                                    </div>\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        className=\"hidden\"\n                                                        checked={formData.allowed_modules?.includes(module.id)}\n                                                        onChange={(e) => {\n                                                            const currentModules = formData.allowed_modules || [];\n                                                            if (e.target.checked) {\n                                                                setFormData({\n                                                                    ...formData,\n                                                                    allowed_modules: [...currentModules, module.id]\n                                                                });\n                                                            } else {\n                                                                setFormData({\n                                                                    ...formData,\n                                                                    allowed_modules: currentModules.filter(m => m !== module.id)\n                                                                });\n                                                            }\n                                                        }}\n                                                    />\n                                                    <span className={`text-sm ${formData.allowed_modules?.includes(module.id) ? 'text-slate-700 font-medium' : 'text-slate-500'}`}>\n                                                        {module.label}\n                                                    </span>\n                                                </label>\n                                            ))}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    </form>\n                </div>\n\n                {/* Footer */}\n                <div className=\"p-6 border-t border-slate-100 bg-slate-50 flex justify-end gap-4\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-6 py-3 font-bold text-slate-500 hover:bg-slate-200 rounded-xl transition-colors\"\n                    >\n                        Cancelar\n                    </button>\n                    <button\n                        type=\"submit\"\n                        form=\"employee-form\"\n                        className=\"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-colors flex items-center gap-2\"\n                    >\n                        <Save size={20} />\n                        Guardar Cambios\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nfunction CheckCircle({ size, className }: { size: number, className?: string }) {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={size}\n            height={size}\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"3\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            className={className}\n        >\n            <polyline points=\"20 6 9 17 4 12\" />\n        </svg>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/bi/TimeFilter.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Calendar, ChevronDown } from 'lucide-react';\n\nexport interface DateRange {\n    from: Date;\n    to: Date;\n}\n\ninterface TimeFilterProps {\n    onFilterChange: (range: DateRange) => void;\n    initialRange?: DateRange;\n}\n\nconst TimeFilter: React.FC<TimeFilterProps> = ({ onFilterChange, initialRange }) => {\n    const [fromDate, setFromDate] = useState<string>(\n        initialRange?.from.toISOString().split('T')[0] ||\n        new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n    );\n    const [toDate, setToDate] = useState<string>(\n        initialRange?.to.toISOString().split('T')[0] ||\n        new Date().toISOString().split('T')[0]\n    );\n    const [showPresets, setShowPresets] = useState(false);\n\n    const presets = [\n        { label: '√öltimos 7 d√≠as', days: 7 },\n        { label: '√öltimos 30 d√≠as', days: 30 },\n        { label: 'Este mes', days: 'current_month' as const },\n        { label: 'Mes anterior', days: 'last_month' as const },\n        { label: 'Este trimestre', days: 'current_quarter' as const },\n        { label: 'Este a√±o', days: 'current_year' as const },\n    ];\n\n    const applyPreset = (preset: typeof presets[0]) => {\n        const today = new Date();\n        let from: Date;\n        let to: Date = today;\n\n        if (typeof preset.days === 'number') {\n            from = new Date(today.getTime() - preset.days * 24 * 60 * 60 * 1000);\n        } else {\n            switch (preset.days) {\n                case 'current_month':\n                    from = new Date(today.getFullYear(), today.getMonth(), 1);\n                    break;\n                case 'last_month':\n                    from = new Date(today.getFullYear(), today.getMonth() - 1, 1);\n                    to = new Date(today.getFullYear(), today.getMonth(), 0);\n                    break;\n                case 'current_quarter':\n                    const quarter = Math.floor(today.getMonth() / 3);\n                    from = new Date(today.getFullYear(), quarter * 3, 1);\n                    break;\n                case 'current_year':\n                    from = new Date(today.getFullYear(), 0, 1);\n                    break;\n                default:\n                    from = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n            }\n        }\n\n        setFromDate(from.toISOString().split('T')[0]);\n        setToDate(to.toISOString().split('T')[0]);\n        setShowPresets(false);\n    };\n\n    const handleApply = () => {\n        onFilterChange({\n            from: new Date(fromDate),\n            to: new Date(toDate + 'T23:59:59')\n        });\n    };\n\n    return (\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4\">\n            <div className=\"flex flex-wrap items-end gap-4\">\n                {/* Date Range */}\n                <div className=\"flex-1 min-w-[200px]\">\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                        Desde\n                    </label>\n                    <div className=\"relative\">\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                        <input\n                            type=\"date\"\n                            value={fromDate}\n                            onChange={(e) => setFromDate(e.target.value)}\n                            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                    </div>\n                </div>\n\n                <div className=\"flex-1 min-w-[200px]\">\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                        Hasta\n                    </label>\n                    <div className=\"relative\">\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                        <input\n                            type=\"date\"\n                            value={toDate}\n                            onChange={(e) => setToDate(e.target.value)}\n                            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                    </div>\n                </div>\n\n                {/* Presets Dropdown */}\n                <div className=\"relative\">\n                    <button\n                        onClick={() => setShowPresets(!showPresets)}\n                        className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2 font-medium text-sm border border-gray-300\"\n                    >\n                        Presets\n                        <ChevronDown className=\"w-4 h-4\" />\n                    </button>\n                    {showPresets && (\n                        <div className=\"absolute top-full mt-2 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[180px]\">\n                            {presets.map((preset, idx) => (\n                                <button\n                                    key={idx}\n                                    onClick={() => applyPreset(preset)}\n                                    className=\"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm text-gray-700 first:rounded-t-lg last:rounded-b-lg\"\n                                >\n                                    {preset.label}\n                                </button>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* Apply Button */}\n                <button\n                    onClick={handleApply}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold text-sm shadow-lg shadow-blue-200\"\n                >\n                    Aplicar Filtros\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default TimeFilter;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3182, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/suppliers/AddSupplierModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { X, Building2, MapPin, Phone, Mail, CreditCard, Tag, Plus, Trash2 } from 'lucide-react';\nimport { Supplier, BankAccount } from '../../../domain/types';\nimport { toast } from 'sonner';\n\ninterface AddSupplierModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSave: (supplier: Omit<Supplier, 'id'>) => void;\n}\n\nconst CHILEAN_BANKS = [\n    'Banco Estado',\n    'Banco de Chile',\n    'Banco Santander',\n    'Banco BCI',\n    'Banco Scotiabank',\n    'Banco Ita√∫',\n    'Banco Security',\n    'Banco Falabella',\n    'Banco Ripley',\n    'Banco Consorcio'\n];\n\nconst CHILEAN_REGIONS = [\n    'Regi√≥n de Arica y Parinacota',\n    'Regi√≥n de Tarapac√°',\n    'Regi√≥n de Antofagasta',\n    'Regi√≥n de Atacama',\n    'Regi√≥n de Coquimbo',\n    'Regi√≥n de Valpara√≠so',\n    'Regi√≥n Metropolitana',\n    'Regi√≥n del Libertador General Bernardo O\\'Higgins',\n    'Regi√≥n del Maule',\n    'Regi√≥n de √ëuble',\n    'Regi√≥n del Biob√≠o',\n    'Regi√≥n de La Araucan√≠a',\n    'Regi√≥n de Los R√≠os',\n    'Regi√≥n de Los Lagos',\n    'Regi√≥n de Ays√©n',\n    'Regi√≥n de Magallanes'\n];\n\nconst SECTORS = [\n    'Laboratorio Farmac√©utico',\n    'Distribuidora Mayorista',\n    'Insumos M√©dicos',\n    'Retail y Belleza',\n    'Servicios Log√≠sticos',\n    'Equipamiento M√©dico'\n];\n\nconst AddSupplierModal: React.FC<AddSupplierModalProps> = ({ isOpen, onClose, onSave }) => {\n    // Section 1: Company Data\n    const [rut, setRut] = useState('');\n    const [businessName, setBusinessName] = useState('');\n    const [fantasyName, setFantasyName] = useState('');\n    const [sector, setSector] = useState('');\n    const [website, setWebsite] = useState('');\n\n    // Section 2: Location & Contact\n    const [address, setAddress] = useState('');\n    const [region, setRegion] = useState('');\n    const [city, setCity] = useState('');\n    const [commune, setCommune] = useState('');\n    const [phone1, setPhone1] = useState('');\n    const [phone2, setPhone2] = useState('');\n    const [emailOrders, setEmailOrders] = useState('');\n    const [emailBilling, setEmailBilling] = useState('');\n    const [contactEmail, setContactEmail] = useState('');\n\n    // Section 3: Banking\n    const [bankName, setBankName] = useState('');\n    const [accountType, setAccountType] = useState<'VISTA' | 'CORRIENTE' | 'AHORRO'>('CORRIENTE');\n    const [accountNumber, setAccountNumber] = useState('');\n    const [rutHolder, setRutHolder] = useState('');\n\n    // Section 4: Brands & Portfolio\n    const [brandInput, setBrandInput] = useState('');\n    const [brands, setBrands] = useState<string[]>([]);\n\n    // Additional fields\n    const [paymentTerms, setPaymentTerms] = useState<'CONTADO' | '30_DIAS' | '60_DIAS' | '90_DIAS'>('30_DIAS');\n    const [leadTimeDays, setLeadTimeDays] = useState(7);\n\n    const handleAddBrand = () => {\n        const trimmed = brandInput.trim();\n        if (trimmed && !brands.includes(trimmed)) {\n            setBrands([...brands, trimmed]);\n            setBrandInput('');\n        }\n    };\n\n    const handleRemoveBrand = (brand: string) => {\n        setBrands(brands.filter(b => b !== brand));\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            handleAddBrand();\n        }\n    };\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Validation\n        if (!rut || !businessName || !fantasyName || !sector) {\n            toast.error('Por favor completa los campos obligatorios de Datos Empresa');\n            return;\n        }\n\n        if (!address || !region || !city || !emailOrders || !emailBilling || !phone1) {\n            toast.error('Por favor completa los campos obligatorios de Ubicaci√≥n & Contacto');\n            return;\n        }\n\n        const bankAccount: BankAccount | undefined = bankName && accountNumber ? {\n            bank: bankName,\n            account_type: accountType,\n            account_number: accountNumber,\n            email_notification: emailBilling,\n            rut_holder: rutHolder || rut\n        } : undefined;\n\n        const supplierData: Omit<Supplier, 'id'> = {\n            rut,\n            business_name: businessName,\n            fantasy_name: fantasyName,\n            website,\n            address,\n            region,\n            city,\n            commune,\n            phone_1: phone1,\n            phone_2: phone2,\n            contact_email: contactEmail || emailOrders,\n            email_orders: emailOrders,\n            email_billing: emailBilling,\n            contacts: [],\n            sector,\n            brands,\n            categories: [],\n            payment_terms: paymentTerms,\n            rating: 3,\n            lead_time_days: leadTimeDays,\n            bank_account: bankAccount\n        };\n\n        onSave(supplierData);\n        handleReset();\n        onClose();\n    };\n\n    const handleReset = () => {\n        setRut('');\n        setBusinessName('');\n        setFantasyName('');\n        setSector('');\n        setWebsite('');\n        setAddress('');\n        setRegion('');\n        setCity('');\n        setCommune('');\n        setPhone1('');\n        setPhone2('');\n        setEmailOrders('');\n        setEmailBilling('');\n        setContactEmail('');\n        setBankName('');\n        setAccountType('CORRIENTE');\n        setAccountNumber('');\n        setRutHolder('');\n        setBrands([]);\n        setBrandInput('');\n        setPaymentTerms('30_DIAS');\n        setLeadTimeDays(7);\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\n                {/* Header */}\n                <div className=\"bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4 flex justify-between items-center\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"bg-white/20 p-2 rounded-lg\">\n                            <Building2 className=\"w-6 h-6 text-white\" />\n                        </div>\n                        <div>\n                            <h2 className=\"text-xl font-bold text-white\">Nuevo Proveedor</h2>\n                            <p className=\"text-blue-100 text-sm\">Alta Maestra de Socio Comercial</p>\n                        </div>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"text-white/80 hover:text-white transition-colors\"\n                    >\n                        <X className=\"w-6 h-6\" />\n                    </button>\n                </div>\n\n                {/* Form */}\n                <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                    {/* Section 1: Company Data */}\n                    <div className=\"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200\">\n                        <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                            <Building2 className=\"w-5 h-5 text-blue-600\" />\n                            A. Datos de la Empresa\n                        </h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    RUT <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={rut}\n                                    onChange={(e) => setRut(e.target.value)}\n                                    placeholder=\"12.345.678-9\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Raz√≥n Social <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={businessName}\n                                    onChange={(e) => setBusinessName(e.target.value)}\n                                    placeholder=\"Laboratorios Chile S.A.\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Nombre Fantas√≠a <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={fantasyName}\n                                    onChange={(e) => setFantasyName(e.target.value)}\n                                    placeholder=\"Lab Chile\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Rubro/Sector <span className=\"text-red-500\">*</span>\n                                </label>\n                                <select\n                                    value={sector}\n                                    onChange={(e) => setSector(e.target.value)}\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                    required\n                                >\n                                    <option value=\"\">Seleccionar...</option>\n                                    {SECTORS.map(s => (\n                                        <option key={s} value={s}>{s}</option>\n                                    ))}\n                                </select>\n                            </div>\n                            <div className=\"md:col-span-2\">\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Sitio Web\n                                </label>\n                                <input\n                                    type=\"url\"\n                                    value={website}\n                                    onChange={(e) => setWebsite(e.target.value)}\n                                    placeholder=\"https://www.ejemplo.cl\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Section 2: Location & Contact */}\n                    <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200\">\n                        <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                            <MapPin className=\"w-5 h-5 text-green-600\" />\n                            B. Ubicaci√≥n & Contacto\n                        </h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div className=\"md:col-span-2\">\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Direcci√≥n <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={address}\n                                    onChange={(e) => setAddress(e.target.value)}\n                                    placeholder=\"Av. Libertador Bernardo O'Higgins 1234\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Regi√≥n <span className=\"text-red-500\">*</span>\n                                </label>\n                                <select\n                                    value={region}\n                                    onChange={(e) => setRegion(e.target.value)}\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                >\n                                    <option value=\"\">Seleccionar...</option>\n                                    {CHILEAN_REGIONS.map(r => (\n                                        <option key={r} value={r}>{r}</option>\n                                    ))}\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Ciudad <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={city}\n                                    onChange={(e) => setCity(e.target.value)}\n                                    placeholder=\"Santiago\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Comuna\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={commune}\n                                    onChange={(e) => setCommune(e.target.value)}\n                                    placeholder=\"Providencia\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Tel√©fono Principal <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"tel\"\n                                    value={phone1}\n                                    onChange={(e) => setPhone1(e.target.value)}\n                                    placeholder=\"+56 2 2345 6789\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Tel√©fono Secundario\n                                </label>\n                                <input\n                                    type=\"tel\"\n                                    value={phone2}\n                                    onChange={(e) => setPhone2(e.target.value)}\n                                    placeholder=\"+56 9 8765 4321\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Email Pedidos/O.C. <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"email\"\n                                    value={emailOrders}\n                                    onChange={(e) => setEmailOrders(e.target.value)}\n                                    placeholder=\"pedidos@proveedor.cl\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Email Facturaci√≥n/Cobranza <span className=\"text-red-500\">*</span>\n                                </label>\n                                <input\n                                    type=\"email\"\n                                    value={emailBilling}\n                                    onChange={(e) => setEmailBilling(e.target.value)}\n                                    placeholder=\"cobranza@proveedor.cl\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\n                                    required\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Section 3: Banking */}\n                    <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200\">\n                        <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                            <CreditCard className=\"w-5 h-5 text-purple-600\" />\n                            C. Datos Bancarios (Para Transferencias)\n                        </h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Banco\n                                </label>\n                                <select\n                                    value={bankName}\n                                    onChange={(e) => setBankName(e.target.value)}\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"\n                                >\n                                    <option value=\"\">Seleccionar...</option>\n                                    {CHILEAN_BANKS.map(bank => (\n                                        <option key={bank} value={bank}>{bank}</option>\n                                    ))}\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Tipo de Cuenta\n                                </label>\n                                <select\n                                    value={accountType}\n                                    onChange={(e) => setAccountType(e.target.value as any)}\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"\n                                >\n                                    <option value=\"CORRIENTE\">Cuenta Corriente</option>\n                                    <option value=\"VISTA\">Cuenta Vista</option>\n                                    <option value=\"AHORRO\">Cuenta de Ahorro</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    N√∫mero de Cuenta\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={accountNumber}\n                                    onChange={(e) => setAccountNumber(e.target.value)}\n                                    placeholder=\"1234567890\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    RUT Titular (si difiere)\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={rutHolder}\n                                    onChange={(e) => setRutHolder(e.target.value)}\n                                    placeholder=\"11.111.111-1\"\n                                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Section 4: Brands & Portfolio */}\n                    <div className=\"bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-200\">\n                        <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                            <Tag className=\"w-5 h-5 text-orange-600\" />\n                            D. Marcas & Portafolio\n                        </h3>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                    Agregar Marcas\n                                </label>\n                                <div className=\"flex gap-2\">\n                                    <input\n                                        type=\"text\"\n                                        value={brandInput}\n                                        onChange={(e) => setBrandInput(e.target.value)}\n                                        onKeyDown={handleKeyDown}\n                                        placeholder=\"Escribe una marca y presiona Enter o Espacio\"\n                                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none\"\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleAddBrand}\n                                        className=\"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2\"\n                                    >\n                                        <Plus className=\"w-4 h-4\" />\n                                        Agregar\n                                    </button>\n                                </div>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                    Presiona Enter o Espacio para agregar cada marca\n                                </p>\n                            </div>\n\n                            {/* Brands Chips */}\n                            {brands.length > 0 && (\n                                <div className=\"flex flex-wrap gap-2\">\n                                    {brands.map((brand, idx) => (\n                                        <div\n                                            key={idx}\n                                            className=\"bg-orange-100 text-orange-800 px-3 py-1.5 rounded-full flex items-center gap-2 text-sm font-medium\"\n                                        >\n                                            <Tag className=\"w-3 h-3\" />\n                                            {brand}\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => handleRemoveBrand(brand)}\n                                                className=\"hover:text-orange-900\"\n                                            >\n                                                <Trash2 className=\"w-3 h-3\" />\n                                            </button>\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n\n                            {/* Commercial Terms */}\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-orange-200\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                        Condiciones de Pago\n                                    </label>\n                                    <select\n                                        value={paymentTerms}\n                                        onChange={(e) => setPaymentTerms(e.target.value as any)}\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none\"\n                                    >\n                                        <option value=\"CONTADO\">Contado</option>\n                                        <option value=\"30_DIAS\">30 D√≠as</option>\n                                        <option value=\"60_DIAS\">60 D√≠as</option>\n                                        <option value=\"90_DIAS\">90 D√≠as</option>\n                                    </select>\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                        Tiempo de Entrega (d√≠as)\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={leadTimeDays}\n                                        onChange={(e) => setLeadTimeDays(parseInt(e.target.value) || 0)}\n                                        min=\"1\"\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 outline-none\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n\n                {/* Footer */}\n                <div className=\"bg-gray-50 px-6 py-4 flex justify-between items-center border-t border-gray-200\">\n                    <p className=\"text-sm text-gray-600\">\n                        <span className=\"text-red-500\">*</span> Campos obligatorios\n                    </p>\n                    <div className=\"flex gap-3\">\n                        <button\n                            type=\"button\"\n                            onClick={onClose}\n                            className=\"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 font-medium\"\n                        >\n                            Cancelar\n                        </button>\n                        <button\n                            onClick={handleSubmit}\n                            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg shadow-blue-200\"\n                        >\n                            Guardar Proveedor\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AddSupplierModal;\n"],"names":[],"mappings":"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"}}]
}