{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/store/useStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist, createJSONStorage } from 'zustand/middleware';\nimport { InventoryBatch, EmployeeProfile, SaleItem, Customer, QueueTicket, Supplier, PurchaseOrder } from '../../domain/types';\n\n// --- MOCK DATA INICIAL ---\nconst MOCK_INVENTORY: InventoryBatch[] = [\n    { id: '1', sku: 'MED-001', name: 'Losartán 50mg', dci: 'Losartán', lot_number: 'L-2024-A', expiry_date: 1767139200000, category: 'MEDICAMENTO', sale_condition: 'R', storage_condition: 'AMBIENTE', allows_commission: false, active_ingredients: ['Losartán Potásico'], is_bioequivalent: true, stock_actual: 150, stock_min: 50, price: 2990, supplier_id: 'SUP-001' },\n    { id: '2', sku: 'MED-002', name: 'Amoxicilina 500mg', dci: 'Amoxicilina', lot_number: 'L-2024-B', expiry_date: 1751328000000, category: 'MEDICAMENTO', sale_condition: 'R', storage_condition: 'AMBIENTE', allows_commission: false, active_ingredients: ['Amoxicilina'], is_bioequivalent: true, stock_actual: 80, stock_min: 30, price: 3500, supplier_id: 'SUP-001' },\n    { id: '3', sku: 'MED-003', name: 'Insulina Glargina', dci: 'Insulina', lot_number: 'L-COLD-1', expiry_date: 1743465600000, category: 'MEDICAMENTO', sale_condition: 'R', storage_condition: 'REFRIGERADO', allows_commission: false, active_ingredients: ['Insulina'], is_bioequivalent: false, stock_actual: 20, stock_min: 10, price: 45000, supplier_id: 'SUP-002' },\n    { id: '4', sku: 'RET-001', name: 'Crema Maam Reafirmante', dci: 'Cosmético', lot_number: 'L-BEAUTY', expiry_date: 1798761600000, category: 'RETAIL_BELLEZA', sale_condition: 'VD', storage_condition: 'AMBIENTE', allows_commission: true, active_ingredients: [], is_bioequivalent: false, stock_actual: 40, stock_min: 10, price: 12990, supplier_id: 'SUP-003' },\n    { id: '5', sku: 'MED-004', name: 'Pseudoefedrina 60mg', dci: 'Pseudoefedrina', lot_number: 'L-RCH-1', expiry_date: 1767139200000, category: 'MEDICAMENTO', sale_condition: 'RCH', storage_condition: 'AMBIENTE', allows_commission: false, active_ingredients: ['Pseudoefedrina'], is_bioequivalent: false, stock_actual: 30, stock_min: 15, price: 5990, supplier_id: 'SUP-001' },\n];\n\nconst MOCK_SUPPLIERS: Supplier[] = [\n    { id: 'SUP-001', name: 'Laboratorio Chile', rut: '76.111.111-1', contact_email: 'ventas@labchile.cl', lead_time_days: 2 },\n    { id: 'SUP-002', name: 'Novo Nordisk', rut: '76.222.222-2', contact_email: 'orders@novo.com', lead_time_days: 5 },\n    { id: 'SUP-003', name: 'Droguería Hofmann', rut: '76.333.333-3', contact_email: 'contacto@hofmann.cl', lead_time_days: 3 },\n];\n\nconst MOCK_EMPLOYEES: EmployeeProfile[] = [\n    { id: 'EMP-001', rut: '15.111.111-1', name: 'Juan Pérez', role: 'QF', access_pin: '1234', labor_data: { base_salary: 1500000, afp: 'Habitat', isapre: 'Colmena' }, status: 'ACTIVE' },\n    { id: 'EMP-002', rut: '18.222.222-2', name: 'María González', role: 'CASHIER', access_pin: '0000', labor_data: { base_salary: 500000, afp: 'Modelo', isapre: 'Fonasa' }, status: 'ACTIVE' },\n    { id: 'EMP-003', rut: '10.333.333-3', name: 'Carlos Boss', role: 'MANAGER', access_pin: '9999', labor_data: { base_salary: 2500000, afp: 'Cuprum', isapre: 'MasVida' }, status: 'ACTIVE' },\n];\n\ninterface PharmaState {\n    // Auth\n    user: EmployeeProfile | null;\n    login: (pin: string) => boolean;\n    logout: () => void;\n\n    // Inventory & Supply\n    inventory: InventoryBatch[];\n    suppliers: Supplier[];\n    purchaseOrders: PurchaseOrder[];\n    updateStock: (batchId: string, quantity: number) => void;\n    addPurchaseOrder: (po: PurchaseOrder) => void;\n    receivePurchaseOrder: (poId: string, receivedItems: { sku: string, received_qty: number }[]) => void;\n\n    // POS & Cart\n    cart: SaleItem[];\n    addToCart: (batch: InventoryBatch, quantity: number) => void;\n    removeFromCart: (sku: string) => void;\n    clearCart: () => void;\n    processSale: (paymentMethod: string, customer?: Customer) => void;\n\n    // Queue\n    tickets: QueueTicket[];\n    generateTicket: (rut?: string) => QueueTicket;\n    callNextTicket: () => QueueTicket | null;\n}\n\nexport const usePharmaStore = create<PharmaState>()(\n    persist(\n        (set, get) => ({\n            // --- Auth ---\n            user: null,\n            login: (pin) => {\n                const employee = MOCK_EMPLOYEES.find(e => e.access_pin === pin);\n                if (employee) {\n                    set({ user: employee });\n                    return true;\n                }\n                return false;\n            },\n            logout: () => set({ user: null }),\n\n            // --- Inventory ---\n            inventory: MOCK_INVENTORY,\n            suppliers: MOCK_SUPPLIERS,\n            purchaseOrders: [],\n            updateStock: (batchId, quantity) => set((state) => ({\n                inventory: state.inventory.map(item =>\n                    item.id === batchId ? { ...item, stock_actual: item.stock_actual + quantity } : item\n                )\n            })),\n            addPurchaseOrder: (po) => set((state) => ({ purchaseOrders: [...state.purchaseOrders, po] })),\n            receivePurchaseOrder: (poId, receivedItems) => set((state) => {\n                // 1. Actualizar estado de la PO\n                const updatedPOs = state.purchaseOrders.map(po =>\n                    po.id === poId ? { ...po, status: 'COMPLETED' as const } : po\n                );\n\n                // 2. Actualizar Inventario (Simple: Sumar al primer lote encontrado del SKU o crear nuevo si no existe - Mock simplificado suma al existente)\n                const updatedInventory = [...state.inventory];\n                receivedItems.forEach(rec => {\n                    const itemIndex = updatedInventory.findIndex(i => i.sku === rec.sku);\n                    if (itemIndex >= 0) {\n                        updatedInventory[itemIndex] = {\n                            ...updatedInventory[itemIndex],\n                            stock_actual: updatedInventory[itemIndex].stock_actual + rec.received_qty\n                        };\n                    }\n                });\n\n                return { purchaseOrders: updatedPOs, inventory: updatedInventory };\n            }),\n\n            // --- POS ---\n            cart: [],\n            addToCart: (batch, quantity) => set((state) => {\n                const existingItem = state.cart.find(i => i.sku === batch.sku);\n                if (existingItem) {\n                    return {\n                        cart: state.cart.map(i => i.sku === batch.sku ? { ...i, quantity: i.quantity + quantity } : i)\n                    };\n                }\n                return {\n                    cart: [...state.cart, {\n                        batch_id: batch.id,\n                        sku: batch.sku,\n                        name: batch.name,\n                        price: batch.price,\n                        quantity: quantity,\n                        allows_commission: batch.allows_commission,\n                        active_ingredients: batch.active_ingredients\n                    }]\n                };\n            }),\n            removeFromCart: (sku) => set((state) => ({\n                cart: state.cart.filter(i => i.sku !== sku)\n            })),\n            clearCart: () => set({ cart: [] }),\n            processSale: (paymentMethod, customer) => {\n                const state = get();\n                // 1. Descontar Stock\n                const newInventory = state.inventory.map(item => {\n                    const cartItem = state.cart.find(c => c.sku === item.sku);\n                    if (cartItem) {\n                        return { ...item, stock_actual: item.stock_actual - cartItem.quantity };\n                    }\n                    return item;\n                });\n\n                // 2. (Opcional) Guardar transacción en historial (no implementado en store para MVP visual)\n                console.log('Venta Procesada:', { items: state.cart, total: state.cart.reduce((a, b) => a + b.price * b.quantity, 0), paymentMethod, customer });\n\n                set({ inventory: newInventory, cart: [] });\n            },\n\n            // --- Queue ---\n            tickets: [],\n            generateTicket: (rut) => {\n                const newTicket: QueueTicket = {\n                    id: Math.random().toString(36).substr(2, 9),\n                    number: `A-${Math.floor(Math.random() * 900) + 100}`,\n                    status: 'WAITING',\n                    rut,\n                    timestamp: Date.now()\n                };\n                set((state) => ({ tickets: [...state.tickets, newTicket] }));\n                return newTicket;\n            },\n            callNextTicket: () => {\n                const state = get();\n                const next = state.tickets.find(t => t.status === 'WAITING');\n                if (next) {\n                    set({\n                        tickets: state.tickets.map(t => t.id === next.id ? { ...t, status: 'CALLING' } : t)\n                    });\n                    return next;\n                }\n                return null;\n            }\n        }),\n        {\n            name: 'pharma-suit-storage',\n            storage: createJSONStorage(() => localStorage),\n        }\n    )\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/LandingPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { usePharmaStore } from '../store/useStore';\nimport { ShoppingCart, Truck, Users, Clock, Lock, ArrowRight } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nconst LandingPage: React.FC = () => {\n    const navigate = useNavigate();\n    const { login, user } = usePharmaStore();\n    const [pin, setPin] = useState('');\n    const [error, setError] = useState('');\n    const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);\n    const [targetRoute, setTargetRoute] = useState('');\n\n    const handleCardClick = (route: string) => {\n        if (user) {\n            navigate(route);\n        } else {\n            setTargetRoute(route);\n            setIsLoginModalOpen(true);\n        }\n    };\n\n    const handleLogin = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (login(pin)) {\n            setIsLoginModalOpen(false);\n            navigate(targetRoute || '/pos');\n        } else {\n            setError('PIN Incorrecto');\n        }\n    };\n\n    const BentoCard = ({ title, icon: Icon, color, route, desc }: any) => (\n        <motion.div\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            className={`relative overflow-hidden rounded-3xl p-8 cursor-pointer shadow-xl transition-all ${color} text-white group`}\n            onClick={() => handleCardClick(route)}\n        >\n            <div className=\"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity\">\n                <Icon size={120} />\n            </div>\n            <div className=\"relative z-10 flex flex-col h-full justify-between\">\n                <div>\n                    <div className=\"bg-white/20 w-12 h-12 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm\">\n                        <Icon size={24} />\n                    </div>\n                    <h3 className=\"text-2xl font-bold mb-2\">{title}</h3>\n                    <p className=\"text-white/80 text-sm font-medium\">{desc}</p>\n                </div>\n                <div className=\"flex items-center text-sm font-bold mt-4\">\n                    ACCEDER <ArrowRight size={16} className=\"ml-2\" />\n                </div>\n            </div>\n        </motion.div>\n    );\n\n    return (\n        <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6\">\n            <header className=\"mb-12 text-center\">\n                <h1 className=\"text-4xl font-extrabold text-slate-900 tracking-tight mb-2\">\n                    Farmacias <span className=\"text-cyan-600\">Vallenar</span> Suit\n                </h1>\n                <p className=\"text-slate-500 font-medium\">Sistema ERP Clínico Integral v2.1</p>\n            </header>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl w-full\">\n                {/* Kiosco (Público - No requiere login, pero en este flujo lo tratamos como módulo) */}\n                <BentoCard\n                    title=\"Kiosco de Filas\"\n                    icon={Users}\n                    color=\"bg-gradient-to-br from-indigo-500 to-purple-600\"\n                    route=\"/kiosk\"\n                    desc=\"Atención al cliente y tickets\"\n                />\n\n                {/* POS */}\n                <BentoCard\n                    title=\"Punto de Venta\"\n                    icon={ShoppingCart}\n                    color=\"bg-gradient-to-br from-emerald-500 to-teal-600\"\n                    route=\"/pos\"\n                    desc=\"Ventas, Recetas y Caja\"\n                />\n\n                {/* Logística */}\n                <BentoCard\n                    title=\"Cadena de Suministro\"\n                    icon={Truck}\n                    color=\"bg-gradient-to-br from-blue-500 to-cyan-600\"\n                    route=\"/supply\"\n                    desc=\"Inventario y Proveedores\"\n                />\n\n                {/* RRHH */}\n                <BentoCard\n                    title=\"Recursos Humanos\"\n                    icon={Clock}\n                    color=\"bg-gradient-to-br from-orange-400 to-red-500\"\n                    route=\"/hr\"\n                    desc=\"Personal y Asistencia\"\n                />\n            </div>\n\n            {/* Login Modal */}\n            {isLoginModalOpen && (\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n                    <motion.div\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md\"\n                    >\n                        <div className=\"text-center mb-8\">\n                            <div className=\"bg-cyan-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                <Lock className=\"text-cyan-700\" size={32} />\n                            </div>\n                            <h2 className=\"text-2xl font-bold text-slate-900\">Acceso Seguro</h2>\n                            <p className=\"text-slate-500\">Ingrese su PIN de funcionario</p>\n                        </div>\n\n                        <form onSubmit={handleLogin} className=\"space-y-6\">\n                            <div>\n                                <input\n                                    type=\"password\"\n                                    maxLength={4}\n                                    className=\"w-full text-center text-4xl tracking-[1em] font-bold py-4 border-b-4 border-slate-200 focus:border-cyan-600 focus:outline-none transition-colors text-slate-800 placeholder-slate-300\"\n                                    placeholder=\"••••\"\n                                    value={pin}\n                                    onChange={(e) => setPin(e.target.value)}\n                                    autoFocus\n                                />\n                            </div>\n\n                            {error && <p className=\"text-red-500 text-center font-medium\">{error}</p>}\n\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsLoginModalOpen(false)}\n                                    className=\"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition\"\n                                >\n                                    Cancelar\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className=\"py-3 rounded-xl font-bold bg-cyan-600 text-white hover:bg-cyan-700 shadow-lg shadow-cyan-200 transition\"\n                                >\n                                    Ingresar\n                                </button>\n                            </div>\n                        </form>\n\n                        <div className=\"mt-8 text-center text-xs text-slate-400\">\n                            <p>Pines Demo: 1234 (QF), 0000 (Caja), 9999 (Admin)</p>\n                        </div>\n                    </motion.div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default LandingPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/clinical/ClinicalSidebar.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { AlertTriangle, Clock, RefreshCw, XCircle } from 'lucide-react';\nimport { ClinicalAnalysisResult } from '../../../domain/types';\n\ninterface ClinicalSidebarProps {\n    analysis: ClinicalAnalysisResult | null;\n    lastChecked: number;\n}\n\nconst ClinicalSidebar: React.FC<ClinicalSidebarProps> = ({ analysis, lastChecked }) => {\n    const statusColor = analysis?.status === 'BLOCK' ? 'bg-red-600' : analysis?.status === 'WARNING' ? 'bg-amber-500' : 'bg-emerald-600';\n\n    return (\n        <div className=\"w-full p-4 bg-slate-800 rounded-xl shadow-lg h-full flex flex-col\">\n            <h3 className=\"text-lg font-bold text-cyan-500 mb-4 flex items-center\">\n                <RefreshCw size={16} className=\"mr-2\" /> Agente Clínico IA (Copilot)\n            </h3>\n\n            {/* Indicador de Estado */}\n            <div className={`p-3 rounded-lg text-white ${statusColor} mb-4 flex items-start`}>\n                {analysis?.status === 'BLOCK' && <XCircle size={20} className=\"mt-1 mr-3\" />}\n                {analysis?.status === 'WARNING' && <AlertTriangle size={20} className=\"mt-1 mr-3\" />}\n                <p className=\"text-sm font-semibold\">{analysis?.message || 'Añade items para análisis en tiempo real.'}</p>\n            </div>\n\n            {/* Sugerencias */}\n            {analysis?.suggested_items && analysis.suggested_items.length > 0 && (\n                <div className=\"p-3 bg-slate-700 rounded-lg mt-auto\">\n                    <p className=\"text-xs text-cyan-300 font-semibold mb-1\">Sugerencias (Cross-selling):</p>\n                    <ul className=\"text-sm text-white\">\n                        {analysis.suggested_items.map((item, index) => (\n                            <li key={index} className=\"flex items-center\">\n                                • {item}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n\n            {/* Footer de Trazabilidad */}\n            <div className=\"mt-4 pt-3 border-t border-slate-700\">\n                <p className=\"text-xs text-slate-400 flex items-center\">\n                    <Clock size={12} className=\"mr-1\" /> Último chequeo: {new Date(lastChecked).toLocaleTimeString('es-CL')}\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default ClinicalSidebar;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;;;AAQA,MAAM,kBAAkD,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE;IAC9E,MAAM,cAAc,UAAU,WAAW,UAAU,eAAe,UAAU,WAAW,YAAY,iBAAiB;IAEpH,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;;kCACV,6LAAC,gOAAS;wBAAC,MAAM;wBAAI,WAAU;;;;;;oBAAS;;;;;;;0BAI5C,6LAAC;gBAAI,WAAW,CAAC,0BAA0B,EAAE,YAAY,sBAAsB,CAAC;;oBAC3E,UAAU,WAAW,yBAAW,6LAAC,0NAAO;wBAAC,MAAM;wBAAI,WAAU;;;;;;oBAC7D,UAAU,WAAW,2BAAa,6LAAC,4OAAa;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCACtE,6LAAC;wBAAE,WAAU;kCAAyB,UAAU,WAAW;;;;;;;;;;;;YAI9D,UAAU,mBAAmB,SAAS,eAAe,CAAC,MAAM,GAAG,mBAC5D,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;kCAA2C;;;;;;kCACxD,6LAAC;wBAAG,WAAU;kCACT,SAAS,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,sBACjC,6LAAC;gCAAe,WAAU;;oCAAoB;oCACvC;;+BADE;;;;;;;;;;;;;;;;0BASzB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAE,WAAU;;sCACT,6LAAC,gNAAK;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAS;wBAAkB,IAAI,KAAK,aAAa,kBAAkB,CAAC;;;;;;;;;;;;;;;;;;AAKnH;KAtCM;uCAwCS"}},
    {"offset": {"line": 881, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/domain/logic/clinicalAgent.ts"],"sourcesContent":["import { Customer, SaleItem, ClinicalAnalysisResult } from '../types';\n\n// Base de conocimientos simplificada para MVP\nconst CONTRAINDICATIONS = {\n    HYPERTENSION: ['Pseudoefedrina', 'Fenilefrina', 'Sodio'],\n    PREGNANT: ['Ibuprofeno', 'Naproxeno', 'Isotretinoína', 'Warfarina'],\n    DIABETIC: ['Jarabe con Azúcar', 'Dextrometorfano (con azúcar)'],\n};\n\nconst CROSS_SELLING_RULES = [\n    { trigger: 'Antibiótico', suggestion: 'Probiótico (Bioflora/Perenteryl) para proteger flora intestinal.' },\n    { trigger: 'Pañales', suggestion: 'Crema para coceduras (Hipoglós/Pasta Lassar).' },\n    { trigger: 'Cepillo Dental', suggestion: 'Pasta Dental o Hilo Dental.' },\n    { trigger: 'Invierno', suggestion: 'Vitamina C o Propóleo.' }, // Ejemplo estacional\n];\n\nexport const ClinicalAgent = {\n    /**\n     * Analiza el carrito en busca de interacciones peligrosas con el perfil del paciente.\n     */\n    analyzeCart(cart: SaleItem[], customer?: Customer): ClinicalAnalysisResult {\n        let result: ClinicalAnalysisResult = { status: 'SAFE', message: 'Análisis Clínico: OK' };\n        const blockingItems: string[] = [];\n        const suggestedItems: string[] = [];\n\n        // 1. Análisis de Contraindicaciones (Solo si hay cliente identificado)\n        if (customer) {\n            cart.forEach(item => {\n                // Revisar Hipertensión\n                if (customer.health_tags.includes('HYPERTENSION')) {\n                    const conflict = CONTRAINDICATIONS.HYPERTENSION.find(drug => item.name.includes(drug) || item.active_ingredients?.includes(drug));\n                    if (conflict) {\n                        blockingItems.push(`${item.name} (Contiene ${conflict})`);\n                    }\n                }\n\n                // Revisar Embarazo\n                if (customer.health_tags.includes('PREGNANT')) {\n                    const conflict = CONTRAINDICATIONS.PREGNANT.find(drug => item.name.includes(drug) || item.active_ingredients?.includes(drug));\n                    if (conflict) {\n                        blockingItems.push(`${item.name} (Riesgo en Embarazo: ${conflict})`);\n                    }\n                }\n\n                // Revisar Diabetes\n                if (customer.health_tags.includes('DIABETIC')) {\n                    const conflict = CONTRAINDICATIONS.DIABETIC.find(drug => item.name.includes(drug));\n                    if (conflict) {\n                        blockingItems.push(`${item.name} (No apto para diabéticos)`);\n                    }\n                }\n            });\n        }\n\n        // 2. Lógica de Cross-Selling (Independiente del cliente)\n        cart.forEach(item => {\n            CROSS_SELLING_RULES.forEach(rule => {\n                if (item.name.includes(rule.trigger) || item.active_ingredients?.includes(rule.trigger)) {\n                    if (!suggestedItems.includes(rule.suggestion)) {\n                        suggestedItems.push(rule.suggestion);\n                    }\n                }\n            });\n        });\n\n        // 3. Construir Resultado\n        if (blockingItems.length > 0) {\n            result.status = 'BLOCK';\n            result.message = `⛔ ALERTA DE SEGURIDAD: Interacción detectada.`;\n            result.blocking_items = blockingItems;\n        } else if (suggestedItems.length > 0) {\n            // Si es seguro pero hay sugerencias, cambiamos mensaje (opcional, mantenemos SAFE si no hay warning)\n            result.message = 'Venta Segura. Ver sugerencias.';\n        }\n\n        result.suggested_items = suggestedItems;\n        return result;\n    }\n};\n"],"names":[],"mappings":";;;;AAEA,8CAA8C;AAC9C,MAAM,oBAAoB;IACtB,cAAc;QAAC;QAAkB;QAAe;KAAQ;IACxD,UAAU;QAAC;QAAc;QAAa;QAAiB;KAAY;IACnE,UAAU;QAAC;QAAqB;KAA+B;AACnE;AAEA,MAAM,sBAAsB;IACxB;QAAE,SAAS;QAAe,YAAY;IAAmE;IACzG;QAAE,SAAS;QAAW,YAAY;IAAgD;IAClF;QAAE,SAAS;QAAkB,YAAY;IAA8B;IACvE;QAAE,SAAS;QAAY,YAAY;IAAyB;CAC/D;AAEM,MAAM,gBAAgB;IACzB;;KAEC,GACD,aAAY,IAAgB,EAAE,QAAmB;QAC7C,IAAI,SAAiC;YAAE,QAAQ;YAAQ,SAAS;QAAuB;QACvF,MAAM,gBAA0B,EAAE;QAClC,MAAM,iBAA2B,EAAE;QAEnC,uEAAuE;QACvE,IAAI,UAAU;YACV,KAAK,OAAO,CAAC,CAAA;gBACT,uBAAuB;gBACvB,IAAI,SAAS,WAAW,CAAC,QAAQ,CAAC,iBAAiB;oBAC/C,MAAM,WAAW,kBAAkB,YAAY,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,KAAK,kBAAkB,EAAE,SAAS;oBAC3H,IAAI,UAAU;wBACV,cAAc,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;oBAC5D;gBACJ;gBAEA,mBAAmB;gBACnB,IAAI,SAAS,WAAW,CAAC,QAAQ,CAAC,aAAa;oBAC3C,MAAM,WAAW,kBAAkB,QAAQ,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,KAAK,kBAAkB,EAAE,SAAS;oBACvH,IAAI,UAAU;wBACV,cAAc,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;oBACvE;gBACJ;gBAEA,mBAAmB;gBACnB,IAAI,SAAS,WAAW,CAAC,QAAQ,CAAC,aAAa;oBAC3C,MAAM,WAAW,kBAAkB,QAAQ,CAAC,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC;oBAC5E,IAAI,UAAU;wBACV,cAAc,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,0BAA0B,CAAC;oBAC/D;gBACJ;YACJ;QACJ;QAEA,yDAAyD;QACzD,KAAK,OAAO,CAAC,CAAA;YACT,oBAAoB,OAAO,CAAC,CAAA;gBACxB,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,OAAO,KAAK,KAAK,kBAAkB,EAAE,SAAS,KAAK,OAAO,GAAG;oBACrF,IAAI,CAAC,eAAe,QAAQ,CAAC,KAAK,UAAU,GAAG;wBAC3C,eAAe,IAAI,CAAC,KAAK,UAAU;oBACvC;gBACJ;YACJ;QACJ;QAEA,yBAAyB;QACzB,IAAI,cAAc,MAAM,GAAG,GAAG;YAC1B,OAAO,MAAM,GAAG;YAChB,OAAO,OAAO,GAAG,CAAC,6CAA6C,CAAC;YAChE,OAAO,cAAc,GAAG;QAC5B,OAAO,IAAI,eAAe,MAAM,GAAG,GAAG;YAClC,qGAAqG;YACrG,OAAO,OAAO,GAAG;QACrB;QAEA,OAAO,eAAe,GAAG;QACzB,OAAO;IACX;AACJ"}},
    {"offset": {"line": 987, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/POSMainScreen.tsx"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from 'react';\nimport { usePharmaStore } from '../store/useStore';\nimport { Search, Plus, X, Tag, CreditCard, Banknote, Smartphone, AlertTriangle, ShoppingCart } from 'lucide-react';\nimport ClinicalSidebar from './clinical/ClinicalSidebar';\nimport { ClinicalAgent } from '../../domain/logic/clinicalAgent';\nimport { Customer, HealthTag } from '../../domain/types';\n\nconst POSMainScreen: React.FC = () => {\n    const { inventory, cart, addToCart, removeFromCart, processSale, user, clearCart } = usePharmaStore();\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);\n    const [paymentMethod, setPaymentMethod] = useState<'CASH' | 'DEBIT' | 'TRANSFER'>('CASH');\n    const [transferId, setTransferId] = useState('');\n\n    // Mock Customer for MVP (In real app, this comes from CRM lookup)\n    const [customer, setCustomer] = useState<Customer>({\n        rut: '11.111.111-1',\n        name: 'Javiera Pérez',\n        age: 35,\n        health_tags: ['PREGNANT']\n    });\n\n    const filteredInventory = inventory.filter(item =>\n        item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.dci.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.sku.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // Clinical Analysis\n    const clinicalAnalysis = ClinicalAgent.analyzeCart(cart, customer);\n    const cartTotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n    const handlePayment = () => {\n        if (paymentMethod === 'TRANSFER' && !transferId) {\n            alert('Debe ingresar el ID de transacción');\n            return;\n        }\n        processSale(paymentMethod, customer);\n        setIsPaymentModalOpen(false);\n        setTransferId('');\n        alert('¡Venta Exitosa! Boleta generada.');\n    };\n\n    return (\n        <div className=\"grid grid-cols-12 gap-6 h-[calc(100vh-80px)] p-6 bg-slate-100\">\n\n            {/* COL 1: Catálogo (5 cols) */}\n            <div className=\"col-span-5 flex flex-col bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden\">\n                <div className=\"p-6 border-b border-slate-100\">\n                    <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Catálogo</h2>\n                    <div className=\"relative\">\n                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\" size={20} />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Buscar por Nombre, SKU o DCI...\"\n                            className=\"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none transition-colors font-medium\"\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"flex-1 overflow-y-auto p-6 grid grid-cols-2 gap-4 content-start\">\n                    {filteredInventory.map(item => (\n                        <div\n                            key={item.id}\n                            onClick={() => addToCart(item, 1)}\n                            className=\"group p-4 rounded-2xl border border-slate-100 bg-white hover:border-cyan-200 hover:shadow-md transition-all cursor-pointer flex flex-col justify-between\"\n                        >\n                            <div>\n                                <div className=\"flex justify-between items-start mb-2\">\n                                    <span className={`text-[10px] font-bold px-2 py-1 rounded-full ${item.category === 'MEDICAMENTO' ? 'bg-blue-50 text-blue-600' : 'bg-pink-50 text-pink-600'}`}>\n                                        {item.category.substring(0, 3)}\n                                    </span>\n                                    <span className=\"text-xs font-mono text-slate-400\">{item.sku}</span>\n                                </div>\n                                <h3 className=\"font-bold text-slate-700 leading-tight mb-1 group-hover:text-cyan-700 transition-colors\">{item.name}</h3>\n                                <p className=\"text-xs text-slate-500 mb-3\">{item.dci}</p>\n                            </div>\n                            <div className=\"flex justify-between items-end\">\n                                <span className=\"text-lg font-bold text-slate-900\">${item.price.toLocaleString('es-CL')}</span>\n                                <div className=\"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center group-hover:bg-cyan-600 group-hover:text-white transition-colors\">\n                                    <Plus size={16} />\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* COL 2: Clinical Copilot (3 cols) */}\n            <div className=\"col-span-3\">\n                <ClinicalSidebar analysis={clinicalAnalysis} lastChecked={Date.now()} />\n            </div>\n\n            {/* COL 3: Carrito (4 cols) */}\n            <div className=\"col-span-4 flex flex-col bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden\">\n                <div className=\"p-6 bg-slate-50 border-b border-slate-100 flex justify-between items-center\">\n                    <div>\n                        <h2 className=\"text-xl font-bold text-slate-800\">Carrito Actual</h2>\n                        <p className=\"text-sm text-slate-500\">Cliente: {customer.name}</p>\n                    </div>\n                    <div className=\"flex gap-1\">\n                        {customer.health_tags.map(tag => (\n                            <span key={tag} className=\"text-[10px] bg-red-100 text-red-600 px-2 py-1 rounded-full font-bold\">\n                                {tag}\n                            </span>\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n                    {cart.length === 0 ? (\n                        <div className=\"h-full flex flex-col items-center justify-center text-slate-400 opacity-50\">\n                            <ShoppingCart size={48} className=\"mb-4\" />\n                            <p>Carrito vacío</p>\n                        </div>\n                    ) : (\n                        cart.map((item, idx) => (\n                            <div key={idx} className=\"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100\">\n                                <div className=\"flex-1\">\n                                    <h4 className=\"font-bold text-slate-700 text-sm\">{item.name}</h4>\n                                    <div className=\"flex items-center gap-2 mt-1\">\n                                        <span className=\"text-xs text-slate-500\">{item.quantity} x ${item.price.toLocaleString()}</span>\n                                        {item.allows_commission && <Tag size={12} className=\"text-emerald-500\" />}\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center gap-3\">\n                                    <span className=\"font-bold text-slate-900\">${(item.price * item.quantity).toLocaleString()}</span>\n                                    <button onClick={() => removeFromCart(item.sku)} className=\"text-slate-400 hover:text-red-500 transition-colors\">\n                                        <X size={18} />\n                                    </button>\n                                </div>\n                            </div>\n                        ))\n                    )}\n                </div>\n\n                <div className=\"p-6 bg-slate-50 border-t border-slate-200\">\n                    <div className=\"flex justify-between items-end mb-6\">\n                        <span className=\"text-slate-500 font-medium\">Total a Pagar</span>\n                        <span className=\"text-3xl font-extrabold text-slate-900\">${cartTotal.toLocaleString('es-CL')}</span>\n                    </div>\n\n                    <button\n                        onClick={() => setIsPaymentModalOpen(true)}\n                        disabled={cart.length === 0 || clinicalAnalysis.status === 'BLOCK'}\n                        className={`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2\n                            ${clinicalAnalysis.status === 'BLOCK'\n                                ? 'bg-slate-200 text-slate-400 cursor-not-allowed'\n                                : 'bg-emerald-600 text-white hover:bg-emerald-700 shadow-emerald-200'\n                            }`}\n                    >\n                        {clinicalAnalysis.status === 'BLOCK' ? '⛔ VENTA BLOQUEADA' : 'PAGAR AHORA'}\n                    </button>\n                </div>\n            </div>\n\n            {/* Payment Modal */}\n            {isPaymentModalOpen && (\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n                    <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden\">\n                        <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n                            <h3 className=\"text-xl font-bold text-slate-800\">Finalizar Venta</h3>\n                            <button onClick={() => setIsPaymentModalOpen(false)}><X className=\"text-slate-400\" /></button>\n                        </div>\n\n                        <div className=\"p-6\">\n                            <div className=\"grid grid-cols-3 gap-4 mb-8\">\n                                <button\n                                    onClick={() => setPaymentMethod('CASH')}\n                                    className={`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${paymentMethod === 'CASH' ? 'border-emerald-500 bg-emerald-50 text-emerald-700' : 'border-slate-100 text-slate-400'}`}\n                                >\n                                    <Banknote size={24} />\n                                    <span className=\"text-xs font-bold\">EFECTIVO</span>\n                                </button>\n                                <button\n                                    onClick={() => setPaymentMethod('DEBIT')}\n                                    className={`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${paymentMethod === 'DEBIT' ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-slate-100 text-slate-400'}`}\n                                >\n                                    <CreditCard size={24} />\n                                    <span className=\"text-xs font-bold\">TARJETA</span>\n                                </button>\n                                <button\n                                    onClick={() => setPaymentMethod('TRANSFER')}\n                                    className={`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${paymentMethod === 'TRANSFER' ? 'border-purple-500 bg-purple-50 text-purple-700' : 'border-slate-100 text-slate-400'}`}\n                                >\n                                    <Smartphone size={24} />\n                                    <span className=\"text-xs font-bold\">TRANSF.</span>\n                                </button>\n                            </div>\n\n                            {paymentMethod === 'TRANSFER' && (\n                                <div className=\"mb-6 animate-in fade-in slide-in-from-top-2\">\n                                    <label className=\"block text-sm font-bold text-slate-700 mb-2\">ID de Transacción</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-purple-500 focus:outline-none\"\n                                        placeholder=\"Ej: 12345678\"\n                                        value={transferId}\n                                        onChange={(e) => setTransferId(e.target.value)}\n                                    />\n                                    <p className=\"text-xs text-slate-400 mt-2 flex items-center\"><AlertTriangle size={12} className=\"mr-1\" /> Verifique el comprobante antes de confirmar.</p>\n                                </div>\n                            )}\n\n                            <button\n                                onClick={handlePayment}\n                                className=\"w-full py-4 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-colors\"\n                            >\n                                Confirmar Pago (${cartTotal.toLocaleString()})\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default POSMainScreen;\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;;AAQA,MAAM,gBAA0B;;IAC5B,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,cAAc,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,6JAAc;IACnG,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgC;IAClF,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,kEAAkE;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAW;QAC/C,KAAK;QACL,MAAM;QACN,KAAK;QACL,aAAa;YAAC;SAAW;IAC7B;IAEA,MAAM,oBAAoB,UAAU,MAAM,CAAC,CAAA,OACvC,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACvD,KAAK,GAAG,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACtD,KAAK,GAAG,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG1D,oBAAoB;IACpB,MAAM,mBAAmB,2JAAa,CAAC,WAAW,CAAC,MAAM;IACzD,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAE/E,MAAM,gBAAgB;QAClB,IAAI,kBAAkB,cAAc,CAAC,YAAY;YAC7C,MAAM;YACN;QACJ;QACA,YAAY,eAAe;QAC3B,sBAAsB;QACtB,cAAc;QACd,MAAM;IACV;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAGX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,mNAAM;wCAAC,WAAU;wCAA0D,MAAM;;;;;;kDAClF,6LAAC;wCACG,MAAK;wCACL,aAAY;wCACZ,WAAU;wCACV,OAAO;wCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;kCAKzD,6LAAC;wBAAI,WAAU;kCACV,kBAAkB,GAAG,CAAC,CAAA,qBACnB,6LAAC;gCAEG,SAAS,IAAM,UAAU,MAAM;gCAC/B,WAAU;;kDAEV,6LAAC;;0DACG,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAK,WAAW,CAAC,6CAA6C,EAAE,KAAK,QAAQ,KAAK,gBAAgB,6BAA6B,4BAA4B;kEACvJ,KAAK,QAAQ,CAAC,SAAS,CAAC,GAAG;;;;;;kEAEhC,6LAAC;wDAAK,WAAU;kEAAoC,KAAK,GAAG;;;;;;;;;;;;0DAEhE,6LAAC;gDAAG,WAAU;0DAA2F,KAAK,IAAI;;;;;;0DAClH,6LAAC;gDAAE,WAAU;0DAA+B,KAAK,GAAG;;;;;;;;;;;;kDAExD,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;;oDAAmC;oDAAE,KAAK,KAAK,CAAC,cAAc,CAAC;;;;;;;0DAC/E,6LAAC;gDAAI,WAAU;0DACX,cAAA,6LAAC,6MAAI;oDAAC,MAAM;;;;;;;;;;;;;;;;;;+BAjBf,KAAK,EAAE;;;;;;;;;;;;;;;;0BA0B5B,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,+KAAe;oBAAC,UAAU;oBAAkB,aAAa,KAAK,GAAG;;;;;;;;;;;0BAItE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,6LAAC;wCAAE,WAAU;;4CAAyB;4CAAU,SAAS,IAAI;;;;;;;;;;;;;0CAEjE,6LAAC;gCAAI,WAAU;0CACV,SAAS,WAAW,CAAC,GAAG,CAAC,CAAA,oBACtB,6LAAC;wCAAe,WAAU;kDACrB;uCADM;;;;;;;;;;;;;;;;kCAOvB,6LAAC;wBAAI,WAAU;kCACV,KAAK,MAAM,KAAK,kBACb,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,yOAAY;oCAAC,MAAM;oCAAI,WAAU;;;;;;8CAClC,6LAAC;8CAAE;;;;;;;;;;;uEAGP,KAAK,GAAG,CAAC,CAAC,MAAM,oBACZ,6LAAC;gCAAc,WAAU;;kDACrB,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;0DAAoC,KAAK,IAAI;;;;;;0DAC3D,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAK,WAAU;;4DAA0B,KAAK,QAAQ;4DAAC;4DAAK,KAAK,KAAK,CAAC,cAAc;;;;;;;oDACrF,KAAK,iBAAiB,kBAAI,6LAAC,0MAAG;wDAAC,MAAM;wDAAI,WAAU;;;;;;;;;;;;;;;;;;kDAG5D,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;;oDAA2B;oDAAE,CAAC,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE,cAAc;;;;;;;0DACxF,6LAAC;gDAAO,SAAS,IAAM,eAAe,KAAK,GAAG;gDAAG,WAAU;0DACvD,cAAA,6LAAC,oMAAC;oDAAC,MAAM;;;;;;;;;;;;;;;;;;+BAXX;;;;;;;;;;kCAmBtB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAK,WAAU;kDAA6B;;;;;;kDAC7C,6LAAC;wCAAK,WAAU;;4CAAyC;4CAAE,UAAU,cAAc,CAAC;;;;;;;;;;;;;0CAGxF,6LAAC;gCACG,SAAS,IAAM,sBAAsB;gCACrC,UAAU,KAAK,MAAM,KAAK,KAAK,iBAAiB,MAAM,KAAK;gCAC3D,WAAW,CAAC;4BACR,EAAE,iBAAiB,MAAM,KAAK,UACxB,mDACA,qEACJ;0CAEL,iBAAiB,MAAM,KAAK,UAAU,sBAAsB;;;;;;;;;;;;;;;;;;YAMxE,oCACG,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6LAAC;oCAAO,SAAS,IAAM,sBAAsB;8CAAQ,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAGtE,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CACG,SAAS,IAAM,iBAAiB;4CAChC,WAAW,CAAC,yEAAyE,EAAE,kBAAkB,SAAS,sDAAsD,mCAAmC;;8DAE3M,6LAAC,yNAAQ;oDAAC,MAAM;;;;;;8DAChB,6LAAC;oDAAK,WAAU;8DAAoB;;;;;;;;;;;;sDAExC,6LAAC;4CACG,SAAS,IAAM,iBAAiB;4CAChC,WAAW,CAAC,yEAAyE,EAAE,kBAAkB,UAAU,6CAA6C,mCAAmC;;8DAEnM,6LAAC,mOAAU;oDAAC,MAAM;;;;;;8DAClB,6LAAC;oDAAK,WAAU;8DAAoB;;;;;;;;;;;;sDAExC,6LAAC;4CACG,SAAS,IAAM,iBAAiB;4CAChC,WAAW,CAAC,yEAAyE,EAAE,kBAAkB,aAAa,mDAAmD,mCAAmC;;8DAE5M,6LAAC,+NAAU;oDAAC,MAAM;;;;;;8DAClB,6LAAC;oDAAK,WAAU;8DAAoB;;;;;;;;;;;;;;;;;;gCAI3C,kBAAkB,4BACf,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAM,WAAU;sDAA8C;;;;;;sDAC/D,6LAAC;4CACG,MAAK;4CACL,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;sDAEjD,6LAAC;4CAAE,WAAU;;8DAAgD,6LAAC,4OAAa;oDAAC,MAAM;oDAAI,WAAU;;;;;;gDAAS;;;;;;;;;;;;;8CAIjH,6LAAC;oCACG,SAAS;oCACT,WAAU;;wCACb;wCACqB,UAAU,cAAc;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7E;GAnNM;;QACmF,6JAAc;;;KADjG;uCAqNS"}},
    {"offset": {"line": 1665, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/domain/logic/purchasingAgent.ts"],"sourcesContent":["import { InventoryBatch, PurchaseOrder, Supplier } from '../types';\n\nexport const PurchasingAgent = {\n    /**\n     * Calcula la velocidad de venta diaria (Mock simple para MVP).\n     * En producción, esto vendría de un análisis histórico de transacciones.\n     */\n    calculateDailyVelocity(sku: string): number {\n        // Simulación: Genera un número entre 0.5 y 5 unidades diarias\n        // Usamos el SKU para que sea determinista (mismo SKU siempre da mismo resultado)\n        const hash = sku.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n        return (hash % 10) / 2 + 0.5;\n    },\n\n    /**\n     * Genera sugerencias de reabastecimiento agrupadas por proveedor.\n     * Regla: Si Stock Actual < (Velocidad * LeadTime * 1.5 SafetyFactor), pedir para cubrir 15 días.\n     */\n    generateSuggestions(inventory: InventoryBatch[], suppliers: Supplier[]): PurchaseOrder[] {\n        const suggestions: PurchaseOrder[] = [];\n        const itemsBySupplier: { [supplierId: string]: any[] } = {};\n\n        inventory.forEach(item => {\n            const velocity = this.calculateDailyVelocity(item.sku);\n            const supplier = suppliers.find(s => s.id === item.supplier_id);\n            const leadTime = supplier ? supplier.lead_time_days : 3; // Default 3 días\n\n            const safetyStock = velocity * leadTime * 1.5;\n            const reorderPoint = safetyStock;\n\n            if (item.stock_actual <= reorderPoint) {\n                const daysToCover = 15;\n                const quantityToOrder = Math.ceil((velocity * daysToCover) - item.stock_actual + safetyStock);\n\n                if (quantityToOrder > 0) {\n                    if (!itemsBySupplier[item.supplier_id]) {\n                        itemsBySupplier[item.supplier_id] = [];\n                    }\n                    itemsBySupplier[item.supplier_id].push({\n                        sku: item.sku,\n                        name: item.name,\n                        quantity: quantityToOrder\n                    });\n                }\n            }\n        });\n\n        // Convertir agrupación a objetos PurchaseOrder\n        Object.keys(itemsBySupplier).forEach(supplierId => {\n            suggestions.push({\n                id: `PO-SUG-${Date.now()}-${supplierId.substring(0, 3)}`,\n                supplier_id: supplierId,\n                created_at: Date.now(),\n                status: 'SUGGESTED',\n                items: itemsBySupplier[supplierId],\n                total_estimated: 0 // Se calcularía con costos reales\n            });\n        });\n\n        return suggestions;\n    }\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,kBAAkB;IAC3B;;;KAGC,GACD,wBAAuB,GAAW;QAC9B,8DAA8D;QAC9D,iFAAiF;QACjF,MAAM,OAAO,IAAI,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,UAAU,CAAC,IAAI;QAC3E,OAAO,AAAC,OAAO,KAAM,IAAI;IAC7B;IAEA;;;KAGC,GACD,qBAAoB,SAA2B,EAAE,SAAqB;QAClE,MAAM,cAA+B,EAAE;QACvC,MAAM,kBAAmD,CAAC;QAE1D,UAAU,OAAO,CAAC,CAAA;YACd,MAAM,WAAW,IAAI,CAAC,sBAAsB,CAAC,KAAK,GAAG;YACrD,MAAM,WAAW,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,WAAW;YAC9D,MAAM,WAAW,WAAW,SAAS,cAAc,GAAG,GAAG,iBAAiB;YAE1E,MAAM,cAAc,WAAW,WAAW;YAC1C,MAAM,eAAe;YAErB,IAAI,KAAK,YAAY,IAAI,cAAc;gBACnC,MAAM,cAAc;gBACpB,MAAM,kBAAkB,KAAK,IAAI,CAAC,AAAC,WAAW,cAAe,KAAK,YAAY,GAAG;gBAEjF,IAAI,kBAAkB,GAAG;oBACrB,IAAI,CAAC,eAAe,CAAC,KAAK,WAAW,CAAC,EAAE;wBACpC,eAAe,CAAC,KAAK,WAAW,CAAC,GAAG,EAAE;oBAC1C;oBACA,eAAe,CAAC,KAAK,WAAW,CAAC,CAAC,IAAI,CAAC;wBACnC,KAAK,KAAK,GAAG;wBACb,MAAM,KAAK,IAAI;wBACf,UAAU;oBACd;gBACJ;YACJ;QACJ;QAEA,+CAA+C;QAC/C,OAAO,IAAI,CAAC,iBAAiB,OAAO,CAAC,CAAA;YACjC,YAAY,IAAI,CAAC;gBACb,IAAI,CAAC,OAAO,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,WAAW,SAAS,CAAC,GAAG,IAAI;gBACxD,aAAa;gBACb,YAAY,KAAK,GAAG;gBACpB,QAAQ;gBACR,OAAO,eAAe,CAAC,WAAW;gBAClC,iBAAiB,EAAE,kCAAkC;YACzD;QACJ;QAEA,OAAO;IACX;AACJ"}},
    {"offset": {"line": 1727, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/components/scm/BlindReceptionModal.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { Truck, Lock, Save } from 'lucide-react';\nimport { PurchaseOrder } from '../../../domain/types';\n\ninterface BlindReceptionModalProps {\n    order: PurchaseOrder;\n    onReceive: (order: PurchaseOrder, receivedItems: { sku: string; receivedQty: number }[]) => void;\n    onClose: () => void;\n}\n\nconst BlindReceptionModal: React.FC<BlindReceptionModalProps> = ({ order, onReceive, onClose }) => {\n    const [receivedQuantities, setReceivedQuantities] = useState<{ [sku: string]: number }>({});\n\n    const handleInputChange = (sku: string, value: string) => {\n        setReceivedQuantities(prev => ({\n            ...prev,\n            [sku]: parseInt(value) || 0\n        }));\n    };\n\n    const totalReceived = order.items.reduce((sum, item) => sum + (receivedQuantities[item.sku] || 0), 0);\n\n    // Comprobar si todas las cantidades han sido ingresadas manualmente\n    const isComplete = order.items.every(item => receivedQuantities[item.sku] !== undefined && receivedQuantities[item.sku] >= 0);\n\n    const inputStyle = \"w-full py-2 border-2 border-slate-400 rounded-lg text-center font-semibold text-lg text-slate-900\";\n\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white p-8 rounded-xl w-full max-w-2xl shadow-2xl\">\n                <h3 className=\"text-2xl font-bold text-slate-900 mb-6 flex items-center\">\n                    <Truck className=\"mr-3\" /> Recepción Ciega de Orden #{order.id}\n                </h3>\n\n                <p className=\"text-red-600 font-semibold mb-4 flex items-center\">\n                    <Lock size={18} className=\"mr-2\" /> La cantidad esperada (Expected Qty) NO es visible. Debe contar manualmente.\n                </p>\n\n                <div className=\"max-h-80 overflow-y-auto space-y-4 pr-2\">\n                    {order.items.map((item) => (\n                        <div key={item.sku} className=\"flex items-center justify-between border-b pb-3\">\n                            <p className=\"font-semibold text-slate-700 w-1/2\">{item.name}</p>\n                            <div className=\"w-1/3 ml-4\">\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Cantidad Real Recibida\"\n                                    className={inputStyle}\n                                    value={receivedQuantities[item.sku] || ''}\n                                    onChange={(e) => handleInputChange(item.sku, e.target.value)}\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"mt-8 pt-4 border-t border-slate-200\">\n                    <p className=\"text-xl font-bold text-slate-900 mb-4\">Total de Unidades Contadas: {totalReceived}</p>\n                    <button\n                        className=\"w-full py-3 bg-cyan-700 text-white font-bold rounded-xl hover:bg-cyan-800 transition disabled:opacity-50 flex items-center justify-center\"\n                        onClick={() => isComplete && onReceive(order, Object.entries(receivedQuantities).map(([sku, receivedQty]) => ({ sku, receivedQty })))}\n                        disabled={!isComplete}\n                    >\n                        <Save size={20} className=\"mr-2\" /> Confirmar Recepción Ciega\n                    </button>\n                    <button className=\"mt-2 w-full py-2 text-slate-600 hover:text-slate-900 transition\" onClick={onClose}>Cancelar</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default BlindReceptionModal;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;;;;;AASA,MAAM,sBAA0D,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE;;IAC1F,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAA4B,CAAC;IAEzF,MAAM,oBAAoB,CAAC,KAAa;QACpC,sBAAsB,CAAA,OAAQ,CAAC;gBAC3B,GAAG,IAAI;gBACP,CAAC,IAAI,EAAE,SAAS,UAAU;YAC9B,CAAC;IACL;IAEA,MAAM,gBAAgB,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,CAAC,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG;IAEnG,oEAAoE;IACpE,MAAM,aAAa,MAAM,KAAK,CAAC,KAAK,CAAC,CAAA,OAAQ,kBAAkB,CAAC,KAAK,GAAG,CAAC,KAAK,aAAa,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI;IAE3H,MAAM,aAAa;IAGnB,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;;sCACV,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBAAS;wBAA4B,MAAM,EAAE;;;;;;;8BAGlE,6LAAC;oBAAE,WAAU;;sCACT,6LAAC,6MAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAS;;;;;;;8BAGvC,6LAAC;oBAAI,WAAU;8BACV,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,qBACd,6LAAC;4BAAmB,WAAU;;8CAC1B,6LAAC;oCAAE,WAAU;8CAAsC,KAAK,IAAI;;;;;;8CAC5D,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCACG,MAAK;wCACL,aAAY;wCACZ,WAAW;wCACX,OAAO,kBAAkB,CAAC,KAAK,GAAG,CAAC,IAAI;wCACvC,UAAU,CAAC,IAAM,kBAAkB,KAAK,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;2BAR7D,KAAK,GAAG;;;;;;;;;;8BAe1B,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAE,WAAU;;gCAAwC;gCAA6B;;;;;;;sCAClF,6LAAC;4BACG,WAAU;4BACV,SAAS,IAAM,cAAc,UAAU,OAAO,OAAO,OAAO,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC,KAAK,YAAY,GAAK,CAAC;wCAAE;wCAAK;oCAAY,CAAC;4BAClI,UAAU,CAAC;;8CAEX,6LAAC,6MAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;gCAAS;;;;;;;sCAEvC,6LAAC;4BAAO,WAAU;4BAAkE,SAAS;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAK1H;GA5DM;KAAA;uCA8DS"}},
    {"offset": {"line": 1912, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/SupplyChainPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { usePharmaStore } from '../store/useStore';\nimport { PurchasingAgent } from '../../domain/logic/purchasingAgent';\nimport { Package, Truck, CheckCircle, AlertCircle, Plus } from 'lucide-react';\nimport BlindReceptionModal from '../components/scm/BlindReceptionModal';\n\nconst SupplyChainPage: React.FC = () => {\n    const { inventory, suppliers, purchaseOrders, addPurchaseOrder, receivePurchaseOrder } = usePharmaStore();\n    const [isReceptionModalOpen, setIsReceptionModalOpen] = useState(false);\n    const [selectedOrder, setSelectedOrder] = useState<any>(null);\n\n    // Run Purchasing Agent on mount\n    useEffect(() => {\n        const suggestions = PurchasingAgent.generateSuggestions(inventory, suppliers);\n        // In a real app, we would diff this with existing POs to avoid duplicates\n        // For MVP, we just log them or add them if empty\n        if (purchaseOrders.length === 0 && suggestions.length > 0) {\n            suggestions.forEach(po => addPurchaseOrder(po));\n        }\n    }, []);\n\n    const KanbanColumn = ({ title, status, color, icon: Icon }: any) => {\n        const orders = purchaseOrders.filter(po => po.status === status);\n\n        return (\n            <div className=\"flex-1 min-w-[300px] bg-slate-100 rounded-3xl p-4 flex flex-col h-full\">\n                <div className={`flex items-center gap-2 mb-4 px-2 ${color}`}>\n                    <Icon size={20} />\n                    <h3 className=\"font-bold text-slate-700\">{title}</h3>\n                    <span className=\"ml-auto bg-white/50 px-2 py-1 rounded-full text-xs font-bold\">{orders.length}</span>\n                </div>\n\n                <div className=\"flex-1 overflow-y-auto space-y-3\">\n                    {orders.map(po => (\n                        <div key={po.id} className=\"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-all cursor-pointer\">\n                            <div className=\"flex justify-between items-start mb-2\">\n                                <span className=\"text-xs font-mono text-slate-400\">{po.id}</span>\n                                <span className=\"text-xs font-bold text-slate-600\">{new Date(po.created_at).toLocaleDateString()}</span>\n                            </div>\n                            <h4 className=\"font-bold text-slate-800 mb-1\">{suppliers.find(s => s.id === po.supplier_id)?.name || 'Proveedor Desconocido'}</h4>\n                            <p className=\"text-sm text-slate-500 mb-3\">{po.items.length} Items</p>\n\n                            {status === 'SENT' && (\n                                <button\n                                    onClick={() => { setSelectedOrder(po); setIsReceptionModalOpen(true); }}\n                                    className=\"w-full py-2 bg-blue-600 text-white rounded-lg text-xs font-bold hover:bg-blue-700 transition\"\n                                >\n                                    RECEPCIONAR\n                                </button>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"h-screen p-6 bg-slate-50 flex flex-col\">\n            <header className=\"mb-8 flex justify-between items-center\">\n                <div>\n                    <h1 className=\"text-3xl font-extrabold text-slate-900\">Cadena de Suministro</h1>\n                    <p className=\"text-slate-500\">Gestión Inteligente de Abastecimiento</p>\n                </div>\n                <button className=\"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition shadow-lg\">\n                    <Plus size={20} /> Nueva Orden Manual\n                </button>\n            </header>\n\n            <div className=\"flex-1 flex gap-6 overflow-x-auto pb-4\">\n                <KanbanColumn title=\"Sugerido (IA)\" status=\"SUGGESTED\" color=\"text-purple-600\" icon={AlertCircle} />\n                <KanbanColumn title=\"Borrador\" status=\"DRAFT\" color=\"text-slate-600\" icon={Package} />\n                <KanbanColumn title=\"Enviado\" status=\"SENT\" color=\"text-blue-600\" icon={Truck} />\n                <KanbanColumn title=\"Completado\" status=\"COMPLETED\" color=\"text-emerald-600\" icon={CheckCircle} />\n            </div>\n\n            {isReceptionModalOpen && selectedOrder && (\n                <BlindReceptionModal\n                    order={selectedOrder}\n                    onClose={() => setIsReceptionModalOpen(false)}\n                    onReceive={(order, items) => {\n                        receivePurchaseOrder(order.id, items.map(i => ({ sku: i.sku, received_qty: i.receivedQty })));\n                        setIsReceptionModalOpen(false);\n                    }}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default SupplyChainPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2207, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/QueueKioskPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { usePharmaStore } from '../store/useStore';\nimport { Ticket, User, ChevronRight } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst QueueKioskPage: React.FC = () => {\n    const { generateTicket } = usePharmaStore();\n    const [step, setStep] = useState<'WELCOME' | 'RUT' | 'TICKET'>('WELCOME');\n    const [rut, setRut] = useState('');\n    const [ticket, setTicket] = useState<any>(null);\n\n    const handleRutSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        const newTicket = generateTicket(rut);\n        setTicket(newTicket);\n        setStep('TICKET');\n        // Auto-reset after 5 seconds\n        setTimeout(() => {\n            setStep('WELCOME');\n            setRut('');\n            setTicket(null);\n        }, 5000);\n    };\n\n    const KeypadButton = ({ value }: { value: string }) => (\n        <button\n            type=\"button\"\n            onClick={() => setRut(prev => prev + value)}\n            className=\"h-20 bg-slate-100 rounded-2xl text-2xl font-bold text-slate-700 hover:bg-cyan-100 hover:text-cyan-700 transition active:scale-95\"\n        >\n            {value}\n        </button>\n    );\n\n    return (\n        <div className=\"min-h-screen bg-slate-900 flex items-center justify-center p-8 overflow-hidden relative\">\n            {/* Background Decoration */}\n            <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden z-0\">\n                <div className=\"absolute -top-[20%] -left-[10%] w-[50%] h-[50%] bg-cyan-500/20 rounded-full blur-[100px]\" />\n                <div className=\"absolute top-[40%] -right-[10%] w-[40%] h-[40%] bg-purple-500/20 rounded-full blur-[100px]\" />\n            </div>\n\n            <div className=\"relative z-10 w-full max-w-2xl\">\n                <AnimatePresence mode=\"wait\">\n                    {step === 'WELCOME' && (\n                        <motion.div\n                            key=\"welcome\"\n                            initial={{ opacity: 0, scale: 0.9 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            exit={{ opacity: 0, scale: 1.1 }}\n                            className=\"bg-white rounded-[3rem] p-12 text-center shadow-2xl\"\n                        >\n                            <div className=\"bg-cyan-100 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce\">\n                                <Ticket size={64} className=\"text-cyan-600\" />\n                            </div>\n                            <h1 className=\"text-5xl font-extrabold text-slate-900 mb-4\">Bienvenido</h1>\n                            <p className=\"text-xl text-slate-500 mb-12\">Farmacias Vallenar</p>\n\n                            <button\n                                onClick={() => setStep('RUT')}\n                                className=\"w-full py-8 bg-cyan-600 text-white rounded-3xl text-3xl font-bold hover:bg-cyan-700 transition shadow-lg shadow-cyan-200 flex items-center justify-center gap-4\"\n                            >\n                                Sacar Número <ChevronRight size={32} />\n                            </button>\n                        </motion.div>\n                    )}\n\n                    {step === 'RUT' && (\n                        <motion.div\n                            key=\"rut\"\n                            initial={{ opacity: 0, x: 50 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            exit={{ opacity: 0, x: -50 }}\n                            className=\"bg-white rounded-[3rem] p-12 shadow-2xl\"\n                        >\n                            <h2 className=\"text-3xl font-bold text-center mb-8 text-slate-800\">Ingrese su RUT</h2>\n\n                            <div className=\"bg-slate-100 p-6 rounded-2xl mb-8 text-center\">\n                                <span className=\"text-4xl font-mono font-bold text-slate-900 tracking-widest\">\n                                    {rut || '________'}\n                                </span>\n                            </div>\n\n                            <form onSubmit={handleRutSubmit}>\n                                <div className=\"grid grid-cols-3 gap-4 mb-8\">\n                                    {[1, 2, 3, 4, 5, 6, 7, 8, 9].map(n => <KeypadButton key={n} value={n.toString()} />)}\n                                    <KeypadButton value=\"K\" />\n                                    <KeypadButton value=\"0\" />\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setRut(prev => prev.slice(0, -1))}\n                                        className=\"h-20 bg-red-100 rounded-2xl text-red-600 font-bold hover:bg-red-200 transition\"\n                                    >\n                                        DEL\n                                    </button>\n                                </div>\n\n                                <div className=\"flex gap-4\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setStep('WELCOME')}\n                                        className=\"flex-1 py-6 bg-slate-200 text-slate-600 rounded-2xl font-bold text-xl\"\n                                    >\n                                        Cancelar\n                                    </button>\n                                    <button\n                                        type=\"submit\"\n                                        disabled={rut.length < 8}\n                                        className=\"flex-[2] py-6 bg-cyan-600 text-white rounded-2xl font-bold text-xl disabled:opacity-50\"\n                                    >\n                                        Confirmar\n                                    </button>\n                                </div>\n                            </form>\n                        </motion.div>\n                    )}\n\n                    {step === 'TICKET' && ticket && (\n                        <motion.div\n                            key=\"ticket\"\n                            initial={{ opacity: 0, scale: 0.5 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            className=\"bg-white rounded-[3rem] p-12 text-center shadow-2xl border-t-[20px] border-cyan-500\"\n                        >\n                            <h2 className=\"text-2xl font-bold text-slate-400 mb-4\">Su Número es:</h2>\n                            <div className=\"text-9xl font-black text-slate-900 mb-8 tracking-tighter\">\n                                {ticket.number}\n                            </div>\n                            <p className=\"text-lg text-slate-500\">Por favor espere su turno en pantalla.</p>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </div>\n        </div>\n    );\n};\n\nexport default QueueKioskPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2560, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/AccessControlPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { User, Clock, Coffee, LogOut, CheckCircle } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\n// Mock Employees for Attendance Wall\nconst EMPLOYEES = [\n    { id: '1', name: 'Juan Pérez', role: 'QF', avatar: 'JP' },\n    { id: '2', name: 'María González', role: 'Caja', avatar: 'MG' },\n    { id: '3', name: 'Carlos Boss', role: 'Admin', avatar: 'CB' },\n    { id: '4', name: 'Ana Roja', role: 'Bodega', avatar: 'AR' },\n];\n\nconst AccessControlPage: React.FC = () => {\n    const [selectedEmployee, setSelectedEmployee] = useState<any>(null);\n    const [pin, setPin] = useState('');\n    const [status, setStatus] = useState<'IDLE' | 'SUCCESS'>('IDLE');\n    const [actionType, setActionType] = useState('');\n\n    const handlePinSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        // Mock validation\n        if (pin.length === 4) {\n            setStatus('SUCCESS');\n            setTimeout(() => {\n                setStatus('IDLE');\n                setSelectedEmployee(null);\n                setPin('');\n                setActionType('');\n            }, 3000);\n        }\n    };\n\n    const handleAction = (type: string) => {\n        setActionType(type);\n    };\n\n    return (\n        <div className=\"min-h-screen bg-slate-900 flex items-center justify-center p-8\">\n            <div className=\"w-full max-w-5xl\">\n                <header className=\"text-center mb-12\">\n                    <h1 className=\"text-4xl font-extrabold text-white mb-2\">Control de Asistencia</h1>\n                    <p className=\"text-slate-400 text-xl\">{new Date().toLocaleDateString('es-CL', { weekday: 'long', day: 'numeric', month: 'long' })}</p>\n                    <p className=\"text-cyan-400 text-3xl font-mono font-bold mt-2\">\n                        {new Date().toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit' })}\n                    </p>\n                </header>\n\n                {!selectedEmployee ? (\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n                        {EMPLOYEES.map(emp => (\n                            <motion.button\n                                key={emp.id}\n                                whileHover={{ scale: 1.05 }}\n                                whileTap={{ scale: 0.95 }}\n                                onClick={() => setSelectedEmployee(emp)}\n                                className=\"bg-slate-800 rounded-3xl p-8 flex flex-col items-center gap-4 hover:bg-slate-700 transition border border-slate-700 hover:border-cyan-500 group\"\n                            >\n                                <div className=\"w-24 h-24 rounded-full bg-slate-600 flex items-center justify-center text-2xl font-bold text-white group-hover:bg-cyan-600 transition-colors\">\n                                    {emp.avatar}\n                                </div>\n                                <div className=\"text-center\">\n                                    <h3 className=\"text-xl font-bold text-white\">{emp.name}</h3>\n                                    <p className=\"text-slate-400\">{emp.role}</p>\n                                </div>\n                            </motion.button>\n                        ))}\n                    </div>\n                ) : (\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.9 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"bg-white rounded-[3rem] p-12 max-w-2xl mx-auto shadow-2xl\"\n                    >\n                        {status === 'SUCCESS' ? (\n                            <div className=\"text-center py-12\">\n                                <CheckCircle size={80} className=\"text-emerald-500 mx-auto mb-6\" />\n                                <h2 className=\"text-3xl font-bold text-slate-900 mb-2\">¡Marca Registrada!</h2>\n                                <p className=\"text-xl text-slate-500\">Hola {selectedEmployee.name}, que tengas un buen turno.</p>\n                            </div>\n                        ) : (\n                            <>\n                                <div className=\"flex items-center gap-6 mb-8 pb-8 border-b border-slate-100\">\n                                    <div className=\"w-20 h-20 rounded-full bg-cyan-600 flex items-center justify-center text-2xl font-bold text-white\">\n                                        {selectedEmployee.avatar}\n                                    </div>\n                                    <div>\n                                        <h2 className=\"text-3xl font-bold text-slate-900\">{selectedEmployee.name}</h2>\n                                        <button onClick={() => setSelectedEmployee(null)} className=\"text-slate-400 hover:text-slate-600 font-medium\">\n                                            Cambiar Usuario\n                                        </button>\n                                    </div>\n                                </div>\n\n                                {!actionType ? (\n                                    <div className=\"grid grid-cols-2 gap-4\">\n                                        <button onClick={() => handleAction('IN')} className=\"p-6 bg-emerald-50 rounded-2xl border-2 border-emerald-100 hover:border-emerald-500 flex flex-col items-center gap-2 transition\">\n                                            <Clock size={32} className=\"text-emerald-600\" />\n                                            <span className=\"font-bold text-emerald-800\">ENTRADA</span>\n                                        </button>\n                                        <button onClick={() => handleAction('OUT')} className=\"p-6 bg-red-50 rounded-2xl border-2 border-red-100 hover:border-red-500 flex flex-col items-center gap-2 transition\">\n                                            <LogOut size={32} className=\"text-red-600\" />\n                                            <span className=\"font-bold text-red-800\">SALIDA</span>\n                                        </button>\n                                        <button onClick={() => handleAction('BREAK')} className=\"col-span-2 p-6 bg-orange-50 rounded-2xl border-2 border-orange-100 hover:border-orange-500 flex flex-col items-center gap-2 transition\">\n                                            <Coffee size={32} className=\"text-orange-600\" />\n                                            <span className=\"font-bold text-orange-800\">COLACIÓN</span>\n                                        </button>\n                                    </div>\n                                ) : (\n                                    <form onSubmit={handlePinSubmit}>\n                                        <h3 className=\"text-center text-xl font-bold text-slate-700 mb-6\">Ingrese su PIN para confirmar</h3>\n                                        <input\n                                            type=\"password\"\n                                            maxLength={4}\n                                            autoFocus\n                                            className=\"w-full text-center text-5xl tracking-[1em] font-bold py-6 border-b-4 border-slate-200 focus:border-cyan-600 focus:outline-none mb-8\"\n                                            value={pin}\n                                            onChange={(e) => setPin(e.target.value)}\n                                        />\n                                        <div className=\"grid grid-cols-2 gap-4\">\n                                            <button type=\"button\" onClick={() => setActionType('')} className=\"py-4 rounded-xl font-bold text-slate-500 bg-slate-100\">\n                                                Volver\n                                            </button>\n                                            <button type=\"submit\" className=\"py-4 rounded-xl font-bold text-white bg-cyan-600 hover:bg-cyan-700 shadow-lg\">\n                                                Confirmar\n                                            </button>\n                                        </div>\n                                    </form>\n                                )}\n                            </>\n                        )}\n                    </motion.div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default AccessControlPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2989, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/HRPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Search, User, FileText, DollarSign, Calculator } from 'lucide-react';\n\nconst EMPLOYEES = [\n    { id: '1', name: 'Juan Pérez', role: 'QF', salary: 1500000, type: 'Indefinido' },\n    { id: '2', name: 'María González', role: 'Caja', salary: 500000, type: 'Plazo Fijo' },\n    { id: '3', name: 'Carlos Boss', role: 'Admin', salary: 2500000, type: 'Indefinido' },\n];\n\nconst HRPage: React.FC = () => {\n    const [activeTab, setActiveTab] = useState<'DIRECTORY' | 'SIMULATOR'>('DIRECTORY');\n    const [simulatorData, setSimulatorData] = useState({ base: 500000, gratification: 0, commission: 0 });\n\n    const calculateSalary = () => {\n        const base = Number(simulatorData.base);\n        const grat = Math.min(base * 0.25, 158333); // Tope legal aprox\n        const comm = Number(simulatorData.commission);\n        const taxable = base + grat + comm;\n        const health = taxable * 0.07;\n        const pension = taxable * 0.11; // Promedio AFP\n        const liquid = taxable - health - pension;\n        return { taxable, health, pension, liquid, grat };\n    };\n\n    const simulation = calculateSalary();\n\n    return (\n        <div className=\"p-6 bg-slate-50 min-h-screen\">\n            <header className=\"mb-8\">\n                <h1 className=\"text-3xl font-extrabold text-slate-900\">Recursos Humanos</h1>\n                <p className=\"text-slate-500\">Gestión de Personal y Remuneraciones</p>\n            </header>\n\n            <div className=\"flex gap-4 mb-8\">\n                <button\n                    onClick={() => setActiveTab('DIRECTORY')}\n                    className={`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition ${activeTab === 'DIRECTORY' ? 'bg-slate-900 text-white shadow-lg' : 'bg-white text-slate-500 hover:bg-slate-100'}`}\n                >\n                    <User size={20} /> Directorio\n                </button>\n                <button\n                    onClick={() => setActiveTab('SIMULATOR')}\n                    className={`px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition ${activeTab === 'SIMULATOR' ? 'bg-slate-900 text-white shadow-lg' : 'bg-white text-slate-500 hover:bg-slate-100'}`}\n                >\n                    <Calculator size={20} /> Simulador Sueldo\n                </button>\n            </div>\n\n            {activeTab === 'DIRECTORY' && (\n                <div className=\"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden\">\n                    <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n                        <h2 className=\"text-xl font-bold text-slate-800\">Colaboradores Activos</h2>\n                        <div className=\"relative\">\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" size={18} />\n                            <input type=\"text\" placeholder=\"Buscar...\" className=\"pl-10 pr-4 py-2 bg-slate-50 rounded-lg border border-slate-200 focus:outline-none focus:border-cyan-500\" />\n                        </div>\n                    </div>\n                    <table className=\"w-full text-left\">\n                        <thead className=\"bg-slate-50 text-slate-500 font-bold text-sm\">\n                            <tr>\n                                <th className=\"p-6\">Nombre</th>\n                                <th className=\"p-6\">Cargo</th>\n                                <th className=\"p-6\">Contrato</th>\n                                <th className=\"p-6\">Sueldo Base</th>\n                                <th className=\"p-6\">Acciones</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-100\">\n                            {EMPLOYEES.map(emp => (\n                                <tr key={emp.id} className=\"hover:bg-slate-50 transition\">\n                                    <td className=\"p-6 font-bold text-slate-700\">{emp.name}</td>\n                                    <td className=\"p-6\">\n                                        <span className=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-xs font-bold\">{emp.role}</span>\n                                    </td>\n                                    <td className=\"p-6 text-slate-500\">{emp.type}</td>\n                                    <td className=\"p-6 font-mono text-slate-600\">${emp.salary.toLocaleString()}</td>\n                                    <td className=\"p-6\">\n                                        <button className=\"text-cyan-600 font-bold hover:underline text-sm\">Ver Ficha</button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n\n            {activeTab === 'SIMULATOR' && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                    <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-slate-200\">\n                        <h3 className=\"text-xl font-bold text-slate-800 mb-6\">Parámetros</h3>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-slate-700 mb-2\">Sueldo Base</label>\n                                <input\n                                    type=\"number\"\n                                    className=\"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none\"\n                                    value={simulatorData.base}\n                                    onChange={(e) => setSimulatorData({ ...simulatorData, base: Number(e.target.value) })}\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-slate-700 mb-2\">Comisiones Estimadas</label>\n                                <input\n                                    type=\"number\"\n                                    className=\"w-full p-3 border-2 border-slate-200 rounded-xl focus:border-cyan-500 focus:outline-none\"\n                                    value={simulatorData.commission}\n                                    onChange={(e) => setSimulatorData({ ...simulatorData, commission: Number(e.target.value) })}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"bg-slate-900 p-8 rounded-3xl text-white shadow-xl\">\n                        <h3 className=\"text-xl font-bold mb-6 flex items-center gap-2\"><DollarSign /> Resultado Simulado</h3>\n\n                        <div className=\"space-y-4\">\n                            <div className=\"flex justify-between text-slate-400\">\n                                <span>Sueldo Base</span>\n                                <span>${simulatorData.base.toLocaleString()}</span>\n                            </div>\n                            <div className=\"flex justify-between text-slate-400\">\n                                <span>Gratificación (Tope)</span>\n                                <span>${Math.round(simulation.grat).toLocaleString()}</span>\n                            </div>\n                            <div className=\"flex justify-between text-slate-400\">\n                                <span>Comisiones</span>\n                                <span>${simulatorData.commission.toLocaleString()}</span>\n                            </div>\n                            <div className=\"h-px bg-slate-700 my-4\" />\n                            <div className=\"flex justify-between text-emerald-400 font-bold text-lg\">\n                                <span>Total Haberes</span>\n                                <span>${Math.round(simulation.taxable).toLocaleString()}</span>\n                            </div>\n                            <div className=\"flex justify-between text-red-400 text-sm\">\n                                <span>Descuentos Legales (~18%)</span>\n                                <span>-${Math.round(simulation.health + simulation.pension).toLocaleString()}</span>\n                            </div>\n                            <div className=\"h-px bg-slate-700 my-4\" />\n                            <div className=\"flex justify-between text-3xl font-extrabold\">\n                                <span>Líquido a Pagar</span>\n                                <span>${Math.round(simulation.liquid).toLocaleString()}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default HRPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3628, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/presentation/pages/SettingsPage.tsx"],"sourcesContent":["import React from 'react';\nimport { Settings, User, Shield, Save } from 'lucide-react';\n\nconst SettingsPage: React.FC = () => {\n    return (\n        <div className=\"p-6 bg-slate-50 min-h-screen\">\n            <header className=\"mb-8\">\n                <h1 className=\"text-3xl font-extrabold text-slate-900\">Configuración</h1>\n                <p className=\"text-slate-500\">Administración del Sistema</p>\n            </header>\n\n            <div className=\"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden max-w-4xl\">\n                <div className=\"p-6 border-b border-slate-100\">\n                    <h2 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\n                        <User size={20} /> Gestión de Usuarios\n                    </h2>\n                </div>\n\n                <div className=\"p-8\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Nombre Completo</label>\n                            <input\n                                type=\"text\"\n                                className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium\"\n                                placeholder=\"Ej: Juan Pérez\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">RUT</label>\n                            <input\n                                type=\"text\"\n                                className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium\"\n                                placeholder=\"11.111.111-1\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Rol</label>\n                            <select className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium bg-white\">\n                                <option>Cajero/a</option>\n                                <option>Químico Farmacéutico (QF)</option>\n                                <option>Administrador</option>\n                                <option>Bodega</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-slate-700 mb-2\">PIN de Acceso (4 dígitos)</label>\n                            <input\n                                type=\"password\"\n                                maxLength={4}\n                                className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:border-cyan-600 focus:outline-none font-medium tracking-widest\"\n                                placeholder=\"••••\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                        <button className=\"px-8 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition shadow-lg flex items-center gap-2\">\n                            <Save size={20} /> Guardar Usuario\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default SettingsPage;\n"],"names":[],"mappings":";;;;;AACA;AAAA;;;AAEA,MAAM,eAAyB;IAC3B,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAO,WAAU;;kCACd,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,6LAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;0BAGlC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAG,WAAU;;8CACV,6LAAC,6MAAI;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;kCAI1B,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAA8C;;;;;;0DAC/D,6LAAC;gDACG,MAAK;gDACL,WAAU;gDACV,aAAY;;;;;;;;;;;;kDAGpB,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAA8C;;;;;;0DAC/D,6LAAC;gDACG,MAAK;gDACL,WAAU;gDACV,aAAY;;;;;;;;;;;;kDAGpB,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAA8C;;;;;;0DAC/D,6LAAC;gDAAO,WAAU;;kEACd,6LAAC;kEAAO;;;;;;kEACR,6LAAC;kEAAO;;;;;;kEACR,6LAAC;kEAAO;;;;;;kEACR,6LAAC;kEAAO;;;;;;;;;;;;;;;;;;kDAGhB,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAA8C;;;;;;0DAC/D,6LAAC;gDACG,MAAK;gDACL,WAAW;gDACX,WAAU;gDACV,aAAY;;;;;;;;;;;;;;;;;;0CAKxB,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAO,WAAU;;sDACd,6LAAC,6MAAI;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9C;KA9DM;uCAgES"}},
    {"offset": {"line": 3888, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/App.tsx"],"sourcesContent":["'use client';\nimport React, { useState } from 'react';\nimport { HashRouter as Router, Routes, Route, Link, useLocation, Navigate } from 'react-router-dom';\nimport { usePharmaStore } from './presentation/store/useStore';\nimport {\n    LayoutDashboard,\n    ShoppingCart,\n    Truck,\n    Users,\n    Clock,\n    Settings,\n    LogOut,\n    Menu,\n    X,\n    ChevronLeft,\n    ChevronRight\n} from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Pages\nimport LandingPage from './presentation/pages/LandingPage';\nimport POSMainScreen from './presentation/components/POSMainScreen';\nimport SupplyChainPage from './presentation/pages/SupplyChainPage';\nimport QueueKioskPage from './presentation/pages/QueueKioskPage';\nimport AccessControlPage from './presentation/pages/AccessControlPage';\nimport HRPage from './presentation/pages/HRPage';\nimport SettingsPage from './presentation/pages/SettingsPage';\n\nconst SidebarLayout = ({ children }: { children: React.ReactNode }) => {\n    const { user, logout } = usePharmaStore();\n    const location = useLocation();\n    const [isCollapsed, setIsCollapsed] = useState(false);\n\n    const MENU_ITEMS = [\n        { icon: ShoppingCart, label: 'Punto de Venta', path: '/pos' },\n        { icon: Truck, label: 'Abastecimiento', path: '/supply' },\n        { icon: Users, label: 'RR.HH.', path: '/hr' },\n        { icon: Settings, label: 'Configuración', path: '/settings' },\n    ];\n\n    if (!user) return <Navigate to=\"/\" />;\n\n    return (\n        <div className=\"flex h-screen bg-slate-100 overflow-hidden\">\n            {/* Sidebar */}\n            <motion.aside\n                initial={{ width: 280 }}\n                animate={{ width: isCollapsed ? 80 : 280 }}\n                className=\"bg-slate-900 text-white flex flex-col shadow-2xl z-20 relative\"\n            >\n                <div className=\"p-6 flex items-center justify-between\">\n                    {!isCollapsed && (\n                        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n                            <h1 className=\"font-extrabold text-xl tracking-tight\">Pharma<span className=\"text-cyan-400\">Suit</span></h1>\n                            <p className=\"text-xs text-slate-500\">v2.1 Enterprise</p>\n                        </motion.div>\n                    )}\n                    <button\n                        onClick={() => setIsCollapsed(!isCollapsed)}\n                        className=\"p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition\"\n                    >\n                        {isCollapsed ? <ChevronRight size={20} /> : <ChevronLeft size={20} />}\n                    </button>\n                </div>\n\n                <nav className=\"flex-1 px-4 space-y-2 mt-4\">\n                    {MENU_ITEMS.map((item) => {\n                        const isActive = location.pathname === item.path;\n                        return (\n                            <Link\n                                key={item.path}\n                                to={item.path}\n                                className={`flex items-center p-3 rounded-xl transition-all group relative\n                                    ${isActive\n                                        ? 'bg-cyan-600 text-white shadow-lg shadow-cyan-900/50'\n                                        : 'text-slate-400 hover:bg-slate-800 hover:text-white'\n                                    }`}\n                            >\n                                <item.icon size={24} className={`${isActive ? 'text-white' : 'text-slate-400 group-hover:text-white'} transition-colors`} />\n                                {!isCollapsed && (\n                                    <span className=\"ml-3 font-bold text-sm\">{item.label}</span>\n                                )}\n                                {isCollapsed && (\n                                    <div className=\"absolute left-full ml-4 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50\">\n                                        {item.label}\n                                    </div>\n                                )}\n                            </Link>\n                        );\n                    })}\n                </nav>\n\n                <div className=\"p-4 border-t border-slate-800\">\n                    <div className={`flex items-center ${isCollapsed ? 'justify-center' : 'gap-3'}`}>\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center font-bold text-white shadow-lg\">\n                            {user.name.charAt(0)}\n                        </div>\n                        {!isCollapsed && (\n                            <div className=\"flex-1 overflow-hidden\">\n                                <h4 className=\"font-bold text-sm truncate\">{user.name}</h4>\n                                <p className=\"text-xs text-slate-500 truncate\">{user.role}</p>\n                            </div>\n                        )}\n                        {!isCollapsed && (\n                            <button onClick={logout} className=\"text-slate-500 hover:text-red-400 transition\">\n                                <LogOut size={20} />\n                            </button>\n                        )}\n                    </div>\n                </div>\n            </motion.aside>\n\n            {/* Main Content */}\n            <main className=\"flex-1 overflow-hidden relative\">\n                {children}\n            </main>\n        </div>\n    );\n};\n\nconst App: React.FC = () => {\n    return (\n        <Router>\n            <Routes>\n                {/* Public / Fullscreen Routes */}\n                <Route path=\"/\" element={<LandingPage />} />\n                <Route path=\"/kiosk\" element={<QueueKioskPage />} />\n                <Route path=\"/access\" element={<AccessControlPage />} />\n\n                {/* Protected Routes with Sidebar */}\n                <Route path=\"/pos\" element={<SidebarLayout><POSMainScreen /></SidebarLayout>} />\n                <Route path=\"/supply\" element={<SidebarLayout><SupplyChainPage /></SidebarLayout>} />\n                <Route path=\"/hr\" element={<SidebarLayout><HRPage /></SidebarLayout>} />\n                <Route path=\"/settings\" element={<SidebarLayout><SettingsPage /></SidebarLayout>} />\n\n                {/* Fallback */}\n                <Route path=\"*\" element={<Navigate to=\"/\" />} />\n            </Routes>\n        </Router>\n    );\n};\n\nexport default App;\n"],"names":[],"mappings":"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"}}]
}