{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/components/finanzas/ExportButton.tsx"],"sourcesContent":["'use client';\n\nimport { Download } from 'lucide-react';\n\nexport default function ExportButton() {\n    const handleExport = () => {\n        alert('Simulaci√≥n: Descargando Libro de Ventas (Excel)...');\n        console.log('Exporting Sales Book...');\n    };\n\n    return (\n        <button\n            type=\"button\"\n            onClick={handleExport}\n            className=\"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50\"\n        >\n            <Download className=\"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n            Descargar Libro de Ventas\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,MAAM,eAAe;QACjB,MAAM;QACN,QAAQ,GAAG,CAAC;IAChB;IAEA,qBACI,8OAAC;QACG,MAAK;QACL,SAAS;QACT,WAAU;;0BAEV,8OAAC,sNAAQ;gBAAC,WAAU;gBAAuC,eAAY;;;;;;YAAS;;;;;;;AAI5F"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/lib/store/useAuthStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport type Role = 'ADMIN' | 'QF' | 'VENDEDOR';\n\ninterface User {\n    id: number;\n    username: string;\n    role: Role;\n}\n\ninterface AuthState {\n    user: User | null;\n    isAuthenticated: boolean;\n    role: Role | null;\n    login: (user: User) => void;\n    logout: () => void;\n}\n\nexport const useAuthStore = create<AuthState>()(\n    persist(\n        (set) => ({\n            user: null,\n            isAuthenticated: false,\n            role: null,\n            login: (user) => set({ user, isAuthenticated: true, role: user.role }),\n            logout: () => set({ user: null, isAuthenticated: false, role: null }),\n        }),\n        {\n            name: 'farmacias-vallenar-auth',\n        }\n    )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAkBO,MAAM,eAAe,IAAA,kJAAM,IAC9B,IAAA,wJAAO,EACH,CAAC,MAAQ,CAAC;QACN,MAAM;QACN,iBAAiB;QACjB,MAAM;QACN,OAAO,CAAC,OAAS,IAAI;gBAAE;gBAAM,iBAAiB;gBAAM,MAAM,KAAK,IAAI;YAAC;QACpE,QAAQ,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;gBAAO,MAAM;YAAK;IACvE,CAAC,GACD;IACI,MAAM;AACV"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/components/auth/RouteGuard.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuthStore, Role } from '@/lib/store/useAuthStore';\n\ninterface RouteGuardProps {\n    children: React.ReactNode;\n    allowedRoles?: Role[];\n}\n\nexport default function RouteGuard({ children, allowedRoles }: RouteGuardProps) {\n    const router = useRouter();\n    const { isAuthenticated, role } = useAuthStore();\n    const [authorized, setAuthorized] = useState(false);\n\n    useEffect(() => {\n        // Wait for hydration (zustand persist)\n        const checkAuth = () => {\n            if (!isAuthenticated) {\n                router.push('/login');\n                return;\n            }\n\n            if (allowedRoles && role && !allowedRoles.includes(role)) {\n                // Redirect to dashboard if role not allowed for this specific route\n                // Or maybe show unauthorized page. For now, dashboard.\n                router.push('/');\n                return;\n            }\n\n            setAuthorized(true);\n        };\n\n        checkAuth();\n    }, [isAuthenticated, role, router, allowedRoles]);\n\n    if (!authorized) {\n        return null; // Or a loading spinner\n    }\n\n    return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAmB;IAC1E,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,GAAG,IAAA,mJAAY;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACN,uCAAuC;QACvC,MAAM,YAAY;YACd,IAAI,CAAC,iBAAiB;gBAClB,OAAO,IAAI,CAAC;gBACZ;YACJ;YAEA,IAAI,gBAAgB,QAAQ,CAAC,aAAa,QAAQ,CAAC,OAAO;gBACtD,oEAAoE;gBACpE,uDAAuD;gBACvD,OAAO,IAAI,CAAC;gBACZ;YACJ;YAEA,cAAc;QAClB;QAEA;IACJ,GAAG;QAAC;QAAiB;QAAM;QAAQ;KAAa;IAEhD,IAAI,CAAC,YAAY;QACb,OAAO,MAAM,uBAAuB;IACxC;IAEA,qBAAO;kBAAG;;AACd"}}]
}