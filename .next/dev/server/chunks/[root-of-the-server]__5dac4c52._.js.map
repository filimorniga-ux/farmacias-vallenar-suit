{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg';\n\nconst pool = new Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl: { rejectUnauthorized: false },\n});\n\nexport async function query(text: string, params?: any[]) {\n    const start = Date.now();\n    const res = await pool.query(text, params);\n    const duration = Date.now() - start;\n    console.log('Executed query', { text, duration, rows: res.rowCount });\n    return res;\n}\n\nexport default pool;\n"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM,OAAO,IAAI,4GAAI,CAAC;IAClB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;IAC1C,KAAK;QAAE,oBAAoB;IAAM;AACrC;AAEO,eAAe,MAAM,IAAY,EAAE,MAAc;IACpD,MAAM,QAAQ,KAAK,GAAG;IACtB,MAAM,MAAM,MAAM,KAAK,KAAK,CAAC,MAAM;IACnC,MAAM,WAAW,KAAK,GAAG,KAAK;IAC9B,QAAQ,GAAG,CAAC,kBAAkB;QAAE;QAAM;QAAU,MAAM,IAAI,QAAQ;IAAC;IACnE,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/miguelperdomoserrato/farmacias-vallenar-suit/src/app/api/migrate/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport pool from '@/lib/db';\nimport fs from 'fs';\nimport path from 'path';\n\nexport async function GET() {\n    try {\n        const sqlPath = path.join(process.cwd(), 'src/lib/db/supply_schema.sql');\n        const sql = fs.readFileSync(sqlPath, 'utf8');\n\n        console.log('Ejecutando migración de Abastecimiento via API...');\n        await pool.query(sql);\n        console.log('Migración completada exitosamente.');\n\n        return NextResponse.json({ success: true, message: 'Migration executed successfully' });\n    } catch (error: any) {\n        console.error('Error durante la migración:', error);\n        return NextResponse.json({ success: false, error: error.message }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,UAAU,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;QACzC,MAAM,MAAM,wGAAE,CAAC,YAAY,CAAC,SAAS;QAErC,QAAQ,GAAG,CAAC;QACZ,MAAM,6HAAI,CAAC,KAAK,CAAC;QACjB,QAAQ,GAAG,CAAC;QAEZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAkC;IACzF,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrF;AACJ"}}]
}